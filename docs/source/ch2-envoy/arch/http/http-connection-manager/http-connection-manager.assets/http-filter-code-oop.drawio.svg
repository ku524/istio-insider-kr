<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1291px" height="1321px" viewBox="-0.5 -0.5 1291 1321" content="&lt;mxfile scale=&quot;1&quot; border=&quot;20&quot; host=&quot;Electron&quot; modified=&quot;2024-04-26T07:54:47.989Z&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.6.1 Chrome/112.0.5615.204 Electron/24.6.1 Safari/537.36&quot; version=&quot;21.6.1&quot; etag=&quot;kcwNxAd8zoyagU4FnfHx&quot; type=&quot;device&quot;&gt;&#10;  &lt;diagram id=&quot;WkvqENfwAIyccYFoGPen&quot; name=&quot;http-filter-code-oop.drawio.svg&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;2924&quot; dy=&quot;1242&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;850&quot; pageHeight=&quot;1100&quot; background=&quot;#ffffff&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;object label=&quot;&amp;lt;font style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;%page%&amp;lt;/font&amp;gt;&quot; placeholders=&quot;1&quot; a=&quot;b&quot; id=&quot;2&quot;&gt;&#10;          &lt;mxCell style=&quot;text;html=1;strokeColor=none;fillColor=#FFCCFF;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;glass=0;sketch=1;shadow=0;fontStyle=2;fontSize=12;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;            &lt;mxGeometry x=&quot;10&quot; y=&quot;1970&quot; width=&quot;290&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;          &lt;/mxCell&gt;&#10;        &lt;/object&gt;&#10;        &lt;mxCell id=&quot;10&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;&quot; parent=&quot;1&quot; source=&quot;14&quot; target=&quot;46&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;420&quot; y=&quot;960&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;225.05882352941217&quot; y=&quot;920&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;11&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;&quot; parent=&quot;1&quot; source=&quot;19&quot; target=&quot;46&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;90.05882352941171&quot; y=&quot;1030&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;225.05882352941217&quot; y=&quot;920&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;12&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;&quot; parent=&quot;1&quot; source=&quot;27&quot; target=&quot;19&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;260&quot; y=&quot;1210&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;235&quot; y=&quot;930&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;260&quot; y=&quot;1170&quot; /&gt;&#10;              &lt;mxPoint x=&quot;340&quot; y=&quot;1170&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;13&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;&quot; parent=&quot;1&quot; source=&quot;27&quot; target=&quot;14&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;230&quot; y=&quot;1210&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;350&quot; y=&quot;1110&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;230&quot; y=&quot;1150&quot; /&gt;&#10;              &lt;mxPoint x=&quot;130&quot; y=&quot;1150&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;14&quot; value=&quot;Http::StreamDecoderFilter&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-320&quot; y=&quot;1000&quot; width=&quot;500&quot; height=&quot;122&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;15&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; parent=&quot;14&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;500&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;16&quot; value=&quot;FilterHeadersStatus decodeHeaders(RequestHeaderMap&amp;amp; headers, bool end_stream)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;14&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;38&quot; width=&quot;500&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;17&quot; value=&quot;FilterDataStatus decodeData(Buffer::Instance&amp;amp; data, bool end_stream)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;14&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;70&quot; width=&quot;500&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;18&quot; value=&quot;FilterTrailersStatus decodeTrailers(RequestTrailerMap&amp;amp; trailers)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;14&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;96&quot; width=&quot;500&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;19&quot; value=&quot;StreamEncoderFilter&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;260&quot; y=&quot;940&quot; width=&quot;540&quot; height=&quot;200&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;20&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; parent=&quot;19&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;540&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;21&quot; value=&quot;FilterHeadersStatus encodeHeaders(ResponseHeaderMap&amp;amp; headers, bool end_stream)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;19&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;38&quot; width=&quot;540&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;22&quot; value=&quot;FilterDataStatus encodeData(Buffer::Instance&amp;amp; data, bool end_stream)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;19&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;70&quot; width=&quot;540&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;23&quot; value=&quot;FilterTrailersStatus encodeTrailers(ResponseTrailerMap&amp;amp; trailers)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;19&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;96&quot; width=&quot;540&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;24&quot; value=&quot;FilterMetadataStatus encodeMetadata(MetadataMap&amp;amp; metadata_map)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;19&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;122&quot; width=&quot;540&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;25&quot; value=&quot;setEncoderFilterCallbacks(StreamEncoderFilterCallbacks&amp;amp; callbacks)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;19&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;148&quot; width=&quot;540&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;26&quot; value=&quot;encodeComplete()&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;19&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;174&quot; width=&quot;540&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;27&quot; value=&quot;StreamFilter &quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; y=&quot;1210&quot; width=&quot;390&quot; height=&quot;122&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;28&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; parent=&quot;27&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;30&quot; width=&quot;390&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;29&quot; value=&quot; &quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;27&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;38&quot; width=&quot;390&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;30&quot; value=&quot; &quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;27&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;70&quot; width=&quot;390&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;31&quot; value=&quot; &quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;27&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;96&quot; width=&quot;390&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;32&quot; value=&quot;Envoy::Router::Filter&amp;#xa;Usually the last Http Filter&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-450&quot; y=&quot;1520&quot; width=&quot;495&quot; height=&quot;352&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;33&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;50&quot; width=&quot;495&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;34&quot; value=&quot;FilterHeadersStatus decodeHeaders(RequestHeaderMap&amp;amp; headers, bool end_stream)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;fontColor=#FF3333;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;58&quot; width=&quot;495&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;35&quot; value=&quot;unique_ptr&amp;lt;GenericConnPool&amp;gt;&amp;#xa;Filter::createConnPool(Upstream::ThreadLocalCluster&amp;amp; thread_local_cluster)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;90&quot; width=&quot;495&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;36&quot; value=&quot;setDecoderFilterCallbacks(Http::StreamDecoderFilterCallbacks&amp;amp; callbacks)&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;130&quot; width=&quot;495&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;37&quot; value=&quot;onRequestComplete()&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;170&quot; width=&quot;495&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;38&quot; value=&quot;onResponseTimeout()&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;196&quot; width=&quot;495&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;39&quot; value=&quot;RouteEntry* route_entry_&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;222&quot; width=&quot;495&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;40&quot; value=&quot;FilterConfig&amp;amp; config_&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;248&quot; width=&quot;495&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;41&quot; value=&quot;ClusterInfoConstSharedPtr cluster_&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;274&quot; width=&quot;495&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;42&quot; value=&quot;list&amp;lt;UpstreamRequestPtr&amp;gt; upstream_requests_&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;300&quot; width=&quot;495&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;43&quot; value=&quot;Http::StreamDecoderFilterCallbacks* callbacks_&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;32&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;326&quot; width=&quot;495&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;45&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;&quot; parent=&quot;1&quot; source=&quot;32&quot; target=&quot;14&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-510&quot; y=&quot;1250&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-350&quot; y=&quot;1250&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;46&quot; value=&quot;Http::StreamFilterBase&amp;#xa;HTTP level filter&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;80&quot; y=&quot;730&quot; width=&quot;310&quot; height=&quot;116&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;47&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;&quot; parent=&quot;46&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;50&quot; width=&quot;310&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;48&quot; value=&quot;onStreamComplete()&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;46&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;58&quot; width=&quot;310&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;49&quot; value=&quot;~StreamFilterBase()&quot; style=&quot;text;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=#000000;&quot; parent=&quot;46&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;90&quot; width=&quot;310&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-154-333-492-32-0"><rect x="154" y="333" width="492" height="32"/></clipPath><clipPath id="mx-clip-154-365-492-26-0"><rect x="154" y="365" width="492" height="26"/></clipPath><clipPath id="mx-clip-154-391-492-26-0"><rect x="154" y="391" width="492" height="26"/></clipPath><clipPath id="mx-clip-734-273-532-32-0"><rect x="734" y="273" width="532" height="32"/></clipPath><clipPath id="mx-clip-734-305-532-26-0"><rect x="734" y="305" width="532" height="26"/></clipPath><clipPath id="mx-clip-734-331-532-26-0"><rect x="734" y="331" width="532" height="26"/></clipPath><clipPath id="mx-clip-734-357-532-26-0"><rect x="734" y="357" width="532" height="26"/></clipPath><clipPath id="mx-clip-734-383-532-26-0"><rect x="734" y="383" width="532" height="26"/></clipPath><clipPath id="mx-clip-734-409-532-26-0"><rect x="734" y="409" width="532" height="26"/></clipPath><clipPath id="mx-clip-504-543-382-32-0"><rect x="504" y="543" width="382" height="32"/></clipPath><clipPath id="mx-clip-504-575-382-26-0"><rect x="504" y="575" width="382" height="26"/></clipPath><clipPath id="mx-clip-504-601-382-26-0"><rect x="504" y="601" width="382" height="26"/></clipPath><clipPath id="mx-clip-24-873-487-32-0"><rect x="24" y="873" width="487" height="32"/></clipPath><clipPath id="mx-clip-24-905-487-40-0"><rect x="24" y="905" width="487" height="40"/></clipPath><clipPath id="mx-clip-24-945-487-40-0"><rect x="24" y="945" width="487" height="40"/></clipPath><clipPath id="mx-clip-24-985-487-26-0"><rect x="24" y="985" width="487" height="26"/></clipPath><clipPath id="mx-clip-24-1011-487-26-0"><rect x="24" y="1011" width="487" height="26"/></clipPath><clipPath id="mx-clip-24-1037-487-26-0"><rect x="24" y="1037" width="487" height="26"/></clipPath><clipPath id="mx-clip-24-1063-487-26-0"><rect x="24" y="1063" width="487" height="26"/></clipPath><clipPath id="mx-clip-24-1089-487-26-0"><rect x="24" y="1089" width="487" height="26"/></clipPath><clipPath id="mx-clip-24-1115-487-26-0"><rect x="24" y="1115" width="487" height="26"/></clipPath><clipPath id="mx-clip-24-1141-487-26-0"><rect x="24" y="1141" width="487" height="26"/></clipPath><clipPath id="mx-clip-554-83-302-32-0"><rect x="554" y="83" width="302" height="32"/></clipPath><clipPath id="mx-clip-554-115-302-26-0"><rect x="554" y="115" width="302" height="26"/></clipPath></defs><g><rect x="480" y="1260" width="290" height="40" rx="6" ry="6" fill="none" stroke="none" pointer-events="all"/><path d="M 481.76 1261.2 C 481.76 1261.2 481.76 1261.2 481.76 1261.2 M 481.76 1261.2 C 481.76 1261.2 481.76 1261.2 481.76 1261.2 M 482.81 1266.09 C 483.91 1265.51 484.94 1264.2 487.4 1260.81 M 482.81 1266.09 C 484.85 1264.04 486.21 1262.03 487.4 1260.81 M 483.21 1271.73 C 486.19 1269.89 488.9 1265.1 492.39 1261.17 M 483.21 1271.73 C 485.8 1268.72 489.31 1265.32 492.39 1261.17 M 482.94 1278.13 C 487.13 1271.57 496.07 1263.15 498.03 1260.77 M 482.94 1278.13 C 487.21 1273.79 490.82 1268.16 498.03 1260.77 M 482.68 1284.53 C 491.29 1277.49 497.04 1267.78 503.02 1261.13 M 482.68 1284.53 C 486.83 1279.87 493.28 1274.33 503.02 1261.13 M 483.08 1290.17 C 494.36 1278.13 501.72 1267.26 508.66 1260.74 M 483.08 1290.17 C 489.56 1283.34 495.85 1273.72 508.66 1260.74 M 482.82 1296.57 C 492.94 1283.85 503.75 1274.97 513.65 1261.1 M 482.82 1296.57 C 489.44 1288.16 498.11 1279.39 513.65 1261.1 M 484.52 1300.7 C 493.9 1289.31 503.88 1278.55 519.29 1260.7 M 484.52 1300.7 C 494.63 1289.72 505.01 1278.19 519.29 1260.7 M 488.2 1302.57 C 500.18 1285.67 516.46 1271.38 524.28 1261.06 M 488.2 1302.57 C 499.04 1289.04 510.79 1276.55 524.28 1261.06 M 493.84 1302.18 C 509.07 1286.22 519.12 1272.05 529.92 1260.67 M 493.84 1302.18 C 503.32 1292.98 511.69 1281.89 529.92 1260.67 M 498.83 1302.54 C 511.16 1288.9 524.69 1272.11 534.91 1261.03 M 498.83 1302.54 C 512.72 1287.79 524.94 1273.31 534.91 1261.03 M 504.47 1302.14 C 514.64 1292.94 520.65 1282.67 539.9 1261.39 M 504.47 1302.14 C 511.48 1292.84 520.34 1283.49 539.9 1261.39 M 509.46 1302.5 C 521.45 1290.51 532.03 1277.29 545.54 1260.99 M 509.46 1302.5 C 517.4 1294.15 524.84 1284.77 545.54 1260.99 M 515.1 1302.11 C 528.91 1287.73 539.2 1273.4 550.53 1261.35 M 515.1 1302.11 C 526.27 1289.8 537.26 1275.92 550.53 1261.35 M 520.09 1302.47 C 532.58 1287.58 543.47 1276.14 556.17 1260.96 M 520.09 1302.47 C 527.42 1292.62 536.66 1283.89 556.17 1260.96 M 525.73 1302.07 C 535.46 1291.42 544.65 1280.93 561.16 1261.32 M 525.73 1302.07 C 536.37 1290.79 548.24 1278.15 561.16 1261.32 M 530.72 1302.43 C 544.82 1285.38 559.53 1269.09 566.8 1260.92 M 530.72 1302.43 C 542.28 1290.14 552.95 1277.17 566.8 1260.92 M 536.36 1302.04 C 546.53 1287.98 559.12 1277.23 571.79 1261.28 M 536.36 1302.04 C 545.49 1293.39 552.83 1283.87 571.79 1261.28 M 541.35 1302.4 C 553.6 1286.42 569.8 1273.27 577.43 1260.89 M 541.35 1302.4 C 550.75 1292.6 559.56 1282.68 577.43 1260.89 M 546.99 1302 C 560.94 1287.8 572.48 1270.19 582.42 1261.25 M 546.99 1302 C 557.38 1289.31 567.53 1279.23 582.42 1261.25 M 551.98 1302.36 C 563.51 1290.97 572.99 1278.23 588.06 1260.85 M 551.98 1302.36 C 558.78 1292.42 567.63 1284.87 588.06 1260.85 M 557.62 1301.97 C 569.6 1288.6 577.68 1276.04 593.05 1261.21 M 557.62 1301.97 C 566.21 1292.24 576.61 1281.11 593.05 1261.21 M 562.61 1302.33 C 569.53 1294.42 579.33 1283.79 598.69 1260.82 M 562.61 1302.33 C 571.75 1290.96 581.75 1279.78 598.69 1260.82 M 568.25 1301.93 C 578.22 1292.05 584.02 1283.81 603.68 1261.18 M 568.25 1301.93 C 576 1292.57 584.2 1283.25 603.68 1261.18 M 573.24 1302.29 C 585.43 1287.73 597.83 1272.03 609.32 1260.79 M 573.24 1302.29 C 586.46 1285.59 601.62 1269.92 609.32 1260.79 M 578.88 1301.9 C 587.09 1288.27 598.33 1276.07 614.31 1261.15 M 578.88 1301.9 C 592.64 1285.51 605.78 1270.64 614.31 1261.15 M 583.87 1302.26 C 596.89 1287.33 608.87 1274.53 619.95 1260.75 M 583.87 1302.26 C 593.08 1290.61 605.1 1277.66 619.95 1260.75 M 589.51 1301.87 C 600.47 1285.97 615.73 1271.23 624.94 1261.11 M 589.51 1301.87 C 603.53 1285.71 616.04 1270.51 624.94 1261.11 M 594.5 1302.23 C 610.01 1284.61 623.66 1267.95 630.58 1260.72 M 594.5 1302.23 C 603.04 1291.59 612.65 1280.2 630.58 1260.72 M 600.14 1301.83 C 610.75 1290.28 618.42 1281.21 635.57 1261.08 M 600.14 1301.83 C 610.03 1289.64 621.25 1276.03 635.57 1261.08 M 605.13 1302.19 C 619.66 1286.7 632.89 1272.4 641.21 1260.68 M 605.13 1302.19 C 612.95 1293.74 620.71 1283.32 641.21 1260.68 M 610.12 1302.55 C 621.4 1286.68 632.53 1274.7 646.2 1261.04 M 610.12 1302.55 C 623.92 1285.93 639.36 1270.54 646.2 1261.04 M 615.76 1302.16 C 624.01 1290.68 634.34 1276.84 651.19 1261.4 M 615.76 1302.16 C 626.54 1288.93 637.53 1277.85 651.19 1261.4 M 620.75 1302.52 C 632.87 1290.16 642.22 1276.21 656.83 1261.01 M 620.75 1302.52 C 632.69 1289.75 643.34 1277.81 656.83 1261.01 M 626.39 1302.12 C 637.83 1286.42 651.23 1273.3 661.82 1261.37 M 626.39 1302.12 C 637.7 1288.02 648.93 1273.86 661.82 1261.37 M 631.38 1302.48 C 640.69 1292.54 648.96 1279.14 667.46 1260.97 M 631.38 1302.48 C 645.66 1285.9 659.29 1269.9 667.46 1260.97 M 637.02 1302.09 C 647.84 1291.09 653.51 1281.37 672.45 1261.33 M 637.02 1302.09 C 645.89 1290.29 654.65 1280.6 672.45 1261.33 M 642.01 1302.45 C 648.31 1295.64 656.87 1284.17 678.09 1260.94 M 642.01 1302.45 C 652.87 1289.37 662.42 1278.92 678.09 1260.94 M 647.65 1302.05 C 658.12 1288.1 670.24 1273.1 683.08 1261.3 M 647.65 1302.05 C 660.23 1287.13 672.55 1273.51 683.08 1261.3 M 652.64 1302.41 C 664.44 1292.64 673.9 1280.25 688.72 1260.9 M 652.64 1302.41 C 664.82 1289.74 675.09 1276.88 688.72 1260.9 M 658.28 1302.02 C 668.77 1289.36 678.88 1280.69 693.71 1261.26 M 658.28 1302.02 C 666.93 1291.78 675.97 1282.78 693.71 1261.26 M 663.27 1302.38 C 678.81 1286.85 692.77 1271.85 699.35 1260.87 M 663.27 1302.38 C 670.98 1292.97 678.47 1285.54 699.35 1260.87 M 668.91 1301.98 C 679.55 1290.85 686.97 1279.02 704.34 1261.23 M 668.91 1301.98 C 678.45 1291.47 686.96 1282.5 704.34 1261.23 M 673.9 1302.34 C 683.31 1294.3 688.44 1285.63 709.98 1260.84 M 673.9 1302.34 C 684.21 1291.19 692.6 1280.39 709.98 1260.84 M 679.54 1301.95 C 693.07 1287.92 702.53 1273.56 714.97 1261.2 M 679.54 1301.95 C 686.91 1292.52 694.8 1284.63 714.97 1261.2 M 684.53 1302.31 C 698.84 1288.78 711.92 1273.61 720.61 1260.8 M 684.53 1302.31 C 691.86 1293.12 699.82 1284.87 720.61 1260.8 M 690.17 1301.92 C 702.44 1288.55 710.17 1277.63 725.6 1261.16 M 690.17 1301.92 C 701.75 1288.83 714.27 1272.94 725.6 1261.16 M 695.16 1302.28 C 709.23 1287.8 720.42 1274.24 731.24 1260.77 M 695.16 1302.28 C 703.83 1290.89 714.54 1279.44 731.24 1260.77 M 700.8 1301.88 C 715.28 1285.79 727.93 1272.37 736.23 1261.13 M 700.8 1301.88 C 713.69 1288 725.05 1271.64 736.23 1261.13 M 705.79 1302.24 C 716.06 1287.27 729.48 1276.52 741.87 1260.73 M 705.79 1302.24 C 717.06 1290.02 727.19 1276.99 741.87 1260.73 M 711.43 1301.85 C 726.68 1285.94 736.27 1271.54 746.86 1261.09 M 711.43 1301.85 C 721.12 1290.02 730.69 1279.58 746.86 1261.09 M 716.42 1302.21 C 727.11 1290.75 740.17 1274.33 752.5 1260.7 M 716.42 1302.21 C 726.44 1289.67 737.28 1276.25 752.5 1260.7 M 721.4 1302.57 C 731.44 1287.13 743.38 1275.4 757.49 1261.06 M 721.4 1302.57 C 731.33 1290.58 740.63 1279.37 757.49 1261.06 M 727.05 1302.17 C 740.51 1288.64 750.65 1273.69 762.47 1261.42 M 727.05 1302.17 C 737.46 1290.02 748.15 1277.63 762.47 1261.42 M 732.03 1302.53 C 738.48 1295.71 748.08 1284.34 768.12 1261.02 M 732.03 1302.53 C 740.22 1292.57 749.39 1282.2 768.12 1261.02 M 737.68 1302.14 C 746 1290.4 757.88 1281.06 770.48 1264.4 M 737.68 1302.14 C 744.82 1294.19 750.28 1286.87 770.48 1264.4 M 742.66 1302.5 C 750.65 1294.81 757.76 1287.64 770.87 1270.05 M 742.66 1302.5 C 747.33 1295.48 754.86 1289.31 770.87 1270.05 M 748.31 1302.1 C 757.91 1291.62 763.47 1284.2 770.61 1276.44 M 748.31 1302.1 C 753.1 1297.53 757.31 1291.73 770.61 1276.44 M 753.29 1302.46 C 756.59 1298.79 763.32 1290.18 771.01 1282.09 M 753.29 1302.46 C 758 1295.56 762.85 1290.02 771.01 1282.09 M 758.94 1302.07 C 763.48 1298.37 765.33 1294.71 770.75 1288.48 M 758.94 1302.07 C 761.58 1298.64 763.55 1296.19 770.75 1288.48 M 765.24 1300.92 C 765.98 1298.7 767.59 1297.07 770.49 1294.88 M 765.24 1300.92 C 766.62 1299.61 767.45 1298.54 770.49 1294.88" fill="none" stroke="#ffccff" stroke-width="0.5" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 288px; height: 1px; padding-top: 1280px; margin-left: 481px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; overflow-wrap: normal;"><font style="font-size: 12px;">http-filter-code-oop.drawio.svg</font></div></div></div></foreignObject><text x="625" y="1284" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-style="italic">http-filter-code-oop.drawio.svg</text></switch></g><path d="M 400 290 L 400 213 L 705 213 L 705 154.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 705 137.12 L 713.5 154.12 L 696.5 154.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 213px; margin-left: 553px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="553" y="216" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Extends</text></switch></g><path d="M 1000 230 L 1000 183 L 705 183 L 705 154.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 705 137.12 L 713.5 154.12 L 696.5 154.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 183px; margin-left: 852px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="852" y="186" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Extends</text></switch></g><path d="M 730 500 L 730 460 L 810 460 L 810 448.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 810 431.12 L 818.5 448.12 L 801.5 448.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 460px; margin-left: 765px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="765" y="463" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Extends</text></switch></g><path d="M 700 500 L 700 440 L 600 440 L 600 430.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 413.12 L 608.5 430.12 L 591.5 430.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 440px; margin-left: 666px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="666" y="443" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Extends</text></switch></g><path d="M 150 320 L 150 290 L 650 290 L 650 320" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><path d="M 150 320 L 150 412 L 650 412 L 650 320" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 150 320 L 650 320" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="399.5" y="307.5">Http::StreamDecoderFilter</text></g><path d="M 150 324 L 650 324" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="150" y="328" width="500" height="32" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-154-333-492-32-0)" font-size="12px"><text x="155.5" y="345.5">FilterHeadersStatus decodeHeaders(RequestHeaderMap&amp; headers, bool end_stream)</text></g><rect x="150" y="360" width="500" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-154-365-492-26-0)" font-size="12px"><text x="155.5" y="377.5">FilterDataStatus decodeData(Buffer::Instance&amp; data, bool end_stream)</text></g><rect x="150" y="386" width="500" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-154-391-492-26-0)" font-size="12px"><text x="155.5" y="403.5">FilterTrailersStatus decodeTrailers(RequestTrailerMap&amp; trailers)</text></g><path d="M 730 260 L 730 230 L 1270 230 L 1270 260" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 730 260 L 730 430 L 1270 430 L 1270 260" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 730 260 L 1270 260" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="999.5" y="247.5">StreamEncoderFilter</text></g><path d="M 730 264 L 1270 264" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="730" y="268" width="540" height="32" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-734-273-532-32-0)" font-size="12px"><text x="735.5" y="285.5">FilterHeadersStatus encodeHeaders(ResponseHeaderMap&amp; headers, bool end_stream)</text></g><rect x="730" y="300" width="540" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-734-305-532-26-0)" font-size="12px"><text x="735.5" y="317.5">FilterDataStatus encodeData(Buffer::Instance&amp; data, bool end_stream)</text></g><rect x="730" y="326" width="540" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-734-331-532-26-0)" font-size="12px"><text x="735.5" y="343.5">FilterTrailersStatus encodeTrailers(ResponseTrailerMap&amp; trailers)</text></g><rect x="730" y="352" width="540" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-734-357-532-26-0)" font-size="12px"><text x="735.5" y="369.5">FilterMetadataStatus encodeMetadata(MetadataMap&amp; metadata_map)</text></g><rect x="730" y="378" width="540" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-734-383-532-26-0)" font-size="12px"><text x="735.5" y="395.5">setEncoderFilterCallbacks(StreamEncoderFilterCallbacks&amp; callbacks)</text></g><rect x="730" y="404" width="540" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-734-409-532-26-0)" font-size="12px"><text x="735.5" y="421.5">encodeComplete()</text></g><path d="M 500 530 L 500 500 L 890 500 L 890 530" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 500 530 L 500 622 L 890 622 L 890 530" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 500 530 L 890 530" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="694.5" y="517.5">StreamFilter </text></g><path d="M 500 534 L 890 534" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="500" y="538" width="390" height="32" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-504-543-382-32-0)" font-size="12px"/><rect x="500" y="570" width="390" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-504-575-382-26-0)" font-size="12px"/><rect x="500" y="596" width="390" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-504-601-382-26-0)" font-size="12px"/><path d="M 20 860 L 20 810 L 515 810 L 515 860" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 20 860 L 20 1162 L 515 1162 L 515 860" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 20 860 L 515 860" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="267" y="827.5">Envoy::Router::Filter</text><text x="267" y="841.5">Usually the last Http Filter</text></g><path d="M 20 864 L 515 864" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="20" y="868" width="495" height="32" fill="none" stroke="#000000" pointer-events="none"/><g fill="#FF3333" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-873-487-32-0)" font-size="12px"><text x="25.5" y="885.5">FilterHeadersStatus decodeHeaders(RequestHeaderMap&amp; headers, bool end_stream)</text></g><rect x="20" y="900" width="495" height="40" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-905-487-40-0)" font-size="12px"><text x="25.5" y="917.5">unique_ptr&lt;GenericConnPool&gt;</text><text x="25.5" y="931.5">Filter::createConnPool(Upstream::ThreadLocalCluster&amp; thread_local_cluster)</text></g><rect x="20" y="940" width="495" height="40" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-945-487-40-0)" font-size="12px"><text x="25.5" y="957.5">setDecoderFilterCallbacks(Http::StreamDecoderFilterCallbacks&amp; callbacks)</text></g><rect x="20" y="980" width="495" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-985-487-26-0)" font-size="12px"><text x="25.5" y="997.5">onRequestComplete()</text></g><rect x="20" y="1006" width="495" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-1011-487-26-0)" font-size="12px"><text x="25.5" y="1023.5">onResponseTimeout()</text></g><rect x="20" y="1032" width="495" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-1037-487-26-0)" font-size="12px"><text x="25.5" y="1049.5">RouteEntry* route_entry_</text></g><rect x="20" y="1058" width="495" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-1063-487-26-0)" font-size="12px"><text x="25.5" y="1075.5">FilterConfig&amp; config_</text></g><rect x="20" y="1084" width="495" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-1089-487-26-0)" font-size="12px"><text x="25.5" y="1101.5">ClusterInfoConstSharedPtr cluster_</text></g><rect x="20" y="1110" width="495" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-1115-487-26-0)" font-size="12px"><text x="25.5" y="1127.5">list&lt;UpstreamRequestPtr&gt; upstream_requests_</text></g><rect x="20" y="1136" width="495" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-1141-487-26-0)" font-size="12px"><text x="25.5" y="1153.5">Http::StreamDecoderFilterCallbacks* callbacks_</text></g><path d="M 267.5 810 L 267.5 611 L 400 611 L 400 430.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 400 413.12 L 408.5 430.12 L 391.5 430.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 611px; margin-left: 334px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="334" y="614" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Extends</text></switch></g><path d="M 550 70 L 550 20 L 860 20 L 860 70" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 550 70 L 550 136 L 860 136 L 860 70" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 550 70 L 860 70" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="704.5" y="37.5">Http::StreamFilterBase</text><text x="704.5" y="51.5">HTTP level filter</text></g><path d="M 550 74 L 860 74" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="550" y="78" width="310" height="32" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-554-83-302-32-0)" font-size="12px"><text x="555.5" y="95.5">onStreamComplete()</text></g><rect x="550" y="110" width="310" height="26" fill="none" stroke="#000000" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-554-115-302-26-0)" font-size="12px"><text x="555.5" y="127.5">~StreamFilterBase()</text></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>