<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1753px" height="1701px" viewBox="-0.5 -0.5 1753 1701" content="&lt;mxfile scale=&quot;1&quot; border=&quot;20&quot; host=&quot;Electron&quot; modified=&quot;2024-04-26T07:56:49.477Z&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.6.1 Chrome/112.0.5615.204 Electron/24.6.1 Safari/537.36&quot; version=&quot;21.6.1&quot; etag=&quot;hTKaVLCPi51HJs8Tmoxp&quot; type=&quot;device&quot;&gt;&#10;  &lt;diagram id=&quot;ZR1o3rxdakW-VgO3uDKI&quot; name=&quot;router-filter-base-flow.drawio.svg&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;2924&quot; dy=&quot;1242&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;850&quot; pageHeight=&quot;1100&quot; background=&quot;#ffffff&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;object label=&quot;&amp;lt;font style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;%page%&amp;lt;/font&amp;gt;&quot; placeholders=&quot;1&quot; a=&quot;b&quot; id=&quot;2&quot;&gt;&#10;          &lt;mxCell style=&quot;text;html=1;strokeColor=none;fillColor=#FFCCFF;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;glass=0;sketch=1;shadow=0;fontStyle=2;fontSize=12;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;            &lt;mxGeometry x=&quot;210&quot; y=&quot;1800&quot; width=&quot;290&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;          &lt;/mxCell&gt;&#10;        &lt;/object&gt;&#10;        &lt;UserObject label=&quot;HTTP level filter A&quot; link=&quot;https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/http/http_filters&quot; id=&quot;3&quot;&gt;&#10;          &lt;mxCell style=&quot;rounded=1;whiteSpace=wrap;html=1;labelPosition=center;verticalLabelPosition=middle;align=center;verticalAlign=middle;spacingTop=0;spacingBottom=0;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;shadow=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;            &lt;mxGeometry x=&quot;140&quot; y=&quot;700&quot; width=&quot;220&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;          &lt;/mxCell&gt;&#10;        &lt;/UserObject&gt;&#10;        &lt;UserObject label=&quot;HTTP level filter B&quot; link=&quot;https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/http/http_filters&quot; id=&quot;4&quot;&gt;&#10;          &lt;mxCell style=&quot;rounded=1;whiteSpace=wrap;html=1;labelPosition=center;verticalLabelPosition=middle;align=center;verticalAlign=middle;spacingTop=0;spacingBottom=0;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;shadow=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;            &lt;mxGeometry x=&quot;415&quot; y=&quot;700&quot; width=&quot;220&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;          &lt;/mxCell&gt;&#10;        &lt;/UserObject&gt;&#10;        &lt;UserObject label=&quot;router filter&amp;amp;nbsp;&amp;amp;nbsp;ðŸ”—&amp;lt;br&amp;gt;&amp;lt;span style=&amp;quot;font-weight: 400;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;font-weight: normal;&amp;quot;&amp;gt;Must be the terminal filter&amp;lt;/span&amp;gt;&quot; link=&quot;https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/http/http_filters&quot; id=&quot;5&quot;&gt;&#10;          &lt;mxCell style=&quot;rounded=1;whiteSpace=wrap;html=1;labelPosition=center;verticalLabelPosition=middle;align=center;verticalAlign=middle;spacingTop=0;spacingBottom=0;fontStyle=1;fillColor=#f8cecc;strokeColor=#b85450;shadow=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;            &lt;mxGeometry x=&quot;680&quot; y=&quot;700&quot; width=&quot;220&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;          &lt;/mxCell&gt;&#10;        &lt;/UserObject&gt;&#10;        &lt;mxCell id=&quot;6&quot; value=&quot;HTTP Request&quot; style=&quot;endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; target=&quot;3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-140&quot; y=&quot;720&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-310&quot; y=&quot;640&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;7&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;3&quot; target=&quot;4&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-130&quot; y=&quot;730&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;150&quot; y=&quot;730&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;8&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;4&quot; target=&quot;5&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;370&quot; y=&quot;730&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;425&quot; y=&quot;730&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9&quot; value=&quot;HTTP Response&quot; style=&quot;endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;exitX=0;exitY=0.625;exitDx=0;exitDy=0;exitPerimeter=0;&quot; parent=&quot;1&quot; source=&quot;14&quot; target=&quot;5&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1170&quot; y=&quot;890&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;690&quot; y=&quot;730&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;10&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;5&quot; target=&quot;4&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;645&quot; y=&quot;730&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;690&quot; y=&quot;730&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;11&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;4&quot; target=&quot;3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;690&quot; y=&quot;770&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;645&quot; y=&quot;770&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;12&quot; value=&quot;HTTP Response&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1190&quot; y=&quot;770&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-140&quot; y=&quot;760&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;13&quot; value=&quot;3. forward HTTP Request&quot; style=&quot;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; source=&quot;5&quot; target=&quot;14&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-130&quot; y=&quot;730&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1180&quot; y=&quot;720&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;14&quot; value=&quot;workload&quot; style=&quot;shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;shadow=1;align=center;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1320&quot; y=&quot;700&quot; width=&quot;120&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;15&quot; value=&quot;workload&quot; style=&quot;shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;shadow=1;align=center;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-270&quot; y=&quot;690&quot; width=&quot;120&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;16&quot; value=&quot;upstream cluster&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;shadow=1;strokeColor=default;align=center;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;980&quot; y=&quot;460&quot; width=&quot;180&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;17&quot; value=&quot;connection pool&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;shadow=1;strokeColor=default;align=center;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1200&quot; y=&quot;500&quot; width=&quot;180&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;18&quot; value=&quot;1. select&quot; style=&quot;endArrow=classic;html=1;rounded=0;&quot; parent=&quot;1&quot; source=&quot;5&quot; target=&quot;16&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;910&quot; y=&quot;730&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1331.2244897959185&quot; y=&quot;747.5510204081634&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;19&quot; value=&quot;2. acquire connection&quot; style=&quot;endArrow=classic;html=1;rounded=0;&quot; parent=&quot;1&quot; source=&quot;5&quot; target=&quot;17&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;910&quot; y=&quot;730&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1331.2244897959185&quot; y=&quot;747.5510204081634&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;UserObject label=&quot;&amp;lt;div&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;Virtual hosts that map domains/authorities to a set of routing rules.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Prefix and exact path matching rules (both case sensitive and case insensitive).&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Regex path matching rules.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;TLS redirection at the virtual host level.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Path/host redirection at the route level.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Direct (non-proxied) HTTP responses at the route level.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Explicit host rewriting.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Automatic host rewriting based on the DNS name of the selected upstream host&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Prefix rewriting.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Path rewriting using a regular expression and capture groups.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Request retries specified either via HTTP header or via route configuration.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Request timeout specified either via HTTP header or via route configuration.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Request hedging for retries in response to a request (per try) timeout.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Traffic shifting from one upstream cluster to another via runtime values (see traffic shifting/splitting).&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Traffic splitting across multiple upstream clusters using weight/percentage-based routing (see traffic shifting/splitting).&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Arbitrary header matching routing rules.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Virtual cluster specifications. A virtual cluster is specified at the virtual host level and is used by Envoy to generate additional statistics on top of the standard cluster level ones. Virtual clusters can use regex matching.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Priority based routing.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Hash policy based routing.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Absolute urls are supported for non-tls forward proxies.&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;div&amp;gt;&amp;amp;nbsp;ðŸ”—&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&quot; link=&quot;https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/http/http_routing&quot; id=&quot;20&quot;&gt;&#10;          &lt;mxCell style=&quot;shape=document;whiteSpace=wrap;html=1;boundedLbl=1;shadow=1;strokeColor=#d6b656;align=left;size=0.10714285714285714;fillColor=#fff2cc;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;            &lt;mxGeometry x=&quot;340&quot; y=&quot;950&quot; width=&quot;735&quot; height=&quot;530&quot; as=&quot;geometry&quot; /&gt;&#10;          &lt;/mxCell&gt;&#10;        &lt;/UserObject&gt;&#10;        &lt;mxCell id=&quot;21&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;function&amp;amp;gt;&amp;amp;gt;&quot; style=&quot;endArrow=open;endSize=12;dashed=1;html=1;rounded=0;&quot; parent=&quot;1&quot; source=&quot;5&quot; target=&quot;20&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;700&quot; y=&quot;820&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;860&quot; y=&quot;820&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;23&quot; value=&quot;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;Route Scope&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Retry semantics&amp;lt;br&amp;gt;&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&quot; style=&quot;shape=document;whiteSpace=wrap;html=1;boundedLbl=1;shadow=1;strokeColor=#d6b656;align=left;fillColor=#fff2cc;size=0.125;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;780&quot; y=&quot;180&quot; width=&quot;250&quot; height=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;24&quot; value=&quot;Route table&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;shadow=1;strokeColor=default;align=center;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;710&quot; y=&quot;460&quot; width=&quot;180&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;25&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;use&amp;amp;gt;&amp;amp;gt;&quot; style=&quot;endArrow=classic;html=1;rounded=0;&quot; parent=&quot;1&quot; source=&quot;5&quot; target=&quot;24&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;847.6595744680853&quot; y=&quot;710&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1026.3829787234044&quot; y=&quot;560&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;26&quot; value=&quot;route configuration&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;shadow=1;strokeColor=default;align=center;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;480&quot; y=&quot;380&quot; width=&quot;180&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;27&quot; value=&quot;retry configuration&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;shadow=1;strokeColor=default;align=center;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;260&quot; y=&quot;510&quot; width=&quot;180&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;28&quot; value=&quot;&quot; style=&quot;endArrow=diamondThin;endFill=1;endSize=24;html=1;rounded=0;&quot; parent=&quot;1&quot; source=&quot;27&quot; target=&quot;26&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;310&quot; y=&quot;390&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;470&quot; y=&quot;390&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="500" y="1640" width="290" height="40" rx="6" ry="6" fill="none" stroke="none" pointer-events="all"/><path d="M 501.42 1641.59 C 501.42 1641.59 501.42 1641.59 501.42 1641.59 M 501.42 1641.59 C 501.42 1641.59 501.42 1641.59 501.42 1641.59 M 503.13 1645.72 C 504.07 1645.22 504.95 1644.1 507.07 1641.19 M 503.13 1645.72 C 504.88 1643.97 506.05 1642.25 507.07 1641.19 M 502.87 1652.12 C 506.07 1650.15 508.97 1645.01 512.71 1640.8 M 502.87 1652.12 C 505.65 1648.89 509.41 1645.25 512.71 1640.8 M 503.26 1657.76 C 507.19 1651.49 515.88 1643.38 517.7 1641.16 M 503.26 1657.76 C 507.35 1653.63 510.78 1648.2 517.7 1641.16 M 503 1664.16 C 511.61 1657.12 517.36 1647.42 523.34 1640.76 M 503 1664.16 C 507.15 1659.5 513.6 1653.96 523.34 1640.76 M 502.74 1670.56 C 514.03 1658.51 521.38 1647.64 528.33 1641.12 M 502.74 1670.56 C 509.23 1663.73 515.52 1654.1 528.33 1641.12 M 503.14 1676.2 C 513.26 1663.48 524.07 1654.61 533.97 1640.73 M 503.14 1676.2 C 509.76 1667.79 518.43 1659.02 533.97 1640.73 M 504.19 1681.09 C 513.57 1669.7 523.54 1658.93 538.96 1641.09 M 504.19 1681.09 C 514.29 1670.1 524.68 1658.58 538.96 1641.09 M 508.52 1682.2 C 520.5 1665.3 536.78 1651.01 544.6 1640.69 M 508.52 1682.2 C 519.36 1668.68 531.11 1656.18 544.6 1640.69 M 513.51 1682.56 C 528.74 1666.61 538.79 1652.44 549.59 1641.05 M 513.51 1682.56 C 522.98 1673.36 531.36 1662.27 549.59 1641.05 M 519.15 1682.17 C 531.25 1668.79 544.56 1652.26 554.58 1641.41 M 519.15 1682.17 C 532.8 1667.68 544.8 1653.47 554.58 1641.41 M 524.14 1682.53 C 534.46 1673.15 540.62 1662.7 560.22 1641.02 M 524.14 1682.53 C 531.29 1673.05 540.3 1663.52 560.22 1641.02 M 529.78 1682.13 C 541.56 1670.38 551.93 1657.39 565.21 1641.38 M 529.78 1682.13 C 537.57 1673.94 544.89 1664.71 565.21 1641.38 M 534.77 1682.49 C 548.8 1667.85 559.31 1653.26 570.85 1640.98 M 534.77 1682.49 C 546.13 1669.95 557.33 1655.84 570.85 1640.98 M 540.41 1682.1 C 552.7 1667.45 563.38 1656.24 575.84 1641.34 M 540.41 1682.1 C 547.59 1672.42 556.7 1663.86 575.84 1641.34 M 545.4 1682.46 C 555.29 1671.61 564.66 1660.92 581.48 1640.95 M 545.4 1682.46 C 556.23 1670.95 568.31 1658.08 581.48 1640.95 M 551.04 1682.06 C 564.89 1665.3 579.34 1649.31 586.47 1641.31 M 551.04 1682.06 C 562.4 1670.01 572.87 1657.27 586.47 1641.31 M 556.03 1682.42 C 566.4 1668.12 579.19 1657.14 592.11 1640.92 M 556.03 1682.42 C 565.31 1673.6 572.8 1663.9 592.11 1640.92 M 561.67 1682.03 C 573.68 1666.33 589.64 1653.45 597.1 1641.28 M 561.67 1682.03 C 570.9 1672.42 579.55 1662.69 597.1 1641.28 M 566.66 1682.39 C 580.85 1667.9 592.64 1650 602.74 1640.88 M 566.66 1682.39 C 577.24 1669.48 587.58 1659.18 602.74 1640.88 M 572.3 1682 C 583.63 1670.83 592.91 1658.32 607.73 1641.24 M 572.3 1682 C 578.96 1672.22 587.67 1664.84 607.73 1641.24 M 577.29 1682.36 C 589.47 1668.75 597.74 1655.96 613.37 1640.85 M 577.29 1682.36 C 586.04 1672.44 596.61 1661.12 613.37 1640.85 M 582.93 1681.96 C 589.71 1674.21 599.38 1663.74 618.36 1641.21 M 582.93 1681.96 C 591.9 1670.79 601.73 1659.81 618.36 1641.21 M 587.92 1682.32 C 598.04 1672.27 603.99 1663.86 624 1640.81 M 587.92 1682.32 C 595.81 1672.78 604.17 1663.28 624 1640.81 M 593.56 1681.93 C 605.52 1667.63 617.69 1652.19 628.99 1641.17 M 593.56 1681.93 C 606.53 1665.51 621.43 1650.13 628.99 1641.17 M 598.55 1682.29 C 606.94 1668.43 618.37 1656 634.63 1640.78 M 598.55 1682.29 C 612.56 1665.6 625.95 1650.45 634.63 1640.78 M 604.19 1681.89 C 617 1667.2 628.76 1654.65 639.62 1641.14 M 604.19 1681.89 C 613.22 1670.47 625.05 1657.74 639.62 1641.14 M 609.18 1682.25 C 620.36 1666.08 635.86 1651.07 645.26 1640.74 M 609.18 1682.25 C 623.45 1665.81 636.2 1650.34 645.26 1640.74 M 614.82 1681.86 C 630.08 1664.54 643.47 1648.18 650.25 1641.1 M 614.82 1681.86 C 623.19 1671.41 632.63 1660.22 650.25 1641.1 M 619.81 1682.22 C 630.58 1670.47 638.41 1661.2 655.89 1640.71 M 619.81 1682.22 C 629.89 1669.79 641.31 1655.95 655.89 1640.71 M 625.45 1681.82 C 639.74 1666.61 652.73 1652.58 660.88 1641.07 M 625.45 1681.82 C 633.13 1673.53 640.75 1663.28 660.88 1641.07 M 630.44 1682.18 C 641.72 1666.31 652.85 1654.34 666.52 1640.67 M 630.44 1682.18 C 644.24 1665.56 659.68 1650.18 666.52 1640.67 M 635.42 1682.54 C 643.86 1670.85 654.38 1656.8 671.51 1641.03 M 635.42 1682.54 C 646.41 1669.08 657.6 1657.77 671.51 1641.03 M 641.07 1682.15 C 652.98 1670.04 662.12 1656.33 676.49 1641.39 M 641.07 1682.15 C 652.81 1669.61 663.26 1657.9 676.49 1641.39 M 646.05 1682.51 C 657.73 1666.52 671.37 1653.13 682.14 1641 M 646.05 1682.51 C 657.58 1668.15 669.02 1653.74 682.14 1641 M 651.7 1682.11 C 660.84 1672.38 668.94 1659.18 687.12 1641.36 M 651.7 1682.11 C 665.72 1665.83 679.09 1650.13 687.12 1641.36 M 656.68 1682.47 C 667.68 1671.28 673.51 1661.37 692.77 1640.97 M 656.68 1682.47 C 665.72 1670.47 674.65 1660.59 692.77 1640.97 M 662.33 1682.08 C 668.49 1675.43 676.92 1664.11 697.75 1641.33 M 662.33 1682.08 C 673 1669.23 682.36 1658.99 697.75 1641.33 M 667.31 1682.44 C 678.01 1668.23 690.35 1652.97 703.4 1640.93 M 667.31 1682.44 C 680.14 1667.24 692.69 1653.35 703.4 1640.93 M 672.96 1682.05 C 684.57 1672.46 693.87 1660.28 708.38 1641.29 M 672.96 1682.05 C 684.93 1669.6 695.01 1656.98 708.38 1641.29 M 677.94 1682.41 C 688.61 1669.54 698.9 1660.65 714.03 1640.9 M 677.94 1682.41 C 686.76 1671.99 695.95 1662.8 714.03 1640.9 M 683.59 1682.01 C 698.87 1666.78 712.57 1652.07 719.01 1641.26 M 683.59 1682.01 C 691.17 1672.76 698.53 1665.47 719.01 1641.26 M 688.57 1682.37 C 699.39 1671.05 706.97 1659.01 724.66 1640.86 M 688.57 1682.37 C 698.27 1671.67 706.94 1662.52 724.66 1640.86 M 694.22 1681.98 C 703.49 1674.1 708.48 1665.58 729.64 1641.22 M 694.22 1681.98 C 704.35 1671.04 712.56 1660.44 729.64 1641.22 M 699.2 1682.34 C 712.96 1668.05 722.64 1653.43 735.29 1640.83 M 699.2 1682.34 C 706.72 1672.74 714.74 1664.69 735.29 1640.83 M 704.85 1681.94 C 718.93 1668.68 731.78 1653.78 740.27 1641.19 M 704.85 1681.94 C 712.04 1672.92 719.86 1664.83 740.27 1641.19 M 709.83 1682.3 C 722.29 1668.71 730.22 1657.56 745.92 1640.79 M 709.83 1682.3 C 721.64 1668.96 734.39 1652.81 745.92 1640.79 M 715.48 1681.91 C 729.32 1667.7 740.27 1654.4 750.9 1641.15 M 715.48 1681.91 C 723.98 1670.72 734.51 1659.48 750.9 1641.15 M 720.46 1682.27 C 735.19 1665.9 748.09 1652.18 756.55 1640.76 M 720.46 1682.27 C 733.59 1668.11 745.18 1651.48 756.55 1640.76 M 726.11 1681.87 C 736.16 1667.15 749.36 1656.65 761.53 1641.12 M 726.11 1681.87 C 737.18 1669.88 747.11 1657.08 761.53 1641.12 M 731.09 1682.23 C 746.6 1666.04 756.43 1651.36 767.18 1640.72 M 731.09 1682.23 C 740.97 1670.2 750.71 1659.56 767.18 1640.72 M 736.74 1681.84 C 747.22 1670.63 760.07 1654.44 772.16 1641.08 M 736.74 1681.84 C 746.56 1669.53 757.21 1656.35 772.16 1641.08 M 741.72 1682.2 C 751.76 1666.76 763.7 1655.03 777.81 1640.69 M 741.72 1682.2 C 751.65 1670.21 760.95 1659.01 777.81 1640.69 M 746.71 1682.56 C 760.4 1668.77 770.75 1653.57 782.79 1641.05 M 746.71 1682.56 C 757.32 1670.19 768.2 1657.58 782.79 1641.05 M 752.35 1682.16 C 758.68 1675.5 768.14 1664.28 787.78 1641.41 M 752.35 1682.16 C 760.39 1672.37 769.4 1662.19 787.78 1641.41 M 757.34 1682.52 C 765.87 1670.56 777.95 1660.98 790.8 1644.03 M 757.34 1682.52 C 764.62 1674.42 770.21 1666.95 790.8 1644.03 M 762.98 1682.13 C 770.8 1674.63 777.74 1667.66 790.54 1650.43 M 762.98 1682.13 C 767.52 1675.27 774.92 1669.25 790.54 1650.43 M 767.97 1682.49 C 777.8 1671.75 783.59 1664.06 790.93 1656.07 M 767.97 1682.49 C 772.9 1677.76 777.24 1671.79 790.93 1656.07 M 773.61 1682.1 C 776.73 1678.61 783.29 1670.2 790.67 1662.47 M 773.61 1682.1 C 778.12 1675.41 782.78 1670.09 790.67 1662.47 M 778.6 1682.46 C 783.4 1678.55 785.34 1674.69 791.07 1668.12 M 778.6 1682.46 C 781.4 1678.83 783.47 1676.25 791.07 1668.12 M 784.9 1681.31 C 785.74 1678.81 787.55 1676.98 790.8 1674.51 M 784.9 1681.31 C 786.45 1679.84 787.39 1678.63 790.8 1674.51" fill="none" stroke="#ffccff" stroke-width="0.5" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 288px; height: 1px; padding-top: 1660px; margin-left: 501px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; overflow-wrap: normal;"><font style="font-size: 12px;">router-filter-base-flow.drawio.svg</font></div></div></div></foreignObject><text x="645" y="1664" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-style="italic">router-filter-base-flow.drawio.svg</text></switch></g><a xlink:href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/http/http_filters"><rect x="430" y="540" width="220" height="80" rx="12" ry="12" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="430" y="540" width="220" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 580px; margin-left: 431px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">HTTP level filter A</div></div></div></foreignObject><text x="540" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">HTTP level filter A</text></switch></g></a><a xlink:href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/http/http_filters"><rect x="705" y="540" width="220" height="80" rx="12" ry="12" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="705" y="540" width="220" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 580px; margin-left: 706px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">HTTP level filter B</div></div></div></foreignObject><text x="815" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">HTTP level filter B</text></switch></g></a><a xlink:href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/http/http_filters"><rect x="970" y="540" width="220" height="80" rx="12" ry="12" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="970" y="540" width="220" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 580px; margin-left: 971px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">router filterÂ Â ðŸ”—<br /><span style="font-weight: 400;"><br /></span><span style="font-weight: normal;">Must be the terminal filter</span></div></div></div></foreignObject><text x="1080" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">router filterÂ Â ðŸ”—...</text></switch></g></a><path d="M 150 560 L 423.63 560" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 428.88 560 L 421.88 563.5 L 423.63 560 L 421.88 556.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 560px; margin-left: 290px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">HTTP Request</div></div></div></foreignObject><text x="290" y="563" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">HTTP Reque...</text></switch></g><path d="M 650 560 L 698.63 560" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 703.88 560 L 696.88 563.5 L 698.63 560 L 696.88 556.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 925 560 L 963.63 560" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 968.88 560 L 961.88 563.5 L 963.63 560 L 961.88 556.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1610 590 L 1196.37 599.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1191.12 599.97 L 1198.03 596.31 L 1196.37 599.85 L 1198.2 603.31 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 595px; margin-left: 1400px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">HTTP Response</div></div></div></foreignObject><text x="1400" y="598" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">HTTP Respo...</text></switch></g><path d="M 970 600 L 931.37 600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 926.12 600 L 933.12 596.5 L 931.37 600 L 933.12 603.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 705 600 L 656.37 600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 651.12 600 L 658.12 596.5 L 656.37 600 L 658.12 603.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 430 600 L 156.37 600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 151.12 600 L 158.12 596.5 L 156.37 600 L 158.12 603.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 600px; margin-left: 290px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">HTTP Response</div></div></div></foreignObject><text x="290" y="603" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">HTTP Respo...</text></switch></g><path d="M 1190 560 L 1604.86 577.29" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1610.11 577.5 L 1602.97 580.71 L 1604.86 577.29 L 1603.26 573.72 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 569px; margin-left: 1401px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">3. forward HTTP Request</div></div></div></foreignObject><text x="1401" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">3. forward...</text></switch></g><path d="M 1630 540 L 1710 540 L 1730 580 L 1710 620 L 1630 620 L 1610 580 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><path d="M 1630 540 L 1710 540 L 1730 580 L 1710 620 L 1630 620 L 1610 580 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 1611px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">workload</div></div></div></foreignObject><text x="1670" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">workload</text></switch></g><path d="M 40 530 L 120 530 L 140 570 L 120 610 L 40 610 L 20 570 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><path d="M 40 530 L 120 530 L 140 570 L 120 610 L 40 610 L 20 570 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 570px; margin-left: 21px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">workload</div></div></div></foreignObject><text x="80" y="574" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">workload</text></switch></g><rect x="1270" y="300" width="180" height="90" rx="13.5" ry="13.5" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1270" y="300" width="180" height="90" rx="13.5" ry="13.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 345px; margin-left: 1271px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">upstream cluster</div></div></div></foreignObject><text x="1360" y="349" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">upstream cluster</text></switch></g><rect x="1490" y="340" width="180" height="90" rx="13.5" ry="13.5" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1490" y="340" width="180" height="90" rx="13.5" ry="13.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 385px; margin-left: 1491px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">connection pool</div></div></div></foreignObject><text x="1580" y="389" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">connection pool</text></switch></g><path d="M 1127.66 540 L 1301.51 394.09" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1305.53 390.72 L 1302.41 397.9 L 1301.51 394.09 L 1297.91 392.54 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 465px; margin-left: 1217px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1. select</div></div></div></foreignObject><text x="1217" y="468" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">1. select</text></switch></g><path d="M 1182.56 540 L 1484.07 422.41" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1488.96 420.51 L 1483.71 426.31 L 1484.07 422.41 L 1481.17 419.79 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 480px; margin-left: 1336px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">2. acquire connection</div></div></div></foreignObject><text x="1336" y="483" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">2. acquire...</text></switch></g><a xlink:href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/http/http_routing"><path d="M 630 790 L 1365 790 L 1365 1291.61 Q 1181.25 1240.5 997.5 1291.61 Q 813.75 1342.71 630 1291.61 L 630 818.39 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><path d="M 630 790 L 1365 790 L 1365 1291.61 Q 1181.25 1240.5 997.5 1291.61 Q 813.75 1342.71 630 1291.61 L 630 818.39 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 733px; height: 1px; padding-top: 1027px; margin-left: 632px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div><ul><li>Virtual hosts that map domains/authorities to a set of routing rules.</li><li>Prefix and exact path matching rules (both case sensitive and case insensitive).</li><li>Regex path matching rules.</li><li>TLS redirection at the virtual host level.</li><li>Path/host redirection at the route level.</li><li>Direct (non-proxied) HTTP responses at the route level.</li><li>Explicit host rewriting.</li><li>Automatic host rewriting based on the DNS name of the selected upstream host</li><li>Prefix rewriting.</li><li>Path rewriting using a regular expression and capture groups.</li><li>Request retries specified either via HTTP header or via route configuration.</li><li>Request timeout specified either via HTTP header or via route configuration.</li><li>Request hedging for retries in response to a request (per try) timeout.</li><li>Traffic shifting from one upstream cluster to another via runtime values (see traffic shifting/splitting).</li><li>Traffic splitting across multiple upstream clusters using weight/percentage-based routing (see traffic shifting/splitting).</li><li>Arbitrary header matching routing rules.</li><li>Virtual cluster specifications. A virtual cluster is specified at the virtual host level and is used by Envoy to generate additional statistics on top of the standard cluster level ones. Virtual clusters can use regex matching.</li><li>Priority based routing.</li><li>Hash policy based routing.</li><li>Absolute urls are supported for non-tls forward proxies.</li></ul><div>Â ðŸ”—<br /></div></div></div></div></div></foreignObject><text x="632" y="1030" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Virtual hosts that map domains/authorities to a set of routing rules.Prefix and exact path matching rules (both case sensi...</text></switch></g></a><path d="M 1073.05 620 L 1043.91 787.8" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1039.54 774.98 L 1043.72 788.9 L 1052.35 777.2" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 705px; margin-left: 1058px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">&lt;&lt;function&gt;&gt;</div></div></div></foreignObject><text x="1058" y="708" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">&lt;&lt;function&gt;&gt;</text></switch></g><path d="M 1070 20 L 1320 20 L 1320 170 Q 1257.5 152 1195 170 Q 1132.5 188 1070 170 L 1070 30 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><path d="M 1070 20 L 1320 20 L 1320 170 Q 1257.5 152 1195 170 Q 1132.5 188 1070 170 L 1070 30 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 90px; margin-left: 1072px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><ul><li>Route Scope</li><li>Retry semantics<br /></li></ul></div></div></div></foreignObject><text x="1072" y="94" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Route ScopeRetry semantics&#xa;</text></switch></g><rect x="1000" y="300" width="180" height="90" rx="13.5" ry="13.5" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1000" y="300" width="180" height="90" rx="13.5" ry="13.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 345px; margin-left: 1001px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Route table</div></div></div></foreignObject><text x="1090" y="349" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Route table</text></switch></g><path d="M 1081.7 540 L 1087.81 396.36" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1088.04 391.12 L 1091.24 398.26 L 1087.81 396.36 L 1084.24 397.96 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 465px; margin-left: 1085px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">&lt;&lt;use&gt;&gt;</div></div></div></foreignObject><text x="1085" y="468" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">&lt;&lt;use&gt;&gt;</text></switch></g><rect x="770" y="220" width="180" height="90" rx="13.5" ry="13.5" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="770" y="220" width="180" height="90" rx="13.5" ry="13.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 265px; margin-left: 771px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">route configuration</div></div></div></foreignObject><text x="860" y="269" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">route configuration</text></switch></g><rect x="550" y="350" width="180" height="90" rx="13.5" ry="13.5" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="550" y="350" width="180" height="90" rx="13.5" ry="13.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 395px; margin-left: 551px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">retry configuration</div></div></div></foreignObject><text x="640" y="399" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">retry configuration</text></switch></g><path d="M 716.15 350 L 761.47 323.22" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 783 310.5 L 775.98 323.19 L 761.47 323.22 L 768.49 310.53 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>