<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="6075px" height="5318px" viewBox="-0.5 -0.5 6075 5318" content="&lt;mxfile scale=&quot;1&quot; border=&quot;20&quot;&gt;&lt;diagram name=&quot;upstream-http-protocol-selection-src.drawio.svg&quot; id=&quot;ynux_H9hfVYit68Aa14Y&quot;&gt;7T1Zd+I60r+lHziX3HPw8YrhMUknt/ubdCfTSd8737xwjBHgibG5tskyv360epEEGGOzpN1LAkLIUlWpNlWVOsb14u2PyFnOv4UT4Hd0dfLWMT53dN3UtCH8hVreSYtuqQPSMou8CWnTsoZH77+ANqq0deVNQFzomIShn3jLYqMbBgFwk0KbE0Xha7HbNPSLT106MyA0PLqOL7b+5U2SOWkdWGrW/gV4szl7sqbST8aO+zyLwlVAn9fRjVv8h3y8cNhYtH88dybha67JuOkY11EYJuTV4u0a+Ai4DGyjf9r/HQz+7F/+bfb/6odPl1/1/+uRwW53+Uq6wggESdmhw/F/ELR11XfGEOV0hX0fDnA1DQP0SZy8UyD2/16hVVwVXs3Q769x4oWw789lnETAWcCXX56eHtB0ojAJ3RDNPgY+fJYXBuwB44h9X9ZiYZTq1vrecBVkjqwZr993XDCH5AGiIsk45N2YvNsIyn6KtxT0GRT0BLyhx82TBQKYBl/CRYfP4Dr0wwi2BGEAEPg832dNmGiuryHRGFeO780C2OZCNAH44dULiBIPUuol/WDhTSboWVevcy8Bj0u4Htj6CjcmbMOUCCb0wTPfidEqVTSJZ5C4czYjRoUqReQjnb/O3pMdqukZ4LYRDoUjmi54y4GWAuoPEC5AEr3DLuzTvkk3BeUapsl2yWu2B80hbZvn9x/r6FAkztLRM+KFLyh+2FtKzjvsGpsuyvFXFL13YAbgZiebOcN6EfAy1OQIAkE4h3sV/4HtEyeep2OkOEJv8P57CGMPbxAJddxxHZJwWYaYxmGShIsGkWzrRRz3bAmOh5Yl4thUd8dxOaQOBKSOV9MphA8UOpETxOilcYm4d/gCehAmief4AsYhFVwiyYPAi/aZ527a9RDN/f71tapuQP9/Vosl24hO5KZjMInU3xlPYFIQe2ux1FMVTbcEvFiSrcfaIuA7ifdSlJ8yVNGHPoQelhf0iQPNKtJFygzYGHG4ilxAv5aXdtxImmptGypxohlINgzFOobTaQwKfTCBpQCrTnPDkjTXdxZo4wbjeImxTWgw9j3ISvamQMMYDrGQaSlQQoFWvzYKFIY6AQrU+wIJ/gzGVGxBRZaSI0djUAot0Uv33fdgz8jYLt3omHfjtCHVke9XCRwGMPqkSoYlqkPTgQtcV0bD44FlWmqDEmugchLLtES61PoSwhw0JbB0UQ25OlHETSwwmJgyxA30MRSBTeqTKq9rSDEnYymNYc7QBMyFqwQDmnD+6RRy7WqMPc+UY8hgEvYdamHgtlsPTRjr+XBU+m67cKiu/xOmSfoZFKyE+5G27+b159U/rv69CJ33xeW3v/55GUx7+s7CQlWH/UNKC80w+grH5fWhzpp2FhmGPlB0bjzD5kY7Aalh6AIB3+9EwOESBE9zL6iXgtWNFFydYqXUyRxSOSq2hrtRLCRYs69xSsJB6dc2B4rW7xu6Sn4WaU9XKys/9lDlhuKN88OS8SYU5qiYeYnipRN0ZG4slxAWsgOj2bgL1wQfrbJfF0Q7R7yyR8Qh6qhpyzfyQSY6e9xAOhJKaIz8iwup3wza/0HqMQun8MdN8BIislpG4dt7ztFFVpF3dOVVAeb6QbsmJJL8OnWkSixS+PcWAfdqFjkTD2SfyX1XuPvndY6u1KmhbnBXpH4I3kGxxo/BOVPy4irvzkKPdOIlWejUe0PzuFoiqgPRzQscLO6kzhasLS3eZsjDrTivsam4vocZCPG+XKUY5RbYmD5j6vzOGoi+E3sg8gy7v786s0lO57bRarmRQDlK3Ir+AqkKmMthXU4nUgIUiEe6BXgKcL0k8t6UVzAexSB6wV/cTAf5XdE4aXBGimVIKCNVWPK0MaxB1bV7z/fWv67C6Ofy7t40//HlX1/fJLSBeOAyAnG8iko6L4pqgcwZLXoodoPxDgJbZwL7UP4Iu6gfmEOzokhWzW1DHVYkq2ul75gJraKrNZVr49yhDu8Zc+B/uM96Yz90n71glrOFM5+a+LVk7iQYqXiKEUhWUYCbARpvtRjjATAzS4cbvycg7hBn3IQIbch7fPyZF+NhlmEQe2MfYKUgSr9M5kUGh1shUYSNUOG8iGNsPpgm1Q+KmvSlaGqf981aIqOyZO5/owY+tV7rK9Idda/ypHI4Ksw6UlKBePAQ08zGonNEgvXFo56f97Q/ocZfnbgsW0JcdkPEJbpTv4PkNYyekapvXD4hlC7DKHmEdAGS+yVSdWJRN3/1Fr5DkJBTXLUyh3dE53Hnnj+5c96hVgPboMnsPrN3V/Mw8v4Lh3Uy7EMWS+Wp3i/0eETfpCiDnAr2eWAo07imb85boeOdEzM1Cho7vrMknJB8cQFFjRdcUQ2PmBucz9ABg6nU2dt3B2A8TWlIoI2yZLXek2QMioqUpg1FGjJk3l7eYK6kSAk09AI1UiQ+qHGaTAg1Qchg3sKxIfT45RJyBgdR1wMNprjz4uQewiqCfKJ7sY4n1MQIqOINGQCc4B3u89nMWn5QgKEmyGqjqY9VvjlkHyDArCJxEmecWmvYOMMQta7gP2Ruq1CNtT4jqWtdadl76zPuHkHjFBnJjofJAEBSfAVxUpZm+nLyYBaX6GOU0oJeg8ElnkoLmCMueE5L1vbj3xRPTwiNn3uagEtDxKUhwRsfoBCRvhw+t6GsSJNeMIcKVE2otPRyqBzUoHaI+m4J0fB1sRSDDFrxcGLiwZC4YOR0VANL0EQFtte51juXakkxoYZUDIwcfxmMfCgYRq082EQkmioniCMIBE30qLQSYSeJsAWZhxQJVqvpnfbO7pfk67XsbHP7zs75R7FrocOFhxbPQuG7vJc0Z+93ZG7PaoejTK/JH4SuUbpkoTJ7+kd7hs3LYj5CtKyDtJcuZe1QaxykFZyfWiVHwc/E871EPEFpFcKjKoR9nnA0iT5oDRpyF2iiv0BOPZhRPs7hWicPCfIeTqNwAdkFpAuItgR0XdQBtj/iw7uvwTQkxJjrkxc9U9w8ilF7K2Y2i5mdPQpScqlFzLQuhX0VyJ19ClJk1qFAigHkssOIcezn1cjRiwdeEcLxCfYocBagI0+nEoZKFdJUTyU91mir5ENmduZU1RFL8YoP82Rk504d3x9j6SR5oqIopaYxDnFaWgDAJB4ljM2OYsxnRyHz56sYGSp8ZFwatpKjJunR08ZBPHRC2XVWCcqsS96XYDKawP2TzSjHs9MV06Q9NxWZWciRMZ0a8I8YhQT1oM9w4B/AmdwH/nsRHwVV5lK0UOIihroV4VO9afsE8SfP4L17cZGDvZA9uB2Aquq6SI/kAYg2uX6LVGZdlc2gS5Mh4RaNYfsFldcdcrhI8Ij3BZbK6sJZkiNoOGcSVrbLGpUN55yyBdeAqAJxfiLUGax8f5lEaK0du/LD5HyG7YDsub0iFWIm2r3YY5UluUISrcozBftzdWZFmMHmWe0J6zRSImXBC+cZjGKsZW5gCpu83QdkDXkRiHdPtgyoRnbjFc4NHTl+gvsgaIm9pPRGejY69+Ik8iKOThOH26VTyuhQXALJgT34pMkEPWhoXJTfd2hHqAAJ1noolzKdvXYkbqxoAKE8bxv97dQZX4G49q2z8HyklV6Hq8jD4uI71Py4TG/BLdTAiQkXsyqL98mM5kJMhlWDhSwNNVvvWeNDlLUikFD7g5NA8RvgFl01OrytpG/DQJ0OOFt0wBHDYKMHrsm0gtS7xxwiFo/G0lGLglPOas4pJwkNS4tTYKZ1FzoTuEedwAURNC3xDm99cSI/K53vVz+r0UzeIayZIrNpzBnHOMtufl3BM8cC6OXd20OdzWSzLkTwCN423Wi9bft527Yg84DeNlmu/DbxcOXEYpZDKyJOTETIznmbExHieU0rIg4uIk7nQKaN8dxbRJzMgYwuO5BZb2nuFcNRsC+/AP8FIDx3xOy4Tn22JqP3vK25TkA3EO2hGUKIBp+0UdqwFISAMFR9hqUhOiB+QGFNqjux8/VWTZCoCUCDioItUxOGfdtwDqsmmFpJNUHrm+tJuywvMUR180uSLPMk8wU4qGQlisxYofMFSki4xwS44QTQHt3smz/A3yvIc8kH39CpURbRMSe9iYeYHnVCBjQimkarUmwkMWPnIOHGVApDDCwlEeItBvfAYFk9og4MmpIs1R0wOAFTZ0WOplskFpDIKmMcZBuuzdSoYvCtO8Ftczf2oQdNNQ9IEKJ3WEBea+rtg01JxZOmbD1DjNevsq3zOlvr02lypxsHZP2maPGxiikbSuKJ9v66Q+g6jX+2ZwpFGiWGvnE4Q1+3NMUYwt1sGqY9YAh5L85t5wQPS9swak/rc0zhsOVwjBInRefsOpKV/TxgopBmC05/m/P3lC9uKAylcUPV6DoSPYqzU2UkpUlBwlxIFMtBSGHIOxHN6jW+BRdRyRrfFSjBFJXH4vHjtb+KE+TTCZwZiHAsJVFE5rDP5C6Ekn5dF9p+EzAx1/ohT+a4Ute4ksDljyur3Igi0p0omL6ECJiYcCBpJaxoIlRSUU4AMXETd4mau+Sd5Gj89w6+uQm9bBXbjURDdv5JeBbNEknKrQW7BzIPmT2mihIlOyfI9vQDOgjAbV8hPNAW/p1s6jnsjLqhDkiWoGB9yBE1BGnmrVTTFz8AFauRBxl6QurBspfowCHLUyOerazmYzarh/RqsLSaSVYPeZRdHHa9cSqbuVHh+GMJwHPLnvah6EPG1pjrDz5UJLQE74sfzhAmRvMQZz7jr6juPAxjgPp3UwGFcwEEiiIZNvlBsnya9eRH0/PQtYU4+SF9cH6gHiNxlxOxm3eZ+IKgaqQkWA0c+UgPHE08SFyJCznXiJA7y4LYsnPEF+mmwWvAy0jHgk233PvL7CvpCre5vS4kU9nvOOvYORdN6YqGYJCk5TBz268vi/0XbNhK+088s95kqh4x0yJvezKuUcWWJdrxsTItDFvVFMvU1KE1GKpmepiRujz7FX1lJn9tjtZv0LIVIyJ/SsJmz8rHwaymgrtrjaBswoFq8Pgz+BrvZUlBN4Vyd/xQNZKCGAx585aAIMaZi7JzFdbK8pmvfXI3BRYxbfnENf6M0lep1S+juJthNEuiIErvd62jeKIpuXIxZmbHz8D7ewWwYkjsjsfHu5yhEYDXx9jvljvXy4KqskTr1ojYYEQMNhoREh+HlEbq8HEw2dz6OCr7ODYjU+LjkG/4GnC5XxxVuxvLmvTN7UbRpD9/5XAoKoeHO//irwnKAp13VQ0tPs9bGKk+zdCSmZaSQg+3+J/6FyoPMQFQi1sgVg0BSe7WuLx7+A5/reL8HSxTqEGFr6RlGQEXwF2IcHVZsrgEfaamwB9EH+jlbuSgj2RVl8vVbkkH1ZVsCFTsB3EZVG8JeVGm3myF66yoXnZbTe7yrae7x8zdsuNzjY2LYZVG5IPu8JjLBE8c35ezpNSVWwyKYU/f0GfPHdTZ8ZE7CwFiDACuQINLKXWxSw5dMAV3JXLGkUpY+PuEdGDPJXC9qZcCbpf5kpF4wEJy++0FD52EBCF0SeyReEmQVcRgQqpup4ViRpg3IAIlV7agju4cQLsgvQ8GLyEGYLeZYkB4yW/rgLVTwTMIczLvCZjC/YRWiPeg+km+KAUslsl7+WpKxJFaT02ifcqaZXRZ3LSYWT/j655yDIJ8ztNDkcKuGX7H6MplvHPRl16hOoUJo/S+FJpkOLGvCVowVi6hBATJJezCIMuVvCpRPHpNGTC0qt+h4TRyUWmyvUrnNFoJL1d7i3Vhhhn3Vv0kg+fWL5UG7C3lmN0Ltjf2JnNKql+nBd4Y/JZsYI/AgxwswrwlClezuYR48UVljPBpKalVnLHhzby/xMwrE2cGw70ocHd6O9NjhkOUdrJ4f44tqbdiy4qm11LbyRJ9x5tsgxM5cWDKbHXj4YgnDkV0D6uWdjI440Ef8CPVaDyIbmUSuXTedqS09NeaKPgGDElD7yvQQLHZvyF3+mQNq0Zqa7a2ceTUhdQAqYge4iz8BIkrJEVpJVaoK3lhD1cxFN277THDiaVv27oomOSxVTW4rdgW2yF7GxHXnhncLHCpPWzYSE7WGhF6hIBKVimgPWyoetiwBZkHDKjst2n3DezGsvGDtexG0ZrI+C65FuUz5spRW7PlFIV+anumKqhdMr27FpkvWhlySV+U7G1Flqau8V1zpnYEMW/rrZjf8yLfzcg8oJi3JZm6rZjfF4GHFPO2qKjlUkycOH4izvFW1p+TrLcltwo0JuttMRyhlfVH5C5kS5+GrC9xJNHK+j2QeUhZLynO28r6fRF4UFlfrSRv7tSn3+Erqxz52IepL4Urlw8XP2jz+SDDqkV4h7wIF0aq71yHTfoD0YGspM4B6UBTBQ2seiEVfqh+c5GkA0lM+JlTAju0LAQUr+HBTVCCkCJmWZrSt2zLMHUT/65IF/pQUzSdG3tgNkYastMYIV4oX7sbvxbSyiPU2mExksQEiEYuDV+KR1yoE+5ePliS3dMtzAPX7/mdPX8EcDmfneLlPqUzt6/RP1391M0PxpaE22SrwFPoXuwb3Hbz/c/7/x/d3f/RnYDxakZsoixc03WCIEQgmHrBJAdvOknWbZ/LPNP7ATcf27JaGYkX7HmrZ6lvFis+iZWdcBkL8pLhqrbrHEnAOU+7bqGkVPdCgVtRnFeeiOQDfHcWoFv+GkhKrrm1pgRL27jHoEILe8dc7kiW+dmROyKzeOPr4jatBShnQ8aMg5FKGHxQLb2kGvJtp3B59SbEco3su5AeudF2Z7PySeLYn3Rq3EMURADdDN208858iVA5e9Qn+bOgJrI3YW9eK46KzoXCk3mQ6Kci3GMo6oIJXD7wJzEGfgEO3EB18Gl64zk3w0/lp1gH+LZCtAjCEUsLIbMsfCafLbnYfrT/HdXlIFiYIJ5jhixyqX0Od3VDblOs++Ozt+xk0e6Yh2EuR/MpmpyEjPkf+N76mpsoChFQlyT7bS1g1TFwHZIFgDeVwu+4HLfGmU8CmdRKs4eWdOWaKue3lP9qZZFL+VCaolW7esiGqpJ2tYNkZ+mNCMssL6S71cIi3/mKB1QYDDDblyc41aIiyMWmXI1GfVneVdzNsISctdbntbuntKJcmEtNGUhbtOF9CCIHtVcvmec0aMyi4nV44xTs4qrReed+2vRudEYUNcR3gEDG+wAnBgmqs9ptlp8WLjO4FJOxKCt9Bu80HWsdRhqcY5xMyCwWzjMYrXD9lrQbfu72VRTQUlSDLhqX8TfBS/ieDy9EpJMXXph6WAf48ul9CVgYuDO5D/z33ZLfKp5a/QKZbHp6vZtQ8iznMh2w4gmF0pWmsd5lWvagaiCJHt7glj6RTDbmMa3ite5vT1VqMpNN1YaKpml929L0/lA17AL2s7u7d05sM7jDDN1iiVoNeKzFOBR8P4BKU5RQjd4O8xlIOSjOglMXKBZFhcycVL3g82Exd4mXuDpBRo+pSQiJqDelVHSZ53S0Q5GwuA/JRHBFUMpa0BCUuyDLAwraGWYcPSom0efRbNzF5X2QnM+/uOD0AMIPd5NmqSgjS2Ysdf1ubChXEG09FlcWRsk8nKGyyDdZ67otWimbUHKIRLb3YQ6RdP4MUK1aslATStwIQ9W4A2XhPqWUyfcA0oA78qFBDQIU+VW64EyZJqhwqvABgGwXVcF/RwN1oDar0jguIoJRzBSXQ/tIoGaAqkWSysp47fCv2VPNntZ/UoewyYAaxaWp/RtidtgwMCRNDN3HgI2k6beOqSZQqfyNwAq9VGZhOPOBs/RixUVS5BYgNVUhlqvCFqC8GModW8wJrOQYxF5yS0wmEYhr3t+12lHkRsmTn+cW2DLEn8/s8X2eVHKgBZwKxdIzJnfueMEJ00OPm+pogYran+58yzVlN72mF1oQldd5HY1X0+lpsNvqOzbTvrOKYeeOszXEScyvW03RPuTqdPd8lkX4xNkTWlGtJ4oZXZoSECNXQVSH6mLRG0MgV8TBOWe9bhmfhLrqZES00nNHa7mmHZR1kJbNL0seSJ//Qq90Ip98+5h0I2lC1ioURmDqvRHQhqtkjFxOo1OzJRpuiiZnzyErNylK5ZKGZ9SEd/8HEYaNSFEEIGUWLV3sw4p/TQC14vZ4cpojQCSXyWHwNYF9C/i1TWDhJZS55TzQ0KJeNRwceN5NmM5G0zAaOb6PIovnIdUD0ji+XxB2RSGRhT3+mtBoJULjEoGQWOGwhfAyIhIQ7SkvOvw1d7RWJJRsKkZhtlRagQm2IDwQoEm+Suo0VltANwnoFroNQXcLAe9xO8sJLPBUmxDgWXIEd3D45enpQftwJ1CtKvEhmyRysCXdVg6eW5P89P+g2TEfrmmLiNNbcO7b1Eq4w0q4lmRbyXZuTSTySwparuXXOFBfA6KNx8sRKd31SwJH0tQeJJRuquFomRAfOlamFeT2yQpWb7WPnBWcZY6xZE6DNeRz4FRdFRNVB3w5zEppwWIF4p/xmd9byOBSyDQ8YOHSvsXhVK9awVYbaNuGqjHTUFbKuAzPYJmGNDWPVltpPvqL1b87AkffPa2NThaxxWtWt+/Ak85UBhZ+2rGvceCpfU3TGuGrGEQvnguuFMjX4xc3nbiP6i0efM4JLUihqzefHw/+dDCJGTmflvqAJ3ZKE5I0OSzGJ61OeYqz9AIv8Rx/NAWJOx8l3gLgC1Jwut+pBmdGgAiQEWQ2I7Zz8ZT/NE5hypSFjJpiOFUKVdVvT6T6b+orHNGr5k9kTwpqOnNuUkWdJmSwGhX3JzX52myTcos+zRV39jjNBm8oD9JLRiwfJxfIJdSjO1WU1wwTDApht34MoPBNpMjm6Bm8o8jbhZOc+4JkggbFYE9XPl3hkYyBwzdlgnUJdQEoP6HV5fwScdStK6+yIMTij3KFdL/ESoGCkHh8oA3X8P0t68cCgVtX3toCfwbv9jF1taQrL+25jyuPOQ4/uitvqB/MlQcHGiiaaQ91yzSsoTUwOGctj7fSRfzSGbISYsaAG6o+x95QvJGoeNEHdUih4qBfF0tfIJn2KlLdmFhgMDEFXgc/Gehjo9/kVaR6XysSy8AWGYv0hrs6TgjIditQzwtwkzD1X+butmUxM0wW47sMpSW1ie6d2fcbBtFVyMcDLiynva90I5UN11DUEe4rHUrus+Zx195XugcyD3hf6VB2gdl6/eJEiggPreoKSAllo8EiwvpAHSrD4bA/GA6hljhQi0WEh4alWNUUEBNqIIpucjoIfBo3Xo1aiKwAteiOx/cJSBi+Mnfi9IKanFVEfopv6zILp8BJVlCDGMkeqq7Vo2iRdfpl8m4fz9XPx5vR5/u/vj8+/bi5/DZ6+HH/dH99f7fGd7XnzQvrkZBDgEGv7pFIbvwOtRuHxJSk6VO3RvShGGCjgauc0ptl4LCbgKmjQ7Q9ILbPERy9H4nc0MPyfdTYC9y0Qe1k0dMdeksPua4uXi2RbIQiALIakFQO2quNLDX1eFiEgDsWGvNT3ATFHeZX+b4ggssTYq7kaqrmuOkHY0W4HP4Z0PkW6bRtFbUv9HQ2DKGh/UioPKQPAaL8bOqGlE6Ey+12evkVDyTapmM1key0Uuxpj6ObD343k2H0BWM4veMjZ+nbqqHYfdHaN/mg3Eq+FfGqnZ104NY+bu3j1j5u7ePWPq5Dm23tY465tvbxTqyotY9b+7i1j1v7uG06blNrH9dgH5t8lrLN7tI8mHEs3oJ5nNhG9J5hfgKmzooqRNIghOoBB1zy8nBrEEJdEY+GYRdRrRkah7/SMY6qwQ3V17mhKkcXQORH9+P/ABc9D4foUI/JrdoZ3naGZgdRDM8eiOhZMclTNUkIziUdo6QoPkgWT0XR2t0VDsoNnRS9zgdOCUn/pxDtAfqR/45Xij6DigJ5cHUgeMkcsz+kaaCKZ/BlmHuPSKo7XqFxiUU9DpP5p4u1cKJ2ugy20PhWvyJVEj5xTZcONd7BYpm8U/2XzgtVYiMfwidM5IZ8JRw9zfGocAJQHPlxOj/HTVYoiFJNy5XBTxAexoBOopN5HWqcz0MEXC8GGMtIJMKf07XguiZTGUls6kIfZ5WEGYwXUOdkC4nXeUVq3GnbZnjkPQc53ud0dtzGI8Th+H74il7Er17izr1ghpFTJI6xQ2gCt7/OnYSjHUxVGRgIzdH7ulqyPhJZF0Y4FMFdwofWRGd531FLNLUQDRJ5vhc8E7UHPYIkbiNH9OvrK7nlAY789q6gOnW3k9CNWVIY/A11RBSYrN86S6/3YqBPUvpA6g2jEPiaVhnFnaT5swpugJw1G6KXDoCr7MIn4N/sm2nirZ5X8Qc5rZSq/9XMsel0qrvuDubYCZtehqoVlWh9qIm2F9T+VdHySktJ7WB5wbc53XqNMSYrFLTeEmsiCrysiYaM81ss7+s10gaVjLRGI8X1Ip0YKm9slbXbsvSilOTsuuw2gZY0Rrg5YoI86c98URN6sSgUNAq5wgZztBcN31QjKXgCe07IN28QuyM32Yjd4CydiZM4ucORjazfCQKUG7JnjQz0VGUO/IUSz+EqINoBFJW9LKN78e6Gi94CMu9JbwFQp9ofFBPPE4ZtudIX2MTeZ9nOcqk8r8ZwkwMoeQgGycWwk974nbrp4GRLjb8eWL0lTV7ukUTnXum0+BJwiZfALQsCIrof0H3xoDTcegRQ/vtTSGZxfffz8enmR1WgL+u/rj5cgshJ0q357ebHHzc1Dk+5QMN5/adYv+esi/V8/Mo89TrwTgNrkiZ5gZxsumd7wcCHq4bzS5S++UXq3Px6RW2OWMGmkttH0My+3zz9df/jH6Pbr3d7KGiL+hU0H5pIIDgANyA1v6/njhccg2bJ409kt6wrxk8tV4XJfupIHxHLR2KTlntcq9efJh/dr3j+FmJh+vF1+sm3/aioui61RUk85k48Iz3vzDW4s9fNjs0tjs952oqAzVYE1HSr6JMvXxHQZn7xfaLmNFWs/PYHUg4h4yEUz9ER2QHx0gkKSGU+DQTd3pSC9zJPibRDEeLch3TXQfroUYSjISjOO+jI2H2eYXT2qIcFfR7Nxl3d0sipaP7FBZnxbvFSZGlsex81erCho6n0QOVIAYSoZlGR6IUqdKUPokxz21B1HkSJdco+aIgp5DgiiRyyqqbNVUrVTL74ZWkSSU/D1w5VJ4mI5c+8YOJFJAz1g1KL9DalA/KTVGamRVer3qaUlcVbO1SdxCLWO/v4xDKwj0ss/aGlmOpQG9ra0FRtm0O3XpVybAuOq5v2wOpbg77G6mKmlZ6bpCMx9SFxl5MVVK3wvSrL1Vobl2t5ipwgRpnG8It3zjvW0x6BC1U2FMdcMRjv7vFFU1Ae+w/ghtEkHZqc6DvBBGrdzyhuLZ96o6vXvgcwhCG5+g1fpAotlYQ87Cm9TSo/s66uXzQ7g0I4CwQZ/KkpKnq0+qYaqtbw4+9AMEuIw1DVbb3hO4JOA+m7zzUjDn6eardpDJVrumGmO5kmOpCAfB47CX206TKnXABmYeI5NGq76yNp8tlomszrbMqwUX6ZWv+MFpjflIZ+PvMmwdw5WuSWop7dUnIVx2vMJzmJFe4LmjiJSHy/n0OxZp4Pinda7Xfku+SFFg457dEoeJzh9SHXLsW09UEXux7RH3TBUuwOPuhipdgVN7AYy1bpqfz7Pc5DPngZgZ6mcw5dDRrWHf5AxGLGdCGXhbkM9zsPEW87d53VZleM6ztx7KF0okbvMcCX3nApM7jt1kPrwTiCs6LvMjTV4rax+qLbhjoejpXQYui6YtlDTTOGkGoslV09kdUS0Kv5cjRoeg+0YR8dIhla3zK4gW2e0ir7clDWRYh0wqw73KPzb+EElSu4+R8=&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs>
        <clipPath id="mx-clip-884-1978-352-26-0">
            <rect x="884" y="1978" width="352" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-884-2168-352-26-0">
            <rect x="884" y="2168" width="352" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-884-2202-352-26-0">
            <rect x="884" y="2202" width="352" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-1874-1968-572-26-0">
            <rect x="1874" y="1968" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-1928-572-26-0">
            <rect x="2734" y="1928" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2048-572-26-0">
            <rect x="2734" y="2048" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2198-572-26-0">
            <rect x="2734" y="2198" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2224-572-26-0">
            <rect x="2734" y="2224" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2250-572-26-0">
            <rect x="2734" y="2250" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2276-572-26-0">
            <rect x="2734" y="2276" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2310-572-26-0">
            <rect x="2734" y="2310" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-3389-2048-572-26-0">
            <rect x="3389" y="2048" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-3389-2082-572-60-0">
            <rect x="3389" y="2082" width="572" height="60"/>
        </clipPath>
        <clipPath id="mx-clip-1354-2348-482-26-0">
            <rect x="1354" y="2348" width="482" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-1354-2382-482-26-0">
            <rect x="1354" y="2382" width="482" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2508-572-26-0">
            <rect x="2734" y="2508" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2542-572-26-0">
            <rect x="2734" y="2542" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2004-2362-572-26-0">
            <rect x="2004" y="2362" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2004-2396-572-26-0">
            <rect x="2004" y="2396" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2004-2538-572-26-0">
            <rect x="2004" y="2538" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2004-2572-572-26-0">
            <rect x="2004" y="2572" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-3874-1658-572-26-0">
            <rect x="3874" y="1658" width="572" height="26"/>
        </clipPath>
    </defs>
    <g>
        <rect x="2900" y="5177" width="490" height="120" rx="18" ry="18" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 2904.39 5181.63 C 2904.39 5181.63 2904.39 5181.63 2904.39 5181.63 M 2904.39 5181.63 C 2904.39 5181.63 2904.39 5181.63 2904.39 5181.63 M 2903.47 5188.78 C 2906.73 5185.96 2908.85 5182.13 2911.34 5179.73 M 2903.47 5188.78 C 2905.37 5186.54 2907.17 5185.14 2911.34 5179.73 M 2901.9 5196.69 C 2907.82 5191.55 2914.38 5181.95 2918.3 5177.82 M 2901.9 5196.69 C 2907.04 5189.92 2913.21 5182.43 2918.3 5177.82 M 2901.63 5203.09 C 2908.04 5196.35 2914.57 5184.76 2923.94 5177.43 M 2901.63 5203.09 C 2907.38 5195.49 2914.11 5186.96 2923.94 5177.43 M 2902.03 5208.73 C 2911.53 5199.79 2918.84 5191.46 2928.93 5177.79 M 2902.03 5208.73 C 2909.39 5199.92 2915.84 5191.69 2928.93 5177.79 M 2901.77 5215.13 C 2912.77 5200.63 2929.34 5183.22 2934.57 5177.39 M 2901.77 5215.13 C 2911.89 5204.32 2922.2 5192.26 2934.57 5177.39 M 2902.16 5220.77 C 2918.55 5204.54 2932.71 5184.89 2939.56 5177.75 M 2902.16 5220.77 C 2911.23 5209.12 2921.49 5198.23 2939.56 5177.75 M 2901.9 5227.17 C 2911.46 5218.48 2921.72 5206.64 2945.2 5177.36 M 2901.9 5227.17 C 2918.84 5207.17 2935.04 5187.92 2945.2 5177.36 M 2902.3 5232.81 C 2918.61 5215.86 2934.29 5195.92 2950.19 5177.72 M 2902.3 5232.81 C 2916.9 5215.75 2932.38 5196.82 2950.19 5177.72 M 2902.03 5239.21 C 2919.14 5219.7 2937.46 5197.36 2955.83 5177.32 M 2902.03 5239.21 C 2917.96 5220.85 2932.91 5202.5 2955.83 5177.32 M 2901.77 5245.61 C 2918.87 5225.61 2931.47 5209.96 2960.82 5177.68 M 2901.77 5245.61 C 2920.48 5225.07 2937.26 5205.62 2960.82 5177.68 M 2902.17 5251.25 C 2924.35 5224.17 2950.29 5195.5 2966.46 5177.29 M 2902.17 5251.25 C 2921.27 5229.37 2938.81 5207.74 2966.46 5177.29 M 2901.91 5257.65 C 2920.53 5234.55 2938.31 5212.94 2971.45 5177.65 M 2901.91 5257.65 C 2918.4 5239.3 2933.72 5222.36 2971.45 5177.65 M 2902.3 5263.29 C 2928.06 5232.32 2952.05 5205.22 2977.09 5177.25 M 2902.3 5263.29 C 2925.65 5234.98 2949.63 5206.9 2977.09 5177.25 M 2902.04 5269.69 C 2920.85 5245.75 2939.17 5224.21 2982.08 5177.61 M 2902.04 5269.69 C 2921.25 5249.66 2938.98 5228.95 2982.08 5177.61 M 2902.43 5275.33 C 2926.73 5242.64 2954.95 5215.53 2987.72 5177.22 M 2902.43 5275.33 C 2921.83 5251.8 2941.52 5229.08 2987.72 5177.22 M 2900.86 5283.24 C 2926.71 5253.49 2952.7 5224.24 2992.71 5177.58 M 2900.86 5283.24 C 2921.69 5261.83 2940.39 5237.87 2992.71 5177.58 M 2902.57 5287.37 C 2923.86 5260.31 2949.2 5236.46 2998.35 5177.19 M 2902.57 5287.37 C 2932.49 5252.21 2960.29 5220.67 2998.35 5177.19 M 2904.27 5291.51 C 2931.31 5261.92 2955.55 5233.93 3003.34 5177.55 M 2904.27 5291.51 C 2940.72 5249.4 2978.94 5206.81 3003.34 5177.55 M 2906.64 5294.89 C 2933.52 5265.39 2955.49 5234.36 3008.33 5177.91 M 2906.64 5294.89 C 2943 5253.2 2977.62 5213.34 3008.33 5177.91 M 2910.97 5296 C 2936.29 5269.01 2957.86 5240.86 3013.97 5177.51 M 2910.97 5296 C 2938.03 5263.94 2968.1 5230.44 3013.97 5177.51 M 2914.64 5297.87 C 2951.6 5250.93 2992.46 5209.58 3018.96 5177.87 M 2914.64 5297.87 C 2939.35 5270.02 2964.07 5240.84 3018.96 5177.87 M 2920.29 5297.48 C 2950.89 5265.61 2977.74 5228.34 3024.6 5177.48 M 2920.29 5297.48 C 2959.82 5251.52 2999.27 5205.45 3024.6 5177.48 M 2925.27 5297.84 C 2950.61 5269.79 2974.04 5238.23 3029.59 5177.84 M 2925.27 5297.84 C 2959.98 5258.63 2993.06 5218.77 3029.59 5177.84 M 2930.92 5297.44 C 2957.93 5267 2987.07 5235.94 3035.23 5177.44 M 2930.92 5297.44 C 2965.21 5257.04 2999.05 5219.46 3035.23 5177.44 M 2935.9 5297.8 C 2971.88 5257.25 3011.66 5212.06 3040.22 5177.8 M 2935.9 5297.8 C 2962.59 5268.68 2988.87 5238.72 3040.22 5177.8 M 2941.55 5297.41 C 2965.39 5273.51 2987.01 5244.36 3045.86 5177.41 M 2941.55 5297.41 C 2963.94 5271.79 2987.02 5244.58 3045.86 5177.41 M 2946.53 5297.77 C 2969.26 5270.38 2994.44 5239.37 3050.85 5177.77 M 2946.53 5297.77 C 2982.73 5255.43 3019.69 5214.48 3050.85 5177.77 M 2952.18 5297.37 C 2989.95 5252.2 3032.94 5205.33 3056.49 5177.37 M 2952.18 5297.37 C 2992.79 5251.17 3031.02 5207.07 3056.49 5177.37 M 2957.16 5297.73 C 2985.29 5265.91 3012.31 5234 3061.48 5177.73 M 2957.16 5297.73 C 2979.06 5273.75 3001.24 5247.05 3061.48 5177.73 M 2962.81 5297.34 C 2985.31 5273 3005.24 5249.39 3067.12 5177.34 M 2962.81 5297.34 C 3002.96 5252.5 3040.98 5208.64 3067.12 5177.34 M 2967.79 5297.7 C 2995.62 5268.64 3019.86 5235.83 3072.11 5177.7 M 2967.79 5297.7 C 3003.25 5258.08 3038.07 5216.52 3072.11 5177.7 M 2973.44 5297.3 C 3003.56 5263.65 3032.82 5228.8 3077.75 5177.3 M 2973.44 5297.3 C 3014.25 5250.26 3054.72 5203.7 3077.75 5177.3 M 2978.42 5297.66 C 3006.79 5263.02 3036.11 5234.32 3082.74 5177.66 M 2978.42 5297.66 C 3009.6 5262.4 3040.97 5226.13 3082.74 5177.66 M 2983.41 5298.02 C 3012.48 5265.25 3039.5 5232.95 3088.38 5177.27 M 2983.41 5298.02 C 3010.49 5267.55 3035.71 5236.7 3088.38 5177.27 M 2989.05 5297.63 C 3026.62 5253.76 3067.48 5205.11 3093.37 5177.63 M 2989.05 5297.63 C 3026.55 5254.24 3063.83 5212.18 3093.37 5177.63 M 2994.04 5297.99 C 3029.95 5257.21 3066.35 5218.01 3099.01 5177.24 M 2994.04 5297.99 C 3018.34 5268.78 3042.09 5241.52 3099.01 5177.24 M 2999.68 5297.59 C 3039.28 5252.68 3075.66 5208.92 3104 5177.6 M 2999.68 5297.59 C 3021.72 5270.76 3045.03 5244.22 3104 5177.6 M 3004.67 5297.95 C 3035.57 5259.77 3069.94 5224.72 3108.98 5177.96 M 3004.67 5297.95 C 3027.39 5272.35 3048.83 5247.14 3108.98 5177.96 M 3010.31 5297.56 C 3048.71 5248.4 3090.02 5201.18 3114.63 5177.56 M 3010.31 5297.56 C 3046.86 5254.59 3084.03 5212.77 3114.63 5177.56 M 3015.3 5297.92 C 3050.8 5255.55 3088.06 5211.42 3119.61 5177.92 M 3015.3 5297.92 C 3048.2 5260.67 3081.64 5223.85 3119.61 5177.92 M 3020.94 5297.53 C 3051.99 5262.55 3083.98 5224.27 3125.26 5177.53 M 3020.94 5297.53 C 3043.97 5271.98 3066.15 5245.6 3125.26 5177.53 M 3025.93 5297.89 C 3056.74 5262.87 3087.06 5224.94 3130.24 5177.89 M 3025.93 5297.89 C 3057.87 5260.49 3089.7 5224.34 3130.24 5177.89 M 3031.57 5297.49 C 3066.79 5257.2 3103.42 5214.97 3135.89 5177.49 M 3031.57 5297.49 C 3055.24 5268.75 3078.71 5241.55 3135.89 5177.49 M 3036.56 5297.85 C 3064.02 5265.6 3093.81 5229.29 3140.87 5177.85 M 3036.56 5297.85 C 3072.15 5253.94 3109.49 5212.07 3140.87 5177.85 M 3042.2 5297.46 C 3070.27 5267.99 3091.77 5241.53 3146.52 5177.46 M 3042.2 5297.46 C 3067.23 5268.25 3092.74 5240.6 3146.52 5177.46 M 3047.19 5297.82 C 3076.53 5262.51 3110.9 5223.34 3151.5 5177.82 M 3047.19 5297.82 C 3078.94 5260.64 3113.03 5221.57 3151.5 5177.82 M 3052.83 5297.42 C 3087.42 5256.52 3121.04 5216.15 3157.15 5177.42 M 3052.83 5297.42 C 3074.88 5269.29 3097.98 5243.72 3157.15 5177.42 M 3057.82 5297.78 C 3088.15 5262.31 3119.92 5227.85 3162.13 5177.78 M 3057.82 5297.78 C 3081.43 5271.73 3105.19 5244.4 3162.13 5177.78 M 3063.46 5297.39 C 3089.06 5270.16 3114.25 5242.68 3167.78 5177.39 M 3063.46 5297.39 C 3102.11 5252.6 3141.95 5207.38 3167.78 5177.39 M 3068.45 5297.75 C 3094.84 5268.45 3115.94 5242.23 3172.76 5177.75 M 3068.45 5297.75 C 3107.51 5252.03 3145.55 5207.41 3172.76 5177.75 M 3073.44 5298.11 C 3112.68 5252.81 3150.99 5211.2 3178.41 5177.35 M 3073.44 5298.11 C 3099.68 5266.56 3128.09 5237.07 3178.41 5177.35 M 3079.08 5297.71 C 3107.45 5268.24 3130.75 5237.72 3183.39 5177.71 M 3079.08 5297.71 C 3108.46 5263.89 3138.35 5230.54 3183.39 5177.71 M 3084.07 5298.07 C 3105.92 5272.63 3132.43 5242.9 3189.04 5177.32 M 3084.07 5298.07 C 3109.79 5269.79 3134.13 5242.66 3189.04 5177.32 M 3089.71 5297.68 C 3119.63 5259.89 3153.46 5224.37 3194.02 5177.68 M 3089.71 5297.68 C 3122.06 5261.2 3152.88 5222.83 3194.02 5177.68 M 3094.7 5298.04 C 3126.43 5259.28 3157.15 5225.46 3199.01 5178.04 M 3094.7 5298.04 C 3118.44 5272.08 3141.74 5246.33 3199.01 5178.04 M 3100.34 5297.64 C 3131.86 5263.57 3161.02 5230.15 3204.65 5177.65 M 3100.34 5297.64 C 3126.31 5269.29 3150.81 5240.27 3204.65 5177.65 M 3105.33 5298 C 3124.63 5275.17 3148.71 5249.29 3209.64 5178.01 M 3105.33 5298 C 3141.54 5255.94 3177.57 5214.21 3209.64 5178.01 M 3110.97 5297.61 C 3150.76 5252.1 3188.73 5207.59 3215.28 5177.61 M 3110.97 5297.61 C 3142 5261.35 3171.45 5226.36 3215.28 5177.61 M 3115.96 5297.97 C 3147.29 5259.35 3180.3 5223.82 3220.27 5177.97 M 3115.96 5297.97 C 3147.15 5261.71 3179.71 5224.4 3220.27 5177.97 M 3121.6 5297.57 C 3143.24 5270.33 3167.46 5241.2 3225.91 5177.58 M 3121.6 5297.57 C 3156.64 5257.84 3189.79 5221.37 3225.91 5177.58 M 3126.59 5297.94 C 3155.12 5264.27 3184.38 5229.63 3230.9 5177.94 M 3126.59 5297.94 C 3166.59 5253.42 3206.18 5208.02 3230.9 5177.94 M 3132.23 5297.54 C 3174.54 5251.91 3217.24 5204.25 3236.54 5177.54 M 3132.23 5297.54 C 3155.54 5273.02 3177.81 5246.96 3236.54 5177.54 M 3137.22 5297.9 C 3178.32 5250.62 3215.65 5205.47 3241.53 5177.9 M 3137.22 5297.9 C 3160.9 5270.34 3183.66 5243.02 3241.53 5177.9 M 3142.86 5297.51 C 3177.99 5256.3 3214.88 5211.73 3247.17 5177.51 M 3142.86 5297.51 C 3171.02 5264.48 3200.87 5231.67 3247.17 5177.51 M 3147.85 5297.87 C 3187.33 5252.47 3227.1 5205.44 3252.16 5177.87 M 3147.85 5297.87 C 3179.93 5261.58 3210.94 5224.74 3252.16 5177.87 M 3153.49 5297.47 C 3175.6 5271.92 3195.84 5247.54 3257.8 5177.47 M 3153.49 5297.47 C 3184.62 5263.54 3214.15 5229.32 3257.8 5177.47 M 3158.48 5297.83 C 3183.54 5272.18 3205.71 5241.82 3262.79 5177.83 M 3158.48 5297.83 C 3182.76 5271.61 3208.15 5243.45 3262.79 5177.83 M 3164.12 5297.44 C 3188.27 5273.01 3208.27 5245.31 3268.43 5177.44 M 3164.12 5297.44 C 3204.85 5248.92 3246.2 5202.74 3268.43 5177.44 M 3169.11 5297.8 C 3207.31 5255.55 3243.77 5212.29 3273.42 5177.8 M 3169.11 5297.8 C 3193.21 5270.55 3218.64 5240.63 3273.42 5177.8 M 3174.1 5298.16 C 3203.95 5263.11 3233.3 5227.74 3279.06 5177.4 M 3174.1 5298.16 C 3199.37 5269.83 3225.46 5238.58 3279.06 5177.4 M 3179.74 5297.76 C 3199.17 5272.8 3223.59 5244.91 3284.05 5177.76 M 3179.74 5297.76 C 3209.35 5262.04 3240.64 5226.85 3284.05 5177.76 M 3184.73 5298.12 C 3214.05 5266.16 3243.85 5234.49 3289.69 5177.37 M 3184.73 5298.12 C 3213.66 5266.8 3241.84 5232.93 3289.69 5177.37 M 3190.37 5297.73 C 3223.6 5259.39 3256.43 5222.89 3294.68 5177.73 M 3190.37 5297.73 C 3211.71 5271.39 3233.9 5247.89 3294.68 5177.73 M 3195.36 5298.09 C 3220.11 5268.67 3247.68 5239.27 3299.67 5178.09 M 3195.36 5298.09 C 3232.71 5254.33 3271.61 5211.1 3299.67 5178.09 M 3201 5297.69 C 3240.52 5253.1 3279.63 5205.69 3305.31 5177.69 M 3201 5297.69 C 3234.53 5259.33 3265.97 5220.54 3305.31 5177.69 M 3205.99 5298.05 C 3229.91 5269.82 3256.09 5240.02 3310.3 5178.05 M 3205.99 5298.05 C 3230.15 5271 3253.94 5243.59 3310.3 5178.05 M 3211.63 5297.66 C 3232.71 5271.2 3258.07 5242.23 3315.94 5177.66 M 3211.63 5297.66 C 3251.99 5250.28 3293.66 5204.83 3315.94 5177.66 M 3216.62 5298.02 C 3247.96 5262.56 3279.95 5224.99 3320.93 5178.02 M 3216.62 5298.02 C 3239.13 5271.66 3262.66 5243.34 3320.93 5178.02 M 3222.26 5297.62 C 3248.37 5265.27 3274.81 5237.65 3326.57 5177.63 M 3222.26 5297.62 C 3255.84 5260.15 3287.72 5221.84 3326.57 5177.63 M 3227.25 5297.98 C 3256.91 5265.06 3284.59 5231.4 3331.56 5177.99 M 3227.25 5297.98 C 3261.66 5258.46 3295.65 5219.95 3331.56 5177.99 M 3232.89 5297.59 C 3271.21 5256.31 3306.44 5212.46 3337.2 5177.59 M 3232.89 5297.59 C 3257.24 5270.45 3283.08 5241.8 3337.2 5177.59 M 3237.88 5297.95 C 3259.15 5272.66 3279.31 5249.55 3342.19 5177.95 M 3237.88 5297.95 C 3276.33 5255.29 3311.65 5212.32 3342.19 5177.95 M 3243.52 5297.56 C 3265.33 5273.55 3287.26 5245.33 3347.83 5177.56 M 3243.52 5297.56 C 3267.26 5270.1 3292.07 5241.96 3347.83 5177.56 M 3248.51 5297.92 C 3275.14 5266.47 3305.35 5235.48 3352.82 5177.92 M 3248.51 5297.92 C 3282.23 5257.42 3319.47 5216.32 3352.82 5177.92 M 3254.15 5297.52 C 3278.67 5271.62 3302.65 5242.27 3358.46 5177.52 M 3254.15 5297.52 C 3295.88 5249.79 3335.88 5202.85 3358.46 5177.52 M 3259.14 5297.88 C 3292.9 5258.35 3329.15 5219.89 3363.45 5177.88 M 3259.14 5297.88 C 3297.91 5253.79 3338.48 5207.01 3363.45 5177.88 M 3264.78 5297.49 C 3301.13 5255.64 3336.34 5213.74 3369.09 5177.49 M 3264.78 5297.49 C 3301.3 5257.81 3337.66 5216.19 3369.09 5177.49 M 3269.77 5297.85 C 3304.94 5254.26 3343.49 5211.53 3374.08 5177.85 M 3269.77 5297.85 C 3309.06 5254.74 3347.08 5210.45 3374.08 5177.85 M 3274.75 5298.21 C 3301.3 5268.76 3329.54 5238.31 3378.41 5178.96 M 3274.75 5298.21 C 3311.13 5254.71 3350.24 5211.78 3378.41 5178.96 M 3280.4 5297.81 C 3316.07 5251.87 3355.88 5211.92 3382.09 5180.83 M 3280.4 5297.81 C 3307.75 5265.16 3334.44 5233.63 3382.09 5180.83 M 3285.38 5298.17 C 3325.08 5253.29 3365.75 5208.41 3386.42 5181.95 M 3285.38 5298.17 C 3309.68 5270.54 3335.09 5242.33 3386.42 5181.95 M 3291.03 5297.78 C 3325.69 5257.33 3358.8 5221.35 3388.12 5186.08 M 3291.03 5297.78 C 3313.55 5270.23 3337.93 5244.09 3388.12 5186.08 M 3296.01 5298.14 C 3328.38 5265.9 3355.61 5231.79 3389.83 5190.21 M 3296.01 5298.14 C 3315.45 5275.52 3336.95 5250.87 3389.83 5190.21 M 3301.66 5297.74 C 3325.25 5267.17 3352.44 5238.15 3392.19 5193.59 M 3301.66 5297.74 C 3329.81 5264.51 3359.3 5230.27 3392.19 5193.59 M 3306.64 5298.1 C 3340.39 5259.72 3368.24 5227.16 3392.59 5199.24 M 3306.64 5298.1 C 3327.33 5274.05 3350.32 5247.42 3392.59 5199.24 M 3312.29 5297.71 C 3338.15 5269.81 3363.25 5240.52 3392.33 5205.63 M 3312.29 5297.71 C 3338.28 5267.82 3362.75 5238.87 3392.33 5205.63 M 3317.27 5298.07 C 3344.27 5265.64 3373.83 5231.6 3392.72 5211.28 M 3317.27 5298.07 C 3343.83 5266.77 3371.05 5238.2 3392.72 5211.28 M 3322.92 5297.67 C 3339.65 5277.71 3359.14 5253.54 3392.46 5217.68 M 3322.92 5297.67 C 3347.44 5270.26 3370.17 5243.61 3392.46 5217.68 M 3327.9 5298.03 C 3350.73 5270.87 3373.45 5244.22 3392.2 5224.07 M 3327.9 5298.03 C 3341.81 5281.9 3357.37 5265.56 3392.2 5224.07 M 3333.55 5297.64 C 3348.6 5282.19 3362.2 5262.36 3392.59 5229.72 M 3333.55 5297.64 C 3350.66 5278.74 3366.84 5261.29 3392.59 5229.72 M 3338.53 5298 C 3351.35 5284.17 3365.06 5266.63 3392.33 5236.11 M 3338.53 5298 C 3351.66 5282.12 3365.17 5267.27 3392.33 5236.11 M 3344.18 5297.61 C 3355.03 5283.8 3367.45 5269.67 3392.72 5241.76 M 3344.18 5297.61 C 3358.2 5283 3372 5267.62 3392.72 5241.76 M 3349.16 5297.97 C 3363.11 5278.73 3378.7 5263.27 3392.46 5248.15 M 3349.16 5297.97 C 3362.83 5281.62 3377.69 5265.78 3392.46 5248.15 M 3354.81 5297.57 C 3369.07 5280.87 3383.16 5265.8 3392.2 5254.55 M 3354.81 5297.57 C 3365.72 5284.47 3377.37 5271.27 3392.2 5254.55 M 3359.79 5297.93 C 3368.62 5286.93 3377.14 5276.08 3392.6 5260.2 M 3359.79 5297.93 C 3371.8 5283.88 3383.38 5269.77 3392.6 5260.2 M 3364.78 5298.29 C 3373.43 5286.94 3387.38 5273.24 3392.34 5266.59 M 3364.78 5298.29 C 3375.77 5285.51 3385.19 5273.41 3392.34 5266.59 M 3370.42 5297.9 C 3380.66 5287.75 3386.64 5279.07 3392.73 5272.24 M 3370.42 5297.9 C 3375.18 5292.2 3380.84 5285.53 3392.73 5272.24 M 3374.75 5299.01 C 3380.34 5290.7 3389.33 5281.68 3392.47 5278.63 M 3374.75 5299.01 C 3381.22 5292.61 3386.54 5285.74 3392.47 5278.63" fill="none" stroke="#ffccff" stroke-width="0.5" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 488px; height: 1px; padding-top: 5237px; margin-left: 2901px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; overflow-wrap: normal;">
                                <font style="">
                                    Istio Upstream HTTP protocol selection
                                    <br/>
                                    <br/>
                                    upstream-http-protocol-selection-src.drawio.svg
                                    <br/>
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3145" y="5241" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-style="italic">
                    Istio Upstream HTTP protocol selection...
                </text>
            </switch>
        </g>
        <rect x="1980" y="37" width="955" height="400" rx="60" ry="60" fill="#000000" stroke="#000000" stroke-dasharray="3 3" pointer-events="all" transform="translate(2,3)" opacity="0.25"/>
        <rect x="1980" y="37" width="955" height="400" rx="60" ry="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 953px; height: 1px; padding-top: 34px; margin-left: 1981px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Legend
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2458" y="34" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Legend
                </text>
            </switch>
        </g>
        <path d="M 2075 117 L 2299.29 117" fill="none" stroke="#66cc00" stroke-width="6" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2308.29 117 L 2296.29 123 L 2299.29 117 L 2296.29 111 Z" fill="#66cc00" stroke="#66cc00" stroke-width="6" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 117px; margin-left: 2180px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                buffer transfer: move-partial
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2180" y="120" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    buffer tra...
                </text>
            </switch>
        </g>
        <path d="M 2075 197 L 2299.29 197" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2308.29 197 L 2296.29 203 L 2299.29 197 L 2296.29 191 Z" fill="#3399ff" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 197px; margin-left: 2180px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                buffer transfer:  move-slice
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2180" y="200" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    buffer tra...
                </text>
            </switch>
        </g>
        <path d="M 2060 317 C 2060 308.72 2095.82 302 2140 302 C 2161.22 302 2181.57 303.58 2196.57 306.39 C 2211.57 309.21 2220 313.02 2220 317 L 2220 367 C 2220 375.28 2184.18 382 2140 382 C 2095.82 382 2060 375.28 2060 367 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2220 317 C 2220 325.28 2184.18 332 2140 332 C 2095.82 332 2060 325.28 2060 317" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 355px; margin-left: 2061px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Unbounded buffer
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="359" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Unbounded buffer
                </text>
            </switch>
        </g>
        <path d="M 2280 317 C 2280 308.72 2313.58 302 2355 302 C 2374.89 302 2393.97 303.58 2408.03 306.39 C 2422.1 309.21 2430 313.02 2430 317 L 2430 367 C 2430 375.28 2396.42 382 2355 382 C 2313.58 382 2280 375.28 2280 367 Z" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2430 317 C 2430 325.28 2396.42 332 2355 332 C 2313.58 332 2280 325.28 2280 317" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 355px; margin-left: 2281px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Bounded buffer
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2355" y="359" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Bounded buffer
                </text>
            </switch>
        </g>
        <path d="M 2991.23 2167 L 2719.24 1391.82" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2716.26 1383.33 L 2725.89 1392.67 L 2719.24 1391.82 L 2714.57 1396.64 Z" fill="#3399ff" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1776px; margin-left: 2854px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                outbound traffic
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2854" y="1780" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    outbound...
                </text>
            </switch>
        </g>
        <path d="M 2751.22 2837 L 2974.86 2573.23" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2974.49 2579.86 L 2979.2 2568.12 L 2968.39 2574.68" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2697px; margin-left: 2877px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Outbound traffic
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2877" y="2700" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    Outbound t...
                </text>
            </switch>
        </g>
        <rect x="2680" y="2837" width="78" height="76" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 2753 2837 L 2685.01 2837 C 2682.43 2837 2680.34 2839.09 2680.34 2841.67 L 2680.34 2886.56 C 2680.34 2889.13 2682.43 2891.22 2685.01 2891.22 L 2753 2891.22 C 2755.57 2891.22 2757.66 2889.13 2757.66 2886.56 L 2757.66 2841.67 C 2757.66 2839.09 2755.57 2837 2753 2837 Z M 2754.13 2886.56 C 2754.13 2887.18 2753.62 2887.69 2753 2887.69 L 2685.01 2887.69 C 2684.38 2887.69 2683.87 2887.18 2683.87 2886.56 L 2683.87 2841.67 C 2683.87 2841.04 2684.38 2840.53 2685.01 2840.53 L 2753 2840.53 C 2753.62 2840.53 2754.13 2841.04 2754.13 2841.67 Z M 2748.92 2843.18 L 2689.03 2843.18 C 2687.64 2843.18 2686.52 2844.31 2686.52 2845.69 L 2686.52 2882.53 C 2686.52 2883.92 2687.64 2885.04 2689.03 2885.04 L 2748.92 2885.04 C 2750.3 2885.04 2751.43 2883.92 2751.43 2882.53 L 2751.43 2845.69 C 2751.43 2844.31 2750.3 2843.18 2748.92 2843.18 Z M 2690.05 2881.51 L 2690.05 2846.71 L 2747.9 2846.71 L 2747.9 2881.51 Z M 2753 2894.15 L 2685.01 2894.15 C 2682.43 2894.15 2680.34 2896.24 2680.34 2898.82 L 2680.34 2908.33 C 2680.34 2910.9 2682.43 2913 2685.01 2913 L 2753 2913 C 2755.57 2913 2757.66 2910.9 2757.66 2908.33 L 2757.66 2898.82 C 2757.66 2896.24 2755.57 2894.15 2753 2894.15 Z M 2754.13 2908.33 C 2754.13 2908.96 2753.62 2909.47 2753 2909.47 L 2685.01 2909.47 C 2684.38 2909.47 2683.87 2908.96 2683.87 2908.33 L 2683.87 2898.82 C 2683.87 2898.19 2684.38 2897.68 2685.01 2897.68 L 2753 2897.68 C 2753.62 2897.68 2754.13 2898.19 2754.13 2898.82 Z M 2751.49 2901.93 L 2751.49 2905.32 C 2751.49 2906.1 2750.86 2906.72 2750.09 2906.72 L 2731.12 2906.72 C 2730.34 2906.72 2729.72 2906.1 2729.72 2905.32 L 2729.72 2901.93 C 2729.72 2901.15 2730.34 2900.53 2731.12 2900.53 L 2750.09 2900.53 C 2750.86 2900.53 2751.49 2901.15 2751.49 2901.93 Z" fill="#232f3d" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2920px; margin-left: 2719px;">
                        <div data-drawio-colors="color: #232F3E; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(35, 47, 62); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <span style="color: rgb(0, 0, 0); font-size: 11px; background-color: rgb(255, 255, 255);">
                                    downstream of Envoy proxy
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2719" y="2932" fill="#232F3E" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    downstream of...
                </text>
            </switch>
        </g>
        <path d="M 2660 1362.87 L 2660 1295.76 L 2695.53 1287 L 2725.31 1296.01 L 2725.31 1363.87 L 2690.28 1372.14 Z" fill="#abb4c5" stroke="none" pointer-events="all"/>
        <path d="M 2660 1295.76 L 2695.53 1287 L 2725.31 1296.01 L 2690.28 1304.53 Z" fill="#b8bfd1" stroke="none" pointer-events="all"/>
        <path d="M 2690.28 1304.53 L 2725.31 1296.01 L 2725.31 1363.87 L 2690.28 1372.14 Z" fill="#5b6369" stroke="none" pointer-events="all"/>
        <path d="M 2690.63 1341.44 C 2684.11 1338.92 2677.87 1335.74 2672.01 1331.92 C 2669.2 1329.97 2666.81 1327.47 2665 1324.56 C 2663.76 1322.29 2663.12 1319.74 2663.15 1317.15 C 2663.05 1314.36 2663.1 1311.57 2663.3 1308.79 C 2663.45 1306.3 2663.71 1303.83 2664.1 1301.37 C 2664.47 1300.02 2665.03 1298.72 2665.76 1297.52 C 2667.28 1296.49 2669 1295.65 2670.86 1295.01 C 2674.03 1293.93 2677.26 1293.01 2680.52 1292.26 C 2683.92 1291.35 2687.38 1290.68 2690.88 1290.26 C 2693.25 1289.96 2695.65 1289.87 2698.04 1290 C 2701.93 1290.28 2705.75 1291.13 2709.4 1292.51 L 2721.26 1296.87 C 2722.3 1298.6 2722.98 1300.52 2723.26 1302.53 C 2723.59 1305.22 2723.78 1307.93 2723.81 1310.64 C 2724 1316.62 2723.84 1322.61 2723.31 1328.57 C 2723.24 1331.2 2722.35 1333.74 2720.76 1335.83 C 2718.44 1338.39 2715.31 1340.07 2711.9 1340.59 C 2709.17 1341.01 2706.41 1341.22 2703.64 1341.19 Z" fill-opacity="0.4" fill="#ffffff" stroke="none" pointer-events="all"/>
        <rect x="2660" y="1287" width="0" height="0" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 2663.5 1306.03 L 2663.5 1304.28 L 2686.28 1311.29 L 2686.28 1313.04 Z M 2667.26 1359.12 L 2667.26 1357.36 L 2681.27 1361.37 L 2681.27 1363.12 Z" fill="#52595e" stroke="none" pointer-events="all"/>
        <path d="M 2660 1362.87 L 2660 1295.76 L 2695.53 1287 L 2725.31 1296.01 L 2725.31 1363.87 L 2690.28 1372.14 Z" fill="none" stroke="#000000" stroke-width="0.6" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2660" y="1287" width="0" height="0" fill="none" stroke="none" pointer-events="all"/>
        <ellipse cx="2717.01" cy="1358.17" rx="18.818449460255152" ry="18.830337766401424" fill="#008cce" stroke="none" pointer-events="all"/>
        <path d="M 2704.16 1344.68 C 2704.35 1345.2 2704.61 1345.7 2704.92 1346.15 C 2705.44 1346.2 2705.95 1346.36 2706.4 1346.62 C 2706.27 1347.15 2706.5 1347.7 2706.96 1347.99 C 2707.31 1348.19 2707.55 1348.55 2707.6 1348.95 C 2707.61 1349.15 2707.71 1349.34 2707.86 1349.47 C 2708.02 1349.6 2708.22 1349.66 2708.42 1349.65 C 2708.65 1349.61 2708.89 1349.6 2709.12 1349.6 C 2709.63 1349.53 2710.15 1349.64 2710.58 1349.9 L 2712.17 1351.05 C 2712.42 1351.22 2712.61 1351.49 2712.68 1351.78 C 2712.77 1352.07 2712.77 1352.39 2712.68 1352.68 C 2712.55 1352.71 2712.42 1352.7 2712.3 1352.64 C 2712.21 1352.39 2712.03 1352.18 2711.79 1352.06 C 2711.49 1351.94 2711.14 1351.94 2710.84 1352.06 C 2710.43 1352.29 2709.96 1352.37 2709.5 1352.3 C 2709.12 1352.31 2708.77 1352.5 2708.54 1352.8 C 2708.37 1353.06 2708.09 1353.22 2707.78 1353.24 C 2707.47 1353.27 2707.17 1353.15 2706.96 1352.93 C 2706.77 1352.68 2706.47 1352.54 2706.15 1352.57 C 2705.84 1352.6 2705.57 1352.8 2705.43 1353.08 C 2705.27 1353.45 2705.17 1353.83 2705.13 1354.23 C 2705.14 1354.74 2705.04 1355.25 2704.85 1355.73 C 2704.74 1355.97 2704.57 1356.18 2704.34 1356.32 C 2703.97 1356.42 2703.73 1356.77 2703.78 1357.15 C 2704.08 1357.51 2704.31 1357.91 2704.47 1358.35 C 2704.61 1358.62 2704.5 1358.94 2704.21 1359.11 C 2703.93 1359.35 2703.79 1359.72 2703.86 1360.08 C 2703.42 1360.09 2702.98 1360.02 2702.56 1359.88 C 2702.4 1359.67 2702.18 1359.52 2701.93 1359.44 C 2701.69 1359.39 2701.44 1359.48 2701.29 1359.67 C 2701 1360.08 2700.79 1360.54 2700.68 1361.02 C 2700.58 1361.35 2700.53 1361.7 2700.52 1362.04 C 2700.85 1362.65 2701.01 1363.33 2700.99 1364.02 L 2701.24 1366.06 C 2701.26 1366.33 2701.19 1366.6 2701.05 1366.82 C 2700.89 1367.03 2700.67 1367.18 2700.42 1367.25 C 2696.43 1359.75 2697.95 1350.51 2704.14 1344.68 Z" fill="#00527f" stroke="none" pointer-events="all"/>
        <path d="M 2727.18 1342.52 C 2727.09 1342.8 2726.91 1343.05 2726.67 1343.21 C 2726.44 1343.3 2726.2 1343.35 2725.95 1343.36 L 2724.56 1343.54 C 2723.96 1343.47 2723.35 1343.53 2722.78 1343.74 C 2722.83 1343.94 2722.75 1344.15 2722.58 1344.28 C 2722.42 1344.4 2722.19 1344.41 2722.02 1344.3 C 2721.65 1344.31 2721.31 1344.47 2721.07 1344.74 C 2720.89 1344.94 2720.64 1345.07 2720.36 1345.12 C 2719.98 1345.2 2719.65 1345.45 2719.47 1345.8 C 2719.31 1346.11 2719.01 1346.18 2718.79 1345.95 C 2718.65 1345.68 2718.56 1345.38 2718.53 1345.07 C 2718.28 1344.47 2717.83 1343.97 2717.26 1343.67 C 2716.68 1343.41 2716.14 1343.07 2715.66 1342.65 C 2715.35 1342.42 2715.17 1342.07 2715.15 1341.68 C 2715.13 1341.45 2715.16 1341.22 2715.22 1341 C 2715.03 1340.6 2714.65 1340.33 2714.21 1340.28 C 2713.88 1340.2 2713.61 1339.96 2713.5 1339.64 C 2718.34 1338.74 2723.34 1339.78 2727.43 1342.52 Z" fill="#64aadc" stroke="none" pointer-events="all"/>
        <path d="M 2735.06 1363.26 C 2735 1362.68 2734.78 1362.12 2734.42 1361.66 C 2734.03 1361.63 2733.65 1361.82 2733.46 1362.17 C 2733.15 1362.61 2732.67 1362.91 2732.14 1363.01 C 2731.76 1362.59 2731.84 1362.01 2732.32 1361.66 C 2732.63 1361.19 2732.7 1360.61 2732.52 1360.08 C 2732.48 1359.85 2732.39 1359.64 2732.27 1359.44 C 2731.91 1359.09 2731.65 1358.65 2731.5 1358.17 C 2731.17 1358.39 2730.77 1358.35 2730.46 1358.09 C 2730.15 1357.82 2729.98 1357.36 2730.02 1356.9 C 2730.04 1356.35 2729.84 1355.82 2729.47 1355.43 C 2729.5 1354.56 2729.23 1353.7 2728.7 1353.01 C 2728.17 1352.48 2727.47 1352.16 2726.72 1352.11 C 2726.09 1352.13 2725.57 1351.75 2725.56 1351.28 C 2725.55 1350.81 2726.04 1350.42 2726.67 1350.41 C 2727.62 1350.52 2728.58 1350.49 2729.52 1350.33 C 2730.43 1350.22 2731.32 1349.95 2732.14 1349.52 L 2733.03 1348.3 C 2735.76 1352.78 2736.5 1358.21 2735.06 1363.26 Z" fill="#0a79b9" stroke="none" pointer-events="all"/>
        <path d="M 2733.15 1367.97 C 2732.72 1368.51 2732.15 1368.92 2731.5 1369.16 C 2730.99 1369.32 2730.64 1369.78 2730.61 1370.31 C 2730.55 1370.5 2730.5 1370.4 2730.45 1370.04 C 2730.4 1369.68 2730.37 1369.08 2730.35 1368.4 C 2730.43 1367.76 2730.67 1367.14 2731.04 1366.62 C 2731.45 1366.24 2731.82 1365.81 2732.14 1365.35 C 2732.25 1365.16 2732.25 1364.93 2732.14 1364.74 C 2732.03 1364.55 2731.82 1364.45 2731.6 1364.47 C 2731.38 1364.49 2731.2 1364.64 2731.12 1364.84 C 2730.65 1365.4 2730.22 1365.99 2729.85 1366.62 C 2729.23 1367.55 2728.33 1367.93 2727.48 1367.64 C 2726.97 1367.39 2726.4 1367.26 2725.83 1367.25 C 2725.49 1367.39 2725.28 1367.61 2725.25 1367.85 C 2725.23 1368.09 2725.4 1368.32 2725.7 1368.48 C 2726.18 1368.62 2726.59 1368.94 2726.85 1369.37 C 2727.25 1370.05 2726.44 1370.75 2724.89 1371.08 C 2723.82 1371.1 2722.77 1371.3 2721.76 1371.66 C 2721.17 1372.2 2720.77 1372.91 2720.61 1373.69 C 2720.43 1374.04 2719.49 1374.3 2718.33 1374.33 C 2717.5 1374.21 2716.67 1374.25 2715.86 1374.46 C 2715.19 1374.7 2714.43 1374.58 2713.88 1374.13 C 2713.75 1373.86 2713.48 1373.68 2713.18 1373.67 C 2712.88 1373.65 2712.6 1373.8 2712.44 1374.06 C 2712.29 1374.31 2712.28 1374.63 2712.43 1374.89 C 2712.69 1375.36 2713.22 1375.62 2713.75 1375.53 C 2714.13 1375.31 2714.62 1375.22 2715.1 1375.27 C 2715.39 1375.34 2715.63 1375.51 2715.73 1375.73 C 2715.9 1375.86 2716.23 1375.97 2716.64 1376.02 C 2717.06 1376.07 2717.51 1376.06 2717.9 1375.98 C 2718.53 1375.79 2719.33 1375.67 2720.18 1375.65 C 2720.79 1375.61 2721.35 1375.53 2721.84 1375.4 C 2722.31 1375.04 2722.9 1374.86 2723.49 1374.89 C 2723.83 1374.82 2724.09 1374.73 2724.25 1374.64 C 2724.49 1374.46 2724.78 1374.37 2725.07 1374.38 C 2725.21 1374.49 2725.27 1374.68 2725.19 1374.84 C 2725 1375.11 2724.77 1375.35 2724.51 1375.55 C 2728.11 1373.99 2731.13 1371.34 2733.15 1367.97 Z" fill="#266792" stroke="none" pointer-events="all"/>
        <ellipse cx="2715.86" cy="1350.16" rx="13.6058390578999" ry="9.415168883200712" fill-opacity="0.3" fill="#ffffff" stroke="none" pointer-events="all"/>
        <ellipse cx="2709.65" cy="1348.36" rx="3.9413640824337586" ry="2.8721273162317065" fill-opacity="0.4" fill="#ffffff" stroke="none" pointer-events="all"/>
        <rect x="2660" y="1287" width="0" height="0" fill="none" stroke="none" pointer-events="all"/>
        <ellipse cx="2717.01" cy="1358.17" rx="18.818449460255152" ry="18.830337766401424" fill="none" stroke="#000000" stroke-width="0.49" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1384px; margin-left: 2698px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                upstream of Envoy proxy
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2698" y="1396" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    upstream of E...
                </text>
            </switch>
        </g>
        <path d="M 2077 263 L 2298.76 263" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2304.76 263 L 2296.76 267 L 2298.76 263 L 2296.76 259 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px">
            <rect fill="rgb(255, 255, 255)" stroke="none" x="2158" y="257" width="74" height="15" stroke-width="0"/>
            <text x="2194.15" y="267.5">
                backpressure
            </text>
        </g>
        <rect x="2325" y="107" width="555" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 553px; height: 1px; padding-top: 122px; margin-left: 2327px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    move-partial
                                </b>
                                a non-blocking buffer transfer  that will return the number of buffer bytes moved, caller is reponsible for buffering the rest.
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2327" y="126" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    move-partial  a non-blocking buffer transfer  that will return the number of buffer bytes mo...
                </text>
            </switch>
        </g>
        <rect x="2325" y="187" width="575" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 573px; height: 1px; padding-top: 202px; margin-left: 2327px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    move-slice
                                </b>
                                a non-blocking buffer transfer  that will transfer the entire buffer slice provided by the caller.
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2327" y="206" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    move-slice   a non-blocking buffer transfer  that will transfer the entire buffer slice provided...
                </text>
            </switch>
        </g>
        <path d="M 880 1973 L 880 1947 L 1240 1947 L 1240 1973" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 880 1973 L 880 2007 L 1240 2007 L 1240 1973" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 880 1973 L 1240 1973" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="1059.5" y="1964.5">
                Network::TransportSocketOptions
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-884-1978-352-26-0)" font-size="12px">
            <text x="885.5" y="1990.5">
                vector&lt;std::string&gt;&amp; applicationProtocolListOverride()
            </text>
        </g>
        <path d="M 880 2003 L 1240 2003" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 880 2163 L 880 2137 L 1240 2137 L 1240 2163" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 880 2163 L 880 2223 L 1240 2223 L 1240 2163" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 880 2163 L 1240 2163" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="1059.5" y="2154.5">
                Network::TransportSocketOptionsImpl
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-884-2168-352-26-0)" font-size="12px">
            <text x="885.5" y="2180.5">
                - vector&lt;std::string&gt; override_alpn_list_
            </text>
        </g>
        <path d="M 880 2193 L 1240 2193" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-884-2202-352-26-0)" font-size="12px">
            <text x="885.5" y="2214.5">
                vector&lt;std::string&gt;&amp; applicationProtocolListOverride()
            </text>
        </g>
        <path d="M 1060 2137 L 1060 2021.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 1060 2008.12 L 1066.5 2021.12 L 1053.5 2021.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1870 1963 L 1870 1937 L 2450 1937 L 2450 1963" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1870 1963 L 1870 1997 L 2450 1997 L 2450 1963" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1870 1963 L 2450 1963" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="2159.5" y="1954.5">
                Network::TransportSocketOptionsUtility
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1874-1968-572-26-0)" font-size="12px">
            <text x="1875.5" y="1980.5">
                TransportSocketOptionsConstSharedPtr fromFilterState(const StreamInfo::FilterState&amp; filter_state)
            </text>
        </g>
        <path d="M 1870 1993 L 2450 1993" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="1240" y="1407" width="1180" height="350" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1178px; height: 1px; padding-top: 1582px; margin-left: 1242px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                absl::string_view server_name;
                                <br/>
                                std::vector&lt;std::string&gt; application_protocols;
                                <br/>
                                std::vector&lt;std::string&gt; alpn_fallback;
                                <br/>
                                ...
                                <br/>
                                bool needs_transport_socket_options = false;
                                <br/>
                                <br/>
                                if (auto typed_data = filter_state.
                                <font color="#ff3333">
                                    getDataReadOnly&lt;Network::ApplicationProtocols&gt;(
                                    <br/>
                                    Network::ApplicationProtocols::key());
                                </font>
                                <font color="#00cc00">
                                    //get ApplicationProtocols(HTTP version) from a filter state map, key: Network::ApplicationProtocols::key().
                                </font>
                                <br/>
                                typed_data != nullptr) {
                                <br/>
                                application_protocols = typed_data-&gt;value();
                                <br/>
                                needs_transport_socket_options = true;
                                <br/>
                                }
                                <br/>
                                ...
                                <br/>
                                if (needs_transport_socket_options) {
                                <br/>
                                return std::make_shared&lt;Network::TransportSocketOptionsImpl&gt;(
                                <br/>
                                server_name, std::move(subject_alt_names), std::move(application_protocols),
                                <br/>
                                std::move(alpn_fallback), proxy_protocol_options, std::move(objects),
                                <br/>
                                std::move(proxy_info));
                                <br/>
                                } else {
                                <br/>
                                return nullptr;
                                <br/>
                                }
                                <br/>
                                }
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1242" y="1586" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    absl::string_view server_name;...
                </text>
            </switch>
        </g>
        <path d="M 2149.11 1963 L 1976.57 1757" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <path d="M 2730 1923 L 2730 1897 L 3310 1897 L 3310 1923" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 1923 L 2730 1957 L 3310 1957 L 3310 1923" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 1923 L 3310 1923" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3019.5" y="1914.5">
                Upstream::LoadBalancerContext
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-1928-572-26-0)" font-size="12px">
            <text x="2735.5" y="1940.5">
                Network::TransportSocketOptionsConstSharedPtr upstreamTransportSocketOptions()
            </text>
        </g>
        <path d="M 2730 1953 L 3310 1953" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2043 L 2730 2017 L 3310 2017 L 3310 2043" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2043 L 2730 2077 L 3310 2077 L 3310 2043" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2043 L 3310 2043" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3019.5" y="2034.5">
                Upstream::LoadBalancerContextBase
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2048-572-26-0)" font-size="12px">
            <text x="2735.5" y="2060.5">
                Network::TransportSocketOptionsConstSharedPtr upstreamTransportSocketOptions()
            </text>
        </g>
        <path d="M 2730 2073 L 3310 2073" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3020 2017 L 3020 1971.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 3020 1958.12 L 3026.5 1971.12 L 3013.5 1971.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2193 L 2730 2167 L 3310 2167 L 3310 2193" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2193 L 2730 2331 L 3310 2331 L 3310 2193" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2193 L 3310 2193" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3019.5" y="2184.5">
                Router::Filter
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2198-572-26-0)" font-size="12px">
            <text x="2735.5" y="2210.5">
                Http::FilterHeadersStatus Filter::decodeHeaders(Http::RequestHeaderMap&amp; headers, bool end_stream)
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2224-572-26-0)" font-size="12px"/>
        <rect x="2730" y="2245" width="580" height="26" fill="none" stroke="rgb(0, 0, 0)" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2250-572-26-0)" font-size="12px"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2276-572-26-0)" font-size="12px">
            <text x="2735.5" y="2288.5">
                - Network::TransportSocketOptionsConstSharedPtr transport_socket_options_
            </text>
        </g>
        <path d="M 2730 2301 L 3310 2301" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2310-572-26-0)" font-size="12px">
            <text x="2735.5" y="2322.5">
                Network::TransportSocketOptionsConstSharedPtr Filter::upstreamTransportSocketOptions()
            </text>
        </g>
        <path d="M 3020 2219 L 3020 2268.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 3013.5 2256.88 L 3020 2269.88 L 3026.5 2256.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2245px; margin-left: 3020px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                set
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="2248" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    set
                </text>
            </switch>
        </g>
        <path d="M 3020 2167 L 3020 2091.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 3020 2078.12 L 3026.5 2091.12 L 3013.5 2091.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2971.39 2193 L 2210.77 1989.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 2223.93 1986.37 L 2209.69 1989.29 L 2220.57 1998.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2091px; margin-left: 2590px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                get
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2590" y="2094" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    get
                </text>
            </switch>
        </g>
        <path d="M 3385 2043 L 3385 2017 L 3965 2017 L 3965 2043" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3385 2043 L 3385 2137 L 3965 2137 L 3965 2043" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3385 2043 L 3965 2043" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3674.5" y="2034.5">
                Upstream::ClusterManagerImpl::ThreadLocalClusterManagerImpl::ClusterEntry
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-3389-2048-572-26-0)" font-size="12px">
            <text x="3390.5" y="2060.5">
                Host::CreateConnectionData tcpConn( LoadBalancerContext* context)
            </text>
        </g>
        <path d="M 3385 2073 L 3965 2073" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-3389-2082-572-60-0)" font-size="12px">
            <text x="3390.5" y="2094.5">
                Http::ConnectionPool::Instance* httpConnPoolImpl(
            </text>
            <text x="3390.5" y="2108.5">
                ResourcePriority priority, absl::optional&lt;Http::Protocol&gt; downstream_protocol,
            </text>
            <text x="3390.5" y="2122.5">
                LoadBalancerContext* context, bool peek)
            </text>
        </g>
        <rect x="4330" y="1822" width="650" height="210" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 648px; height: 1px; padding-top: 1927px; margin-left: 4332px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                HostConstSharedPtr logical_host = chooseHost(context);
                                <br/>
                                if (logical_host) {
                                <br/>
                                auto conn_info = logical_host-&gt;createConnection(
                                <br/>
                                parent_.thread_local_dispatcher_, nullptr,
                                <br/>
                                context == nullptr ? nullptr : context-&gt;upstreamTransportSocketOptions());
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4332" y="1931" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    HostConstSharedPtr logical_host = chooseHost(context);...
                </text>
            </switch>
        </g>
        <path d="M 3773.76 2043 L 4330 1969.78" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <path d="M 3604.04 2043 L 3093.16 1949.4" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 3106.02 1945.15 L 3092.06 1949.2 L 3103.67 1957.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1996px; margin-left: 3347px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3347" y="2000" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <path d="M 1350 2343 L 1350 2317 L 1840 2317 L 1840 2343" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1350 2343 L 1350 2403 L 1840 2403 L 1840 2343" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1350 2343 L 1840 2343" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="1594.5" y="2334.5">
                Extensions::TransportSockets::Tls::ClientContextImpl
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1354-2348-482-26-0)" font-size="12px">
            <text x="1355.5" y="2360.5">
                bssl::UniquePtr&lt;SSL&gt; newSsl(TransportSocketOptionsConstSharedPtr&amp; options)
            </text>
        </g>
        <path d="M 1350 2373 L 1840 2373" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1354-2382-482-26-0)" font-size="12px"/>
        <path d="M 1576.2 2343 L 1080.64 2000.27" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 1094.11 2001.68 L 1079.72 1999.64 L 1086.71 2012.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2171px; margin-left: 1328px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1328" y="2175" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <rect x="670" y="2497" width="760" height="350" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 2672px; margin-left: 672px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                // We determine what ALPN using the following precedence:
                                <br/>
                                // 1. Option-provided ALPN override.
                                <br/>
                                // 2. ALPN statically configured in the upstream TLS context.
                                <br/>
                                // 3. Option-provided ALPN fallback.
                                <br/>
                                <br/>
                                // At this point in the code the ALPN has already been set (if present) to the value specified in
                                <br/>
                                // the TLS context. We've stored this value in parsed_alpn_protocols_ so we can check that to see
                                <br/>
                                // if it's already been set.
                                <br/>
                                bool has_alpn_defined = !parsed_alpn_protocols_.empty();
                                <br/>
                                if (options) {
                                <br/>
                                <font color="#ff3333">
                                    // ALPN override takes precedence over TLS context specified, so blindly overwrite it.
                                    <br/>
                                    has_alpn_defined |= parseAndSetAlpn(options-&gt;applicationProtocolListOverride()
                                </font>
                                , *ssl_con);
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (options &amp;&amp; !has_alpn_defined &amp;&amp; !options-&gt;applicationProtocolFallback().empty()) {
                                <br/>
                                // If ALPN hasn't already been set (either through TLS context or override), use the fallback.
                                <br/>
                                parseAndSetAlpn(options-&gt;applicationProtocolFallback(), *ssl_con);
                                <br/>
                                }
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="672" y="2676" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    // We determine what ALPN using the following precedence:...
                </text>
            </switch>
        </g>
        <path d="M 1572.58 2369 L 1351.82 2497" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <path d="M 2089.9 1989 L 1242.2 2146.21" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 1252.7 2137.65 L 1241.1 2146.41 L 1255.07 2150.43" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2068px; margin-left: 1665px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Create
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1665" y="2071" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Create
                </text>
            </switch>
        </g>
        <path d="M 2730 2503 L 2730 2477 L 3310 2477 L 3310 2503" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2503 L 2730 2563 L 3310 2563 L 3310 2503" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2503 L 3310 2503" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3019.5" y="2494.5">
                Http::Alpn (from istio-proxy)
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2508-572-26-0)" font-size="12px">
            <text x="2735.5" y="2520.5">
                Http::FilterHeadersStatus AlpnFilter::decodeHeaders(Http::RequestHeaderMap&amp;, bool)
            </text>
        </g>
        <path d="M 2730 2533 L 3310 2533" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2542-572-26-0)" font-size="12px"/>
        <path d="M 2000 2357 L 2000 2331 L 2580 2331 L 2580 2357" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2000 2357 L 2000 2417 L 2580 2417 L 2580 2357" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2000 2357 L 2580 2357" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="2289.5" y="2348.5">
                Http::StreamDecoderFilter
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2004-2362-572-26-0)" font-size="12px">
            <text x="2005.5" y="2374.5">
                FilterHeadersStatus decodeHeaders(RequestHeaderMap&amp; headers, bool end_stream)
            </text>
        </g>
        <path d="M 2000 2387 L 2580 2387" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2004-2396-572-26-0)" font-size="12px"/>
        <path d="M 2000 2533 L 2000 2507 L 2580 2507 L 2580 2533" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2000 2533 L 2000 2593 L 2580 2593 L 2580 2533" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2000 2533 L 2580 2533" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="2289.5" y="2524.5">
                Http::PassThroughDecoderFilter
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2004-2538-572-26-0)" font-size="12px">
            <text x="2005.5" y="2550.5">
                FilterHeadersStatus decodeHeaders(RequestHeaderMap&amp; headers, bool end_stream)
            </text>
        </g>
        <path d="M 2000 2563 L 2580 2563" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2004-2572-572-26-0)" font-size="12px"/>
        <path d="M 2290 2507 L 2290 2435.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2290 2418.12 L 2298.5 2435.12 L 2281.5 2435.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2298.66 L 2558.98 2327.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2542.22 2330.81 L 2557.54 2319.56 L 2560.41 2336.32 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2531.92 L 2598.1 2537.34" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2581.12 2538.04 L 2597.75 2528.85 L 2598.45 2545.83 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="3670" y="2417" width="800" height="643" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 798px; height: 1px; padding-top: 2739px; margin-left: 3672px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                Router::RouteConstSharedPtr route = decoder_callbacks_-&gt;route();
                                <br/>
                                const Router::RouteEntry* route_entry;
                                <br/>
                                if (!route || !(route_entry = route-&gt;routeEntry())) {
                                <br/>
                                ENVOY_LOG(debug, "cannot find route entry");
                                <br/>
                                return Http::FilterHeadersStatus::Continue;
                                <br/>
                                }
                                <br/>
                                <br/>
                                Upstream::ThreadLocalCluster* cluster =
                                <br/>
                                config_-&gt;clusterManager().getThreadLocalCluster(route_entry-&gt;clusterName());
                                <br/>
                                if (!cluster || !cluster-&gt;info()) {
                                <br/>
                                ENVOY_LOG(debug, "cannot find cluster {}", route_entry-&gt;clusterName());
                                <br/>
                                return Http::FilterHeadersStatus::Continue;
                                <br/>
                                }
                                <br/>
                                <br/>
                                const auto&amp; filter_metadata = cluster-&gt;info()-&gt;metadata().filter_metadata();
                                <br/>
                                const auto&amp; istio = filter_metadata.find("istio");
                                <br/>
                                if (istio != filter_metadata.end()) {
                                <br/>
                                const auto&amp; alpn_override = istio-&gt;second.fields().find("alpn_override");
                                <br/>
                                if (alpn_override != istio-&gt;second.fields().end()) {
                                <br/>
                                const auto alpn_override_value = alpn_override-&gt;second.string_value();
                                <br/>
                                if (alpn_override_value == "false") {
                                <br/>
                                // Skip ALPN header rewrite
                                <br/>
                                ENVOY_LOG(debug,
                                <br/>
                                "Skipping ALPN header rewrite because istio.alpn_override metadata is false");
                                <br/>
                                return Http::FilterHeadersStatus::Continue;
                                <br/>
                                }
                                <br/>
                                }
                                <br/>
                                }
                                <br/>
                                <br/>
                                auto protocols =
                                <br/>
                                <font color="#ff3333">
                                    cluster-&gt;info()-&gt;upstreamHttpProtocol(decoder_callbacks_-&gt;streamInfo().protocol())
                                </font>
                                ;
                                <br/>
                                const auto&amp; alpn_override = config_-&gt;alpnOverrides(protocols[0]);
                                <br/>
                                <br/>
                                if (!alpn_override.empty()) {
                                <br/>
                                ENVOY_LOG(debug, "
                                <font color="#ff3333">
                                    override with {} ALPNs
                                </font>
                                ", alpn_override.size());
                                <br/>
                                decoder_callbacks_-&gt;streamInfo().filterState()-&gt;
                                <font color="#ff3333">
                                    setData(
                                    <br/>
                                    Network::ApplicationProtocols::key(),
                                </font>
                                <br/>
                                std::make_unique&lt;Network::ApplicationProtocols&gt;(alpn_override),
                                <br/>
                                Envoy::StreamInfo::FilterState::StateType::ReadOnly);
                                <br/>
                                }
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3672" y="2742" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    Router::RouteConstSharedPtr route = decoder_callbacks_-&gt;route();...
                </text>
            </switch>
        </g>
        <path d="M 3081.35 2529 L 3670 2653.74" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <path d="M 2420 1581.94 L 4060.06 1581.94 Q 4070.06 1581.94 4070.06 1591.94 L 4070.06 2414.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 4063.56 2402.88 L 4070.06 2415.88 L 4076.56 2402.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1582px; margin-left: 3662px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                get from http filter  state map key:
                                <span style="font-family: &quot;Courier New&quot;; text-align: left; background-color: rgb(251, 251, 251);">
                                    Network::ApplicationProtocols::key()
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3662" y="1586" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    get from http filter  state...
                </text>
            </switch>
        </g>
        <rect x="2350" y="3147" width="1020" height="860" fill="#f0f1f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1018px; height: 1px; padding-top: 3577px; margin-left: 2352px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                dynamic_listeners:
                                <br/>
                                - name: 0.0.0.0_8080
                                <br/>
                                active_state:
                                <br/>
                                version_info: 2024-04-16T09:30:41Z/90
                                <br/>
                                listener:
                                <br/>
                                '@type': type.googleapis.com/envoy.config.listener.v3.Listener
                                <br/>
                                name: 0.0.0.0_8080
                                <br/>
                                address:
                                <br/>
                                socket_address:
                                <br/>
                                address: 0.0.0.0
                                <br/>
                                port_value: 8080
                                <br/>
                                filter_chains:
                                <br/>
                                - filter_chain_match:
                                <br/>
                                transport_protocol: raw_buffer
                                <br/>
                                application_protocols:
                                <br/>
                                - http/1.1
                                <br/>
                                - h2c
                                <br/>
                                filters:
                                <br/>
                                - name: envoy.filters.network.http_connection_manager
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
                                <br/>
                                stat_prefix: outbound_0.0.0.0_8080
                                <br/>
                                rds:
                                <br/>
                                ...
                                <br/>
                                http_filters:
                                <br/>
                                - name: envoy.filters.http.grpc_stats
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.filters.http.grpc_stats.v3.FilterConfig
                                <br/>
                                emit_filter_state: true
                                <br/>
                                stats_for_all_methods: false
                                <br/>
                                - name: istio.alpn
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                                <br/>
                                alpn_override:
                                <br/>
                                - alpn_override:
                                <br/>
                                - istio-http/1.0
                                <br/>
                                - istio
                                <br/>
                                - http/1.0
                                <br/>
                                <font color="#ff3333">
                                    - upstream_protocol: HTTP11
                                    <br/>
                                    alpn_override:
                                    <br/>
                                    - istio-http/1.1
                                    <br/>
                                    - istio
                                    <br/>
                                    - http/1.1
                                </font>
                                <br/>
                                - upstream_protocol: HTTP2
                                <br/>
                                alpn_override:
                                <br/>
                                - istio-h2
                                <br/>
                                - istio
                                <br/>
                                - h2
                                <br/>
                                <br/>
                                ...
                                <br/>
                                - name: envoy.filters.http.router
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2352" y="3581" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    dynamic_listeners:...
                </text>
            </switch>
        </g>
        <path d="M 3018.04 2529 L 2925.18 3144.79" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 2920.52 3132.07 L 2925.01 3145.89 L 2933.38 3134.01" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2838px; margin-left: 2971px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2971" y="2842" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <rect x="3610" y="3177" width="1020" height="420" fill="#f0f1f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1018px; height: 1px; padding-top: 3387px; margin-left: 3612px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                dynamic_active_clusters:
                                <br/>
                                cluster:
                                <br/>
                                '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
                                <br/>
                                name: outbound|8080|version|serviceB.ns.svc.cluster.local
                                <br/>
                                type: EDS
                                <br/>
                                eds_cluster_config:
                                <br/>
                                eds_config:
                                <br/>
                                ads: {}
                                <br/>
                                initial_fetch_timeout: 0s
                                <br/>
                                resource_api_version: V3
                                <br/>
                                service_name: outbound|8080|version|serviceB.ns.svc.cluster.local
                                <br/>
                                <br/>
                                <br/>
                                typed_extension_protocol_options:
                                <br/>
                                envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
                                <br/>
                                <font color="#ff3333">
                                    explicit_http_config
                                </font>
                                :
                                <br/>
                                <font color="#ff3333">
                                    http_protocol_options
                                </font>
                                :
                                <br/>
                                header_key_format:
                                <br/>
                                stateful_formatter:
                                <br/>
                                name: preserve_case
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.http.header_formatters.preserve_case.v3.PreserveCaseFormatterConfig
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3612" y="3391" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    dynamic_active_clusters:...
                </text>
            </switch>
        </g>
        <path d="M 3037.44 2503 L 4140.77 1680.34" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 4135.13 1692.65 L 4141.67 1679.67 L 4127.36 1682.23" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2091px; margin-left: 3590px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3590" y="2095" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <path d="M 3870 1653 L 3870 1627 L 4450 1627 L 4450 1653" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3870 1653 L 3870 1687 L 4450 1687 L 4450 1653" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3870 1653 L 4450 1653" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="4159.5" y="1644.5">
                Upstream::ClusterInfoImpl
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-3874-1658-572-26-0)" font-size="12px">
            <text x="3875.5" y="1670.5">
                vector&lt;Http::Protocol&gt; upstreamHttpProtocol(optional&lt;Http::Protocol&gt; downstream_protocol)
            </text>
        </g>
        <path d="M 3870 1683 L 4450 1683" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 4196.18 1653 L 4626.24 1498.45" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <rect x="4626.24" y="1157" width="703.76" height="430" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 702px; height: 1px; padding-top: 1372px; margin-left: 4628px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                if (downstream_protocol.has_value() &amp;&amp;
                                <br/>
                                features_ &amp; Upstream::ClusterInfo::Features::
                                <font color="#ff3333">
                                    USE_DOWNSTREAM_PROTOCOL
                                </font>
                                ) {
                                <br/>
                                if (downstream_protocol.value() == Http::Protocol::Http3 &amp;&amp;
                                <br/>
                                !(features_ &amp; Upstream::ClusterInfo::Features::HTTP3)) {
                                <br/>
                                return {Http::Protocol::Http2};
                                <br/>
                                }
                                <br/>
                                // use HTTP11 since HTTP10 upstream is not supported yet.
                                <br/>
                                if (downstream_protocol.value() == Http::Protocol::Http10) {
                                <br/>
                                return {Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                return {downstream_protocol.value()};
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (features_ &amp; Upstream::ClusterInfo::Features::
                                <font color="#ff3333">
                                    USE_ALPN
                                </font>
                                ) {
                                <br/>
                                if (!(features_ &amp; Upstream::ClusterInfo::Features::HTTP3)) {
                                <br/>
                                return {Http::Protocol::Http2, Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                return {Http::Protocol::Http3, Http::Protocol::Http2, Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (features_ &amp; Upstream::ClusterInfo::Features::HTTP3) {
                                <br/>
                                return {Http::Protocol::Http3};
                                <br/>
                                }
                                <br/>
                                <br/>
                                return {(features_ &amp; Upstream::ClusterInfo::Features::HTTP2) ? Http::Protocol::Http2
                                <br/>
                                : Http::Protocol::Http11};
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4628" y="1376" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    if (downstream_protocol.has_value() &amp;&amp;...
                </text>
            </switch>
        </g>
        <rect x="5350" y="1497" width="703.76" height="430" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 702px; height: 1px; padding-top: 1712px; margin-left: 5352px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                if (downstream_protocol.has_value() &amp;&amp;
                                <br/>
                                features_ &amp; Upstream::ClusterInfo::Features::
                                <font color="#ff3333">
                                    USE_DOWNSTREAM_PROTOCOL
                                </font>
                                ) {
                                <br/>
                                if (downstream_protocol.value() == Http::Protocol::Http3 &amp;&amp;
                                <br/>
                                !(features_ &amp; Upstream::ClusterInfo::Features::HTTP3)) {
                                <br/>
                                return {Http::Protocol::Http2};
                                <br/>
                                }
                                <br/>
                                // use HTTP11 since HTTP10 upstream is not supported yet.
                                <br/>
                                if (downstream_protocol.value() == Http::Protocol::Http10) {
                                <br/>
                                return {Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                return {downstream_protocol.value()};
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (features_ &amp; Upstream::ClusterInfo::Features::
                                <font color="#ff3333">
                                    USE_ALPN
                                </font>
                                ) {
                                <br/>
                                if (!(features_ &amp; Upstream::ClusterInfo::Features::HTTP3)) {
                                <br/>
                                return {Http::Protocol::Http2, Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                return {Http::Protocol::Http3, Http::Protocol::Http2, Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (features_ &amp; Upstream::ClusterInfo::Features::HTTP3) {
                                <br/>
                                return {Http::Protocol::Http3};
                                <br/>
                                }
                                <br/>
                                <br/>
                                return {(features_ &amp; Upstream::ClusterInfo::Features::HTTP2) ? Http::Protocol::Http2
                                <br/>
                                : Http::Protocol::Http11};
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5352" y="1716" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    if (downstream_protocol.has_value() &amp;&amp;...
                </text>
            </switch>
        </g>
        <path d="M 4159.7 1679 L 4124.93 3174.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 4118.71 3162.73 L 4124.91 3175.88 L 4131.71 3163.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2428px; margin-left: 4142px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4142" y="2432" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <a xlink:href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/upstreams/http/v3/http_protocol_options.proto#extensions-upstreams-http-v3-httpprotocoloptions">
            <rect x="4270" y="3667" width="1600" height="390" fill="#fff2cc" stroke="none"/>
            <g transform="translate(-0.5 -0.5)">
                <switch>
                    <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                        <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3862px; margin-left: 4272px;">
                            <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                                <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                    🔗
                                    <u>
                                        extensions.upstreams.http.v3.HttpProtocolOptions
                                    </u>
                                    <br/>
                                    <br/>
                                    <font color="#ff3333">
                                        explicit_http_config
                                    </font>
                                    <br/>
                                    (extensions.upstreams.http.v3.HttpProtocolOptions.ExplicitHttpConfig) To explicitly configure
                                    <font color="#ff3333">
                                        either HTTP/1 or HTTP/2 (but not both!)
                                    </font>
                                    use explicit_http_config. If the explicit_http_config is empty, HTTP/1.1 is used.
                                    <br/>
                                    <br/>
                                    This controls the actual protocol to be used upstream.
                                    <br/>
                                    <br/>
                                    Precisely one of explicit_http_config, use_downstream_protocol_config, auto_config must be set.
                                    <br/>
                                    <br/>
                                    <font color="#ff3333">
                                        use_downstream_protocol_config
                                    </font>
                                    <br/>
                                    (extensions.upstreams.http.v3.HttpProtocolOptions.UseDownstreamHttpConfig) This allows switching on protocol based on what protocol the downstream connection used.
                                    <br/>
                                    <br/>
                                    This controls the actual protocol to be used upstream.
                                    <br/>
                                    <br/>
                                    Precisely one of explicit_http_config, use_downstream_protocol_config, auto_config must be set.
                                    <br/>
                                    <br/>
                                    auto_config
                                    <br/>
                                    (extensions.upstreams.http.v3.HttpProtocolOptions.AutoHttpConfig) This allows switching on protocol based on ALPN
                                    <br/>
                                    <br/>
                                    This controls the actual protocol to be used upstream.
                                    <br/>
                                    <br/>
                                    Precisely one of explicit_http_config, use_downstream_protocol_config, auto_config must be set.
                                </div>
                            </div>
                        </div>
                    </foreignObject>
                    <text x="4272" y="3866" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                        🔗 extensions.upstreams.http.v3.HttpProtocolOptions...
                    </text>
                </switch>
            </g>
        </a>
        <path d="M 4680 3667 L 4540 3597" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6"/>
        <rect x="3385" y="4177" width="1020" height="700" fill="#f0f1f7" stroke="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1018px; height: 1px; padding-top: 4527px; margin-left: 3387px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                apiVersion: networking.istio.io/v1alpha3
                                <br/>
                                kind: EnvoyFilter
                                <br/>
                                metadata:
                                <br/>
                                annotations:
                                <br/>
                                meta.helm.sh/release-name: mycom-myprd-mesh
                                <br/>
                                meta.helm.sh/release-namespace: ns
                                <br/>
                                labels:
                                <br/>
                                app.kubernetes.io/managed-by: Helm
                                <br/>
                                name: mycom-myprd-mesh-preserve-header-case
                                <br/>
                                namespace: ns
                                <br/>
                                spec:
                                <br/>
                                configPatches:
                                <br/>
                                - applyTo: CLUSTER
                                <br/>
                                patch:
                                <br/>
                                operation: MERGE
                                <br/>
                                value:
                                <br/>
                                typed_extension_protocol_options:
                                <br/>
                                envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
                                <br/>
                                <font color="#ff3333">
                                    explicit_http_config:
                                    <br/>
                                    http_protocol_options:
                                </font>
                                <br/>
                                header_key_format:
                                <br/>
                                stateful_formatter:
                                <br/>
                                name: preserve_case
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.http.header_formatters.preserve_case.v3.PreserveCaseFormatterConfig
                                <br/>
                                <br/>
                                - applyTo: NETWORK_FILTER
                                <br/>
                                match:
                                <br/>
                                listener:
                                <br/>
                                filterChain:
                                <br/>
                                filter:
                                <br/>
                                name: envoy.filters.network.http_connection_manager
                                <br/>
                                patch:
                                <br/>
                                operation: MERGE
                                <br/>
                                value:
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
                                <br/>
                                http_protocol_options:
                                <br/>
                                header_key_format:
                                <br/>
                                stateful_formatter:
                                <br/>
                                name: preserve_case
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.http.header_formatters.preserve_case.v3.PreserveCaseFormatterConfig
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3387" y="4531" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    apiVersion: networking.istio.io/v1alpha3...
                </text>
            </switch>
        </g>
        <path d="M 3964.08 4177 L 4078.12 3599.19" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3"/>
        <path d="M 4082.2 3612.11 L 4078.34 3598.1 L 4069.44 3609.59" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3887px; margin-left: 4021px;">
                        <div data-drawio-colors="color: #FF3333; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Generate:
                                <span style="font-family: &quot;Courier New&quot;; text-align: left; background-color: rgb(251, 251, 251);">
                                    explicit_http_config
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4021" y="3891" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Generate: explicit_http_con...
                </text>
            </switch>
        </g>
        <path d="M 3707.99 2077 L 4144.05 1680.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3"/>
        <path d="M 4139.63 1693.31 L 4144.88 1679.75 L 4130.88 1683.69" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1878px; margin-left: 3926px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3926" y="1882" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <path d="M 3036.42 2529 L 3853.03 3175.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3"/>
        <path d="M 3839.68 3173.33 L 3853.91 3176.31 L 3847.75 3163.14" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2853px; margin-left: 3446px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                indirect Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3446" y="2857" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    indirect Use
                </text>
            </switch>
        </g>
        <path d="M 3370 3500.1 L 3607.79 3464.24" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3"/>
        <path d="M 3597.01 3472.44 L 3608.89 3464.07 L 3595.07 3459.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3482px; margin-left: 3490px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                indirect Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3490" y="3486" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    indirect Use
                </text>
            </switch>
        </g>
        <rect x="20" y="2032" width="530" height="350" fill="#f7f7f7" stroke="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 528px; height: 1px; padding-top: 2207px; margin-left: 22px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                tcpdump output:
                                <br/>
                                <br/>
                                Transport Layer Security
                                <br/>
                                TLSv1.3 Record Layer: Handshake Protocol: Client Hello
                                <br/>
                                Content Type: Handshake (22)
                                <br/>
                                Version: TLS 1.0 (0x0301)
                                <br/>
                                Length: 2723
                                <br/>
                                Handshake Protocol: Client Hello
                                <br/>
                                Handshake Type: Client Hello (1)
                                <br/>
                                Extension: application_layer_protocol_negotiation (len=32)
                                <br/>
                                Type: application_layer_protocol_negotiation (16)
                                <br/>
                                Length: 32
                                <br/>
                                ALPN Extension Length: 30
                                <br/>
                                ALPN Protocol
                                <br/>
                                <font color="#ff3333">
                                    ALPN string length: 14
                                    <br/>
                                    ALPN Next Protocol: istio-http/1.1
                                    <br/>
                                    ALPN string length: 5
                                    <br/>
                                    ALPN Next Protocol: istio
                                    <br/>
                                    ALPN string length: 8
                                    <br/>
                                    ALPN Next Protocol: http/1.1
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="22" y="2211" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    tcpdump output:...
                </text>
            </switch>
        </g>
        <path d="M 762.1 2497 L 557.04 2372.36" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6"/>
        <path d="M 551.91 2369.24 L 560.82 2369.98 L 557.04 2372.36 L 556.67 2376.81 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2433px; margin-left: 657px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                cause
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="657" y="2436" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="11px" text-anchor="middle">
                    cause
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>