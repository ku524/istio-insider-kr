<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="6075px" height="5658px" viewBox="-0.5 -0.5 6075 5658" content="&lt;mxfile scale=&quot;1&quot; border=&quot;20&quot;&gt;&lt;diagram name=&quot;upstream-http-protocol-selection-src.drawio.svg&quot; id=&quot;ynux_H9hfVYit68Aa14Y&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs>
        <clipPath id="mx-clip-884-2318-352-26-0">
            <rect x="884" y="2318" width="352" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-884-2508-352-26-0">
            <rect x="884" y="2508" width="352" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-884-2542-352-26-0">
            <rect x="884" y="2542" width="352" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-1874-2308-572-26-0">
            <rect x="1874" y="2308" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2268-572-26-0">
            <rect x="2734" y="2268" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2388-572-26-0">
            <rect x="2734" y="2388" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2538-572-26-0">
            <rect x="2734" y="2538" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2564-572-26-0">
            <rect x="2734" y="2564" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2590-572-26-0">
            <rect x="2734" y="2590" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2616-572-26-0">
            <rect x="2734" y="2616" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2650-572-26-0">
            <rect x="2734" y="2650" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-3389-2388-572-26-0">
            <rect x="3389" y="2388" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-3389-2422-572-60-0">
            <rect x="3389" y="2422" width="572" height="60"/>
        </clipPath>
        <clipPath id="mx-clip-1354-2688-482-26-0">
            <rect x="1354" y="2688" width="482" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-1354-2722-482-26-0">
            <rect x="1354" y="2722" width="482" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2848-572-26-0">
            <rect x="2734" y="2848" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2734-2882-572-26-0">
            <rect x="2734" y="2882" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2004-2702-572-26-0">
            <rect x="2004" y="2702" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2004-2736-572-26-0">
            <rect x="2004" y="2736" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2004-2878-572-26-0">
            <rect x="2004" y="2878" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-2004-2912-572-26-0">
            <rect x="2004" y="2912" width="572" height="26"/>
        </clipPath>
        <clipPath id="mx-clip-3874-1998-572-26-0">
            <rect x="3874" y="1998" width="572" height="26"/>
        </clipPath>
    </defs>
    <g>
        <rect x="2900" y="5517" width="490" height="120" rx="18" ry="18" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 2904.39 5521.63 C 2904.39 5521.63 2904.39 5521.63 2904.39 5521.63 M 2904.39 5521.63 C 2904.39 5521.63 2904.39 5521.63 2904.39 5521.63 M 2903.47 5528.78 C 2906.73 5525.96 2908.85 5522.13 2911.34 5519.73 M 2903.47 5528.78 C 2905.37 5526.54 2907.17 5525.14 2911.34 5519.73 M 2901.9 5536.69 C 2907.82 5531.55 2914.38 5521.95 2918.3 5517.82 M 2901.9 5536.69 C 2907.04 5529.92 2913.21 5522.43 2918.3 5517.82 M 2901.63 5543.09 C 2908.04 5536.35 2914.57 5524.76 2923.94 5517.43 M 2901.63 5543.09 C 2907.38 5535.49 2914.11 5526.96 2923.94 5517.43 M 2902.03 5548.73 C 2911.53 5539.79 2918.84 5531.46 2928.93 5517.79 M 2902.03 5548.73 C 2909.39 5539.92 2915.84 5531.69 2928.93 5517.79 M 2901.77 5555.13 C 2912.77 5540.63 2929.34 5523.22 2934.57 5517.39 M 2901.77 5555.13 C 2911.89 5544.32 2922.2 5532.26 2934.57 5517.39 M 2902.16 5560.77 C 2918.55 5544.54 2932.71 5524.89 2939.56 5517.75 M 2902.16 5560.77 C 2911.23 5549.12 2921.49 5538.23 2939.56 5517.75 M 2901.9 5567.17 C 2911.46 5558.48 2921.72 5546.64 2945.2 5517.36 M 2901.9 5567.17 C 2918.84 5547.17 2935.04 5527.92 2945.2 5517.36 M 2902.3 5572.81 C 2918.61 5555.86 2934.29 5535.92 2950.19 5517.72 M 2902.3 5572.81 C 2916.9 5555.75 2932.38 5536.82 2950.19 5517.72 M 2902.03 5579.21 C 2919.14 5559.7 2937.46 5537.36 2955.83 5517.32 M 2902.03 5579.21 C 2917.96 5560.85 2932.91 5542.5 2955.83 5517.32 M 2901.77 5585.61 C 2918.87 5565.61 2931.47 5549.96 2960.82 5517.68 M 2901.77 5585.61 C 2920.48 5565.07 2937.26 5545.62 2960.82 5517.68 M 2902.17 5591.25 C 2924.35 5564.17 2950.29 5535.5 2966.46 5517.29 M 2902.17 5591.25 C 2921.27 5569.37 2938.81 5547.74 2966.46 5517.29 M 2901.91 5597.65 C 2920.53 5574.55 2938.31 5552.94 2971.45 5517.65 M 2901.91 5597.65 C 2918.4 5579.3 2933.72 5562.36 2971.45 5517.65 M 2902.3 5603.29 C 2928.06 5572.32 2952.05 5545.22 2977.09 5517.25 M 2902.3 5603.29 C 2925.65 5574.98 2949.63 5546.9 2977.09 5517.25 M 2902.04 5609.69 C 2920.85 5585.75 2939.17 5564.21 2982.08 5517.61 M 2902.04 5609.69 C 2921.25 5589.66 2938.98 5568.95 2982.08 5517.61 M 2902.43 5615.33 C 2926.73 5582.64 2954.95 5555.53 2987.72 5517.22 M 2902.43 5615.33 C 2921.83 5591.8 2941.52 5569.08 2987.72 5517.22 M 2900.86 5623.24 C 2926.71 5593.49 2952.7 5564.24 2992.71 5517.58 M 2900.86 5623.24 C 2921.69 5601.83 2940.39 5577.87 2992.71 5517.58 M 2902.57 5627.37 C 2923.86 5600.31 2949.2 5576.46 2998.35 5517.19 M 2902.57 5627.37 C 2932.49 5592.21 2960.29 5560.67 2998.35 5517.19 M 2904.27 5631.51 C 2931.31 5601.92 2955.55 5573.93 3003.34 5517.55 M 2904.27 5631.51 C 2940.72 5589.4 2978.94 5546.81 3003.34 5517.55 M 2906.64 5634.89 C 2933.52 5605.39 2955.49 5574.36 3008.33 5517.91 M 2906.64 5634.89 C 2943 5593.2 2977.62 5553.34 3008.33 5517.91 M 2910.97 5636 C 2936.29 5609.01 2957.86 5580.86 3013.97 5517.51 M 2910.97 5636 C 2938.03 5603.94 2968.1 5570.44 3013.97 5517.51 M 2914.64 5637.87 C 2951.6 5590.93 2992.46 5549.58 3018.96 5517.87 M 2914.64 5637.87 C 2939.35 5610.02 2964.07 5580.84 3018.96 5517.87 M 2920.29 5637.48 C 2950.89 5605.61 2977.74 5568.34 3024.6 5517.48 M 2920.29 5637.48 C 2959.82 5591.52 2999.27 5545.45 3024.6 5517.48 M 2925.27 5637.84 C 2950.61 5609.79 2974.04 5578.23 3029.59 5517.84 M 2925.27 5637.84 C 2959.98 5598.63 2993.06 5558.77 3029.59 5517.84 M 2930.92 5637.44 C 2957.93 5607 2987.07 5575.94 3035.23 5517.44 M 2930.92 5637.44 C 2965.21 5597.04 2999.05 5559.46 3035.23 5517.44 M 2935.9 5637.8 C 2971.88 5597.25 3011.66 5552.06 3040.22 5517.8 M 2935.9 5637.8 C 2962.59 5608.68 2988.87 5578.72 3040.22 5517.8 M 2941.55 5637.41 C 2965.39 5613.51 2987.01 5584.36 3045.86 5517.41 M 2941.55 5637.41 C 2963.94 5611.79 2987.02 5584.58 3045.86 5517.41 M 2946.53 5637.77 C 2969.26 5610.38 2994.44 5579.37 3050.85 5517.77 M 2946.53 5637.77 C 2982.73 5595.43 3019.69 5554.48 3050.85 5517.77 M 2952.18 5637.37 C 2989.95 5592.2 3032.94 5545.33 3056.49 5517.37 M 2952.18 5637.37 C 2992.79 5591.17 3031.02 5547.07 3056.49 5517.37 M 2957.16 5637.73 C 2985.29 5605.91 3012.31 5574 3061.48 5517.73 M 2957.16 5637.73 C 2979.06 5613.75 3001.24 5587.05 3061.48 5517.73 M 2962.81 5637.34 C 2985.31 5613 3005.24 5589.39 3067.12 5517.34 M 2962.81 5637.34 C 3002.96 5592.5 3040.98 5548.64 3067.12 5517.34 M 2967.79 5637.7 C 2995.62 5608.64 3019.86 5575.83 3072.11 5517.7 M 2967.79 5637.7 C 3003.25 5598.08 3038.07 5556.52 3072.11 5517.7 M 2973.44 5637.3 C 3003.56 5603.65 3032.82 5568.8 3077.75 5517.3 M 2973.44 5637.3 C 3014.25 5590.26 3054.72 5543.7 3077.75 5517.3 M 2978.42 5637.66 C 3006.79 5603.02 3036.11 5574.32 3082.74 5517.66 M 2978.42 5637.66 C 3009.6 5602.4 3040.97 5566.13 3082.74 5517.66 M 2983.41 5638.02 C 3012.48 5605.25 3039.5 5572.95 3088.38 5517.27 M 2983.41 5638.02 C 3010.49 5607.55 3035.71 5576.7 3088.38 5517.27 M 2989.05 5637.63 C 3026.62 5593.76 3067.48 5545.11 3093.37 5517.63 M 2989.05 5637.63 C 3026.55 5594.24 3063.83 5552.18 3093.37 5517.63 M 2994.04 5637.99 C 3029.95 5597.21 3066.35 5558.01 3099.01 5517.24 M 2994.04 5637.99 C 3018.34 5608.78 3042.09 5581.52 3099.01 5517.24 M 2999.68 5637.59 C 3039.28 5592.68 3075.66 5548.92 3104 5517.6 M 2999.68 5637.59 C 3021.72 5610.76 3045.03 5584.22 3104 5517.6 M 3004.67 5637.95 C 3035.57 5599.77 3069.94 5564.72 3108.98 5517.96 M 3004.67 5637.95 C 3027.39 5612.35 3048.83 5587.14 3108.98 5517.96 M 3010.31 5637.56 C 3048.71 5588.4 3090.02 5541.18 3114.63 5517.56 M 3010.31 5637.56 C 3046.86 5594.59 3084.03 5552.77 3114.63 5517.56 M 3015.3 5637.92 C 3050.8 5595.55 3088.06 5551.42 3119.61 5517.92 M 3015.3 5637.92 C 3048.2 5600.67 3081.64 5563.85 3119.61 5517.92 M 3020.94 5637.53 C 3051.99 5602.55 3083.98 5564.27 3125.26 5517.53 M 3020.94 5637.53 C 3043.97 5611.98 3066.15 5585.6 3125.26 5517.53 M 3025.93 5637.89 C 3056.74 5602.87 3087.06 5564.94 3130.24 5517.89 M 3025.93 5637.89 C 3057.87 5600.49 3089.7 5564.34 3130.24 5517.89 M 3031.57 5637.49 C 3066.79 5597.2 3103.42 5554.97 3135.89 5517.49 M 3031.57 5637.49 C 3055.24 5608.75 3078.71 5581.55 3135.89 5517.49 M 3036.56 5637.85 C 3064.02 5605.6 3093.81 5569.29 3140.87 5517.85 M 3036.56 5637.85 C 3072.15 5593.94 3109.49 5552.07 3140.87 5517.85 M 3042.2 5637.46 C 3070.27 5607.99 3091.77 5581.53 3146.52 5517.46 M 3042.2 5637.46 C 3067.23 5608.25 3092.74 5580.6 3146.52 5517.46 M 3047.19 5637.82 C 3076.53 5602.51 3110.9 5563.34 3151.5 5517.82 M 3047.19 5637.82 C 3078.94 5600.64 3113.03 5561.57 3151.5 5517.82 M 3052.83 5637.42 C 3087.42 5596.52 3121.04 5556.15 3157.15 5517.42 M 3052.83 5637.42 C 3074.88 5609.29 3097.98 5583.72 3157.15 5517.42 M 3057.82 5637.78 C 3088.15 5602.31 3119.92 5567.85 3162.13 5517.78 M 3057.82 5637.78 C 3081.43 5611.73 3105.19 5584.4 3162.13 5517.78 M 3063.46 5637.39 C 3089.06 5610.16 3114.25 5582.68 3167.78 5517.39 M 3063.46 5637.39 C 3102.11 5592.6 3141.95 5547.38 3167.78 5517.39 M 3068.45 5637.75 C 3094.84 5608.45 3115.94 5582.23 3172.76 5517.75 M 3068.45 5637.75 C 3107.51 5592.03 3145.55 5547.41 3172.76 5517.75 M 3073.44 5638.11 C 3112.68 5592.81 3150.99 5551.2 3178.41 5517.35 M 3073.44 5638.11 C 3099.68 5606.56 3128.09 5577.07 3178.41 5517.35 M 3079.08 5637.71 C 3107.45 5608.24 3130.75 5577.72 3183.39 5517.71 M 3079.08 5637.71 C 3108.46 5603.89 3138.35 5570.54 3183.39 5517.71 M 3084.07 5638.07 C 3105.92 5612.63 3132.43 5582.9 3189.04 5517.32 M 3084.07 5638.07 C 3109.79 5609.79 3134.13 5582.66 3189.04 5517.32 M 3089.71 5637.68 C 3119.63 5599.89 3153.46 5564.37 3194.02 5517.68 M 3089.71 5637.68 C 3122.06 5601.2 3152.88 5562.83 3194.02 5517.68 M 3094.7 5638.04 C 3126.43 5599.28 3157.15 5565.46 3199.01 5518.04 M 3094.7 5638.04 C 3118.44 5612.08 3141.74 5586.33 3199.01 5518.04 M 3100.34 5637.64 C 3131.86 5603.57 3161.02 5570.15 3204.65 5517.65 M 3100.34 5637.64 C 3126.31 5609.29 3150.81 5580.27 3204.65 5517.65 M 3105.33 5638 C 3124.63 5615.17 3148.71 5589.29 3209.64 5518.01 M 3105.33 5638 C 3141.54 5595.94 3177.57 5554.21 3209.64 5518.01 M 3110.97 5637.61 C 3150.76 5592.1 3188.73 5547.59 3215.28 5517.61 M 3110.97 5637.61 C 3142 5601.35 3171.45 5566.36 3215.28 5517.61 M 3115.96 5637.97 C 3147.29 5599.35 3180.3 5563.82 3220.27 5517.97 M 3115.96 5637.97 C 3147.15 5601.71 3179.71 5564.4 3220.27 5517.97 M 3121.6 5637.57 C 3143.24 5610.33 3167.46 5581.2 3225.91 5517.58 M 3121.6 5637.57 C 3156.64 5597.84 3189.79 5561.37 3225.91 5517.58 M 3126.59 5637.94 C 3155.12 5604.27 3184.38 5569.63 3230.9 5517.94 M 3126.59 5637.94 C 3166.59 5593.42 3206.18 5548.02 3230.9 5517.94 M 3132.23 5637.54 C 3174.54 5591.91 3217.24 5544.25 3236.54 5517.54 M 3132.23 5637.54 C 3155.54 5613.02 3177.81 5586.96 3236.54 5517.54 M 3137.22 5637.9 C 3178.32 5590.62 3215.65 5545.47 3241.53 5517.9 M 3137.22 5637.9 C 3160.9 5610.34 3183.66 5583.02 3241.53 5517.9 M 3142.86 5637.51 C 3177.99 5596.3 3214.88 5551.73 3247.17 5517.51 M 3142.86 5637.51 C 3171.02 5604.48 3200.87 5571.67 3247.17 5517.51 M 3147.85 5637.87 C 3187.33 5592.47 3227.1 5545.44 3252.16 5517.87 M 3147.85 5637.87 C 3179.93 5601.58 3210.94 5564.74 3252.16 5517.87 M 3153.49 5637.47 C 3175.6 5611.92 3195.84 5587.54 3257.8 5517.47 M 3153.49 5637.47 C 3184.62 5603.54 3214.15 5569.32 3257.8 5517.47 M 3158.48 5637.83 C 3183.54 5612.18 3205.71 5581.82 3262.79 5517.83 M 3158.48 5637.83 C 3182.76 5611.61 3208.15 5583.45 3262.79 5517.83 M 3164.12 5637.44 C 3188.27 5613.01 3208.27 5585.31 3268.43 5517.44 M 3164.12 5637.44 C 3204.85 5588.92 3246.2 5542.74 3268.43 5517.44 M 3169.11 5637.8 C 3207.31 5595.55 3243.77 5552.29 3273.42 5517.8 M 3169.11 5637.8 C 3193.21 5610.55 3218.64 5580.63 3273.42 5517.8 M 3174.1 5638.16 C 3203.95 5603.11 3233.3 5567.74 3279.06 5517.4 M 3174.1 5638.16 C 3199.37 5609.83 3225.46 5578.58 3279.06 5517.4 M 3179.74 5637.76 C 3199.17 5612.8 3223.59 5584.91 3284.05 5517.76 M 3179.74 5637.76 C 3209.35 5602.04 3240.64 5566.85 3284.05 5517.76 M 3184.73 5638.12 C 3214.05 5606.16 3243.85 5574.49 3289.69 5517.37 M 3184.73 5638.12 C 3213.66 5606.8 3241.84 5572.93 3289.69 5517.37 M 3190.37 5637.73 C 3223.6 5599.39 3256.43 5562.89 3294.68 5517.73 M 3190.37 5637.73 C 3211.71 5611.39 3233.9 5587.89 3294.68 5517.73 M 3195.36 5638.09 C 3220.11 5608.67 3247.68 5579.27 3299.67 5518.09 M 3195.36 5638.09 C 3232.71 5594.33 3271.61 5551.1 3299.67 5518.09 M 3201 5637.69 C 3240.52 5593.1 3279.63 5545.69 3305.31 5517.69 M 3201 5637.69 C 3234.53 5599.33 3265.97 5560.54 3305.31 5517.69 M 3205.99 5638.05 C 3229.91 5609.82 3256.09 5580.02 3310.3 5518.05 M 3205.99 5638.05 C 3230.15 5611 3253.94 5583.59 3310.3 5518.05 M 3211.63 5637.66 C 3232.71 5611.2 3258.07 5582.23 3315.94 5517.66 M 3211.63 5637.66 C 3251.99 5590.28 3293.66 5544.83 3315.94 5517.66 M 3216.62 5638.02 C 3247.96 5602.56 3279.95 5564.99 3320.93 5518.02 M 3216.62 5638.02 C 3239.13 5611.66 3262.66 5583.34 3320.93 5518.02 M 3222.26 5637.62 C 3248.37 5605.27 3274.81 5577.65 3326.57 5517.63 M 3222.26 5637.62 C 3255.84 5600.15 3287.72 5561.84 3326.57 5517.63 M 3227.25 5637.98 C 3256.91 5605.06 3284.59 5571.4 3331.56 5517.99 M 3227.25 5637.98 C 3261.66 5598.46 3295.65 5559.95 3331.56 5517.99 M 3232.89 5637.59 C 3271.21 5596.31 3306.44 5552.46 3337.2 5517.59 M 3232.89 5637.59 C 3257.24 5610.45 3283.08 5581.8 3337.2 5517.59 M 3237.88 5637.95 C 3259.15 5612.66 3279.31 5589.55 3342.19 5517.95 M 3237.88 5637.95 C 3276.33 5595.29 3311.65 5552.32 3342.19 5517.95 M 3243.52 5637.56 C 3265.33 5613.55 3287.26 5585.33 3347.83 5517.56 M 3243.52 5637.56 C 3267.26 5610.1 3292.07 5581.96 3347.83 5517.56 M 3248.51 5637.92 C 3275.14 5606.47 3305.35 5575.48 3352.82 5517.92 M 3248.51 5637.92 C 3282.23 5597.42 3319.47 5556.32 3352.82 5517.92 M 3254.15 5637.52 C 3278.67 5611.62 3302.65 5582.27 3358.46 5517.52 M 3254.15 5637.52 C 3295.88 5589.79 3335.88 5542.85 3358.46 5517.52 M 3259.14 5637.88 C 3292.9 5598.35 3329.15 5559.89 3363.45 5517.88 M 3259.14 5637.88 C 3297.91 5593.79 3338.48 5547.01 3363.45 5517.88 M 3264.78 5637.49 C 3301.13 5595.64 3336.34 5553.74 3369.09 5517.49 M 3264.78 5637.49 C 3301.3 5597.81 3337.66 5556.19 3369.09 5517.49 M 3269.77 5637.85 C 3304.94 5594.26 3343.49 5551.53 3374.08 5517.85 M 3269.77 5637.85 C 3309.06 5594.74 3347.08 5550.45 3374.08 5517.85 M 3274.75 5638.21 C 3301.3 5608.76 3329.54 5578.31 3378.41 5518.96 M 3274.75 5638.21 C 3311.13 5594.71 3350.24 5551.78 3378.41 5518.96 M 3280.4 5637.81 C 3316.07 5591.87 3355.88 5551.92 3382.09 5520.83 M 3280.4 5637.81 C 3307.75 5605.16 3334.44 5573.63 3382.09 5520.83 M 3285.38 5638.17 C 3325.08 5593.29 3365.75 5548.41 3386.42 5521.95 M 3285.38 5638.17 C 3309.68 5610.54 3335.09 5582.33 3386.42 5521.95 M 3291.03 5637.78 C 3325.69 5597.33 3358.8 5561.35 3388.12 5526.08 M 3291.03 5637.78 C 3313.55 5610.23 3337.93 5584.09 3388.12 5526.08 M 3296.01 5638.14 C 3328.38 5605.9 3355.61 5571.79 3389.83 5530.21 M 3296.01 5638.14 C 3315.45 5615.52 3336.95 5590.87 3389.83 5530.21 M 3301.66 5637.74 C 3325.25 5607.17 3352.44 5578.15 3392.19 5533.59 M 3301.66 5637.74 C 3329.81 5604.51 3359.3 5570.27 3392.19 5533.59 M 3306.64 5638.1 C 3340.39 5599.72 3368.24 5567.16 3392.59 5539.24 M 3306.64 5638.1 C 3327.33 5614.05 3350.32 5587.42 3392.59 5539.24 M 3312.29 5637.71 C 3338.15 5609.81 3363.25 5580.52 3392.33 5545.63 M 3312.29 5637.71 C 3338.28 5607.82 3362.75 5578.87 3392.33 5545.63 M 3317.27 5638.07 C 3344.27 5605.64 3373.83 5571.6 3392.72 5551.28 M 3317.27 5638.07 C 3343.83 5606.77 3371.05 5578.2 3392.72 5551.28 M 3322.92 5637.67 C 3339.65 5617.71 3359.14 5593.54 3392.46 5557.68 M 3322.92 5637.67 C 3347.44 5610.26 3370.17 5583.61 3392.46 5557.68 M 3327.9 5638.03 C 3350.73 5610.87 3373.45 5584.22 3392.2 5564.07 M 3327.9 5638.03 C 3341.81 5621.9 3357.37 5605.56 3392.2 5564.07 M 3333.55 5637.64 C 3348.6 5622.19 3362.2 5602.36 3392.59 5569.72 M 3333.55 5637.64 C 3350.66 5618.74 3366.84 5601.29 3392.59 5569.72 M 3338.53 5638 C 3351.35 5624.17 3365.06 5606.63 3392.33 5576.11 M 3338.53 5638 C 3351.66 5622.12 3365.17 5607.27 3392.33 5576.11 M 3344.18 5637.61 C 3355.03 5623.8 3367.45 5609.67 3392.72 5581.76 M 3344.18 5637.61 C 3358.2 5623 3372 5607.62 3392.72 5581.76 M 3349.16 5637.97 C 3363.11 5618.73 3378.7 5603.27 3392.46 5588.15 M 3349.16 5637.97 C 3362.83 5621.62 3377.69 5605.78 3392.46 5588.15 M 3354.81 5637.57 C 3369.07 5620.87 3383.16 5605.8 3392.2 5594.55 M 3354.81 5637.57 C 3365.72 5624.47 3377.37 5611.27 3392.2 5594.55 M 3359.79 5637.93 C 3368.62 5626.93 3377.14 5616.08 3392.6 5600.2 M 3359.79 5637.93 C 3371.8 5623.88 3383.38 5609.77 3392.6 5600.2 M 3364.78 5638.29 C 3373.43 5626.94 3387.38 5613.24 3392.34 5606.59 M 3364.78 5638.29 C 3375.77 5625.51 3385.19 5613.41 3392.34 5606.59 M 3370.42 5637.9 C 3380.66 5627.75 3386.64 5619.07 3392.73 5612.24 M 3370.42 5637.9 C 3375.18 5632.2 3380.84 5625.53 3392.73 5612.24 M 3374.75 5639.01 C 3380.34 5630.7 3389.33 5621.68 3392.47 5618.63 M 3374.75 5639.01 C 3381.22 5632.61 3386.54 5625.74 3392.47 5618.63" fill="none" stroke="#ffccff" stroke-width="0.5" stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 488px; height: 1px; padding-top: 5577px; margin-left: 2901px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; overflow-wrap: normal;">
                                <font style="">
                                    Istio Upstream HTTP protocol selection
                                    <br/>
                                    <br/>
                                    upstream-http-protocol-selection-src.drawio.svg
                                    <br/>
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3145" y="5581" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-style="italic">
                    Istio Upstream HTTP protocol selection...
                </text>
            </switch>
        </g>
        <rect x="1740" y="37" width="955" height="400" rx="60" ry="60" fill="#000000" stroke="#000000" stroke-dasharray="3 3" pointer-events="all" transform="translate(2,3)" opacity="0.25"/>
        <rect x="1740" y="37" width="955" height="400" rx="60" ry="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 953px; height: 1px; padding-top: 34px; margin-left: 1741px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Legend
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2218" y="34" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Legend
                </text>
            </switch>
        </g>
        <path d="M 1835 117 L 2059.29 117" fill="none" stroke="#66cc00" stroke-width="6" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2068.29 117 L 2056.29 123 L 2059.29 117 L 2056.29 111 Z" fill="#66cc00" stroke="#66cc00" stroke-width="6" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 117px; margin-left: 1940px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                buffer transfer: move-partial
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1940" y="120" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    buffer tra...
                </text>
            </switch>
        </g>
        <path d="M 1835 197 L 2059.29 197" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2068.29 197 L 2056.29 203 L 2059.29 197 L 2056.29 191 Z" fill="#3399ff" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 197px; margin-left: 1940px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                buffer transfer:  move-slice
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1940" y="200" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    buffer tra...
                </text>
            </switch>
        </g>
        <path d="M 1820 317 C 1820 308.72 1855.82 302 1900 302 C 1921.22 302 1941.57 303.58 1956.57 306.39 C 1971.57 309.21 1980 313.02 1980 317 L 1980 367 C 1980 375.28 1944.18 382 1900 382 C 1855.82 382 1820 375.28 1820 367 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1980 317 C 1980 325.28 1944.18 332 1900 332 C 1855.82 332 1820 325.28 1820 317" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 355px; margin-left: 1821px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Unbounded buffer
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1900" y="359" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Unbounded buffer
                </text>
            </switch>
        </g>
        <path d="M 2040 317 C 2040 308.72 2073.58 302 2115 302 C 2134.89 302 2153.97 303.58 2168.03 306.39 C 2182.1 309.21 2190 313.02 2190 317 L 2190 367 C 2190 375.28 2156.42 382 2115 382 C 2073.58 382 2040 375.28 2040 367 Z" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2190 317 C 2190 325.28 2156.42 332 2115 332 C 2073.58 332 2040 325.28 2040 317" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 355px; margin-left: 2041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Bounded buffer
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2115" y="359" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Bounded buffer
                </text>
            </switch>
        </g>
        <path d="M 3596.34 2357 L 2748.99 1710.7" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2741.83 1705.24 L 2755.01 1707.75 L 2748.99 1710.7 L 2747.74 1717.29 Z" fill="#3399ff" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2032px; margin-left: 3171px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                outbound traffic
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3171" y="2036" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    outbound...
                </text>
            </switch>
        </g>
        <path d="M 2751.22 3177 L 2974.86 2913.23" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2974.49 2919.86 L 2979.2 2908.12 L 2968.39 2914.68" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3037px; margin-left: 2877px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Outbound traffic
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2877" y="3040" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    Outbound t...
                </text>
            </switch>
        </g>
        <rect x="2680" y="3177" width="78" height="76" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 2753 3177 L 2685.01 3177 C 2682.43 3177 2680.34 3179.09 2680.34 3181.67 L 2680.34 3226.56 C 2680.34 3229.13 2682.43 3231.22 2685.01 3231.22 L 2753 3231.22 C 2755.57 3231.22 2757.66 3229.13 2757.66 3226.56 L 2757.66 3181.67 C 2757.66 3179.09 2755.57 3177 2753 3177 Z M 2754.13 3226.56 C 2754.13 3227.18 2753.62 3227.69 2753 3227.69 L 2685.01 3227.69 C 2684.38 3227.69 2683.87 3227.18 2683.87 3226.56 L 2683.87 3181.67 C 2683.87 3181.04 2684.38 3180.53 2685.01 3180.53 L 2753 3180.53 C 2753.62 3180.53 2754.13 3181.04 2754.13 3181.67 Z M 2748.92 3183.18 L 2689.03 3183.18 C 2687.64 3183.18 2686.52 3184.31 2686.52 3185.69 L 2686.52 3222.53 C 2686.52 3223.92 2687.64 3225.04 2689.03 3225.04 L 2748.92 3225.04 C 2750.3 3225.04 2751.43 3223.92 2751.43 3222.53 L 2751.43 3185.69 C 2751.43 3184.31 2750.3 3183.18 2748.92 3183.18 Z M 2690.05 3221.51 L 2690.05 3186.71 L 2747.9 3186.71 L 2747.9 3221.51 Z M 2753 3234.15 L 2685.01 3234.15 C 2682.43 3234.15 2680.34 3236.24 2680.34 3238.82 L 2680.34 3248.33 C 2680.34 3250.9 2682.43 3253 2685.01 3253 L 2753 3253 C 2755.57 3253 2757.66 3250.9 2757.66 3248.33 L 2757.66 3238.82 C 2757.66 3236.24 2755.57 3234.15 2753 3234.15 Z M 2754.13 3248.33 C 2754.13 3248.96 2753.62 3249.47 2753 3249.47 L 2685.01 3249.47 C 2684.38 3249.47 2683.87 3248.96 2683.87 3248.33 L 2683.87 3238.82 C 2683.87 3238.19 2684.38 3237.68 2685.01 3237.68 L 2753 3237.68 C 2753.62 3237.68 2754.13 3238.19 2754.13 3238.82 Z M 2751.49 3241.93 L 2751.49 3245.32 C 2751.49 3246.1 2750.86 3246.72 2750.09 3246.72 L 2731.12 3246.72 C 2730.34 3246.72 2729.72 3246.1 2729.72 3245.32 L 2729.72 3241.93 C 2729.72 3241.15 2730.34 3240.53 2731.12 3240.53 L 2750.09 3240.53 C 2750.86 3240.53 2751.49 3241.15 2751.49 3241.93 Z" fill="#232f3d" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3260px; margin-left: 2719px;">
                        <div data-drawio-colors="color: #232F3E; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(35, 47, 62); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                <span style="color: rgb(0, 0, 0); font-size: 11px; background-color: rgb(255, 255, 255);">
                                    downstream
                                    <br/>
                                    (app on the POD)
                                    <br/>
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2719" y="3272" fill="#232F3E" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    downstream...
                </text>
            </switch>
        </g>
        <path d="M 2660 1702.87 L 2660 1635.76 L 2695.53 1627 L 2725.31 1636.01 L 2725.31 1703.87 L 2690.28 1712.14 Z" fill="#abb4c5" stroke="none" pointer-events="all"/>
        <path d="M 2660 1635.76 L 2695.53 1627 L 2725.31 1636.01 L 2690.28 1644.53 Z" fill="#b8bfd1" stroke="none" pointer-events="all"/>
        <path d="M 2690.28 1644.53 L 2725.31 1636.01 L 2725.31 1703.87 L 2690.28 1712.14 Z" fill="#5b6369" stroke="none" pointer-events="all"/>
        <path d="M 2690.63 1681.44 C 2684.11 1678.92 2677.87 1675.74 2672.01 1671.92 C 2669.2 1669.97 2666.81 1667.47 2665 1664.56 C 2663.76 1662.29 2663.12 1659.74 2663.15 1657.15 C 2663.05 1654.36 2663.1 1651.57 2663.3 1648.79 C 2663.45 1646.3 2663.71 1643.83 2664.1 1641.37 C 2664.47 1640.02 2665.03 1638.72 2665.76 1637.52 C 2667.28 1636.49 2669 1635.65 2670.86 1635.01 C 2674.03 1633.93 2677.26 1633.01 2680.52 1632.26 C 2683.92 1631.35 2687.38 1630.68 2690.88 1630.26 C 2693.25 1629.96 2695.65 1629.87 2698.04 1630 C 2701.93 1630.28 2705.75 1631.13 2709.4 1632.51 L 2721.26 1636.87 C 2722.3 1638.6 2722.98 1640.52 2723.26 1642.53 C 2723.59 1645.22 2723.78 1647.93 2723.81 1650.64 C 2724 1656.62 2723.84 1662.61 2723.31 1668.57 C 2723.24 1671.2 2722.35 1673.74 2720.76 1675.83 C 2718.44 1678.39 2715.31 1680.07 2711.9 1680.59 C 2709.17 1681.01 2706.41 1681.22 2703.64 1681.19 Z" fill-opacity="0.4" fill="#ffffff" stroke="none" pointer-events="all"/>
        <rect x="2660" y="1627" width="0" height="0" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 2663.5 1646.03 L 2663.5 1644.28 L 2686.28 1651.29 L 2686.28 1653.04 Z M 2667.26 1699.12 L 2667.26 1697.36 L 2681.27 1701.37 L 2681.27 1703.12 Z" fill="#52595e" stroke="none" pointer-events="all"/>
        <path d="M 2660 1702.87 L 2660 1635.76 L 2695.53 1627 L 2725.31 1636.01 L 2725.31 1703.87 L 2690.28 1712.14 Z" fill="none" stroke="#000000" stroke-width="0.6" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2660" y="1627" width="0" height="0" fill="none" stroke="none" pointer-events="all"/>
        <ellipse cx="2717.01" cy="1698.17" rx="18.818449460255152" ry="18.830337766401424" fill="#008cce" stroke="none" pointer-events="all"/>
        <path d="M 2704.16 1684.68 C 2704.35 1685.2 2704.61 1685.7 2704.92 1686.15 C 2705.44 1686.2 2705.95 1686.36 2706.4 1686.62 C 2706.27 1687.15 2706.5 1687.7 2706.96 1687.99 C 2707.31 1688.19 2707.55 1688.55 2707.6 1688.95 C 2707.61 1689.15 2707.71 1689.34 2707.86 1689.47 C 2708.02 1689.6 2708.22 1689.66 2708.42 1689.65 C 2708.65 1689.61 2708.89 1689.6 2709.12 1689.6 C 2709.63 1689.53 2710.15 1689.64 2710.58 1689.9 L 2712.17 1691.05 C 2712.42 1691.22 2712.61 1691.49 2712.68 1691.78 C 2712.77 1692.07 2712.77 1692.39 2712.68 1692.68 C 2712.55 1692.71 2712.42 1692.7 2712.3 1692.64 C 2712.21 1692.39 2712.03 1692.18 2711.79 1692.06 C 2711.49 1691.94 2711.14 1691.94 2710.84 1692.06 C 2710.43 1692.29 2709.96 1692.37 2709.5 1692.3 C 2709.12 1692.31 2708.77 1692.5 2708.54 1692.8 C 2708.37 1693.06 2708.09 1693.22 2707.78 1693.24 C 2707.47 1693.27 2707.17 1693.15 2706.96 1692.93 C 2706.77 1692.68 2706.47 1692.54 2706.15 1692.57 C 2705.84 1692.6 2705.57 1692.8 2705.43 1693.08 C 2705.27 1693.45 2705.17 1693.83 2705.13 1694.23 C 2705.14 1694.74 2705.04 1695.25 2704.85 1695.73 C 2704.74 1695.97 2704.57 1696.18 2704.34 1696.32 C 2703.97 1696.42 2703.73 1696.77 2703.78 1697.15 C 2704.08 1697.51 2704.31 1697.91 2704.47 1698.35 C 2704.61 1698.62 2704.5 1698.94 2704.21 1699.11 C 2703.93 1699.35 2703.79 1699.72 2703.86 1700.08 C 2703.42 1700.09 2702.98 1700.02 2702.56 1699.88 C 2702.4 1699.67 2702.18 1699.52 2701.93 1699.44 C 2701.69 1699.39 2701.44 1699.48 2701.29 1699.67 C 2701 1700.08 2700.79 1700.54 2700.68 1701.02 C 2700.58 1701.35 2700.53 1701.7 2700.52 1702.04 C 2700.85 1702.65 2701.01 1703.33 2700.99 1704.02 L 2701.24 1706.06 C 2701.26 1706.33 2701.19 1706.6 2701.05 1706.82 C 2700.89 1707.03 2700.67 1707.18 2700.42 1707.25 C 2696.43 1699.75 2697.95 1690.51 2704.14 1684.68 Z" fill="#00527f" stroke="none" pointer-events="all"/>
        <path d="M 2727.18 1682.52 C 2727.09 1682.8 2726.91 1683.05 2726.67 1683.21 C 2726.44 1683.3 2726.2 1683.35 2725.95 1683.36 L 2724.56 1683.54 C 2723.96 1683.47 2723.35 1683.53 2722.78 1683.74 C 2722.83 1683.94 2722.75 1684.15 2722.58 1684.28 C 2722.42 1684.4 2722.19 1684.41 2722.02 1684.3 C 2721.65 1684.31 2721.31 1684.47 2721.07 1684.74 C 2720.89 1684.94 2720.64 1685.07 2720.36 1685.12 C 2719.98 1685.2 2719.65 1685.45 2719.47 1685.8 C 2719.31 1686.11 2719.01 1686.18 2718.79 1685.95 C 2718.65 1685.68 2718.56 1685.38 2718.53 1685.07 C 2718.28 1684.47 2717.83 1683.97 2717.26 1683.67 C 2716.68 1683.41 2716.14 1683.07 2715.66 1682.65 C 2715.35 1682.42 2715.17 1682.07 2715.15 1681.68 C 2715.13 1681.45 2715.16 1681.22 2715.22 1681 C 2715.03 1680.6 2714.65 1680.33 2714.21 1680.28 C 2713.88 1680.2 2713.61 1679.96 2713.5 1679.64 C 2718.34 1678.74 2723.34 1679.78 2727.43 1682.52 Z" fill="#64aadc" stroke="none" pointer-events="all"/>
        <path d="M 2735.06 1703.26 C 2735 1702.68 2734.78 1702.12 2734.42 1701.66 C 2734.03 1701.63 2733.65 1701.82 2733.46 1702.17 C 2733.15 1702.61 2732.67 1702.91 2732.14 1703.01 C 2731.76 1702.59 2731.84 1702.01 2732.32 1701.66 C 2732.63 1701.19 2732.7 1700.61 2732.52 1700.08 C 2732.48 1699.85 2732.39 1699.64 2732.27 1699.44 C 2731.91 1699.09 2731.65 1698.65 2731.5 1698.17 C 2731.17 1698.39 2730.77 1698.35 2730.46 1698.09 C 2730.15 1697.82 2729.98 1697.36 2730.02 1696.9 C 2730.04 1696.35 2729.84 1695.82 2729.47 1695.43 C 2729.5 1694.56 2729.23 1693.7 2728.7 1693.01 C 2728.17 1692.48 2727.47 1692.16 2726.72 1692.11 C 2726.09 1692.13 2725.57 1691.75 2725.56 1691.28 C 2725.55 1690.81 2726.04 1690.42 2726.67 1690.41 C 2727.62 1690.52 2728.58 1690.49 2729.52 1690.33 C 2730.43 1690.22 2731.32 1689.95 2732.14 1689.52 L 2733.03 1688.3 C 2735.76 1692.78 2736.5 1698.21 2735.06 1703.26 Z" fill="#0a79b9" stroke="none" pointer-events="all"/>
        <path d="M 2733.15 1707.97 C 2732.72 1708.51 2732.15 1708.92 2731.5 1709.16 C 2730.99 1709.32 2730.64 1709.78 2730.61 1710.31 C 2730.55 1710.5 2730.5 1710.4 2730.45 1710.04 C 2730.4 1709.68 2730.37 1709.08 2730.35 1708.4 C 2730.43 1707.76 2730.67 1707.14 2731.04 1706.62 C 2731.45 1706.24 2731.82 1705.81 2732.14 1705.35 C 2732.25 1705.16 2732.25 1704.93 2732.14 1704.74 C 2732.03 1704.55 2731.82 1704.45 2731.6 1704.47 C 2731.38 1704.49 2731.2 1704.64 2731.12 1704.84 C 2730.65 1705.4 2730.22 1705.99 2729.85 1706.62 C 2729.23 1707.55 2728.33 1707.93 2727.48 1707.64 C 2726.97 1707.39 2726.4 1707.26 2725.83 1707.25 C 2725.49 1707.39 2725.28 1707.61 2725.25 1707.85 C 2725.23 1708.09 2725.4 1708.32 2725.7 1708.48 C 2726.18 1708.62 2726.59 1708.94 2726.85 1709.37 C 2727.25 1710.05 2726.44 1710.75 2724.89 1711.08 C 2723.82 1711.1 2722.77 1711.3 2721.76 1711.66 C 2721.17 1712.2 2720.77 1712.91 2720.61 1713.69 C 2720.43 1714.04 2719.49 1714.3 2718.33 1714.33 C 2717.5 1714.21 2716.67 1714.25 2715.86 1714.46 C 2715.19 1714.7 2714.43 1714.58 2713.88 1714.13 C 2713.75 1713.86 2713.48 1713.68 2713.18 1713.67 C 2712.88 1713.65 2712.6 1713.8 2712.44 1714.06 C 2712.29 1714.31 2712.28 1714.63 2712.43 1714.89 C 2712.69 1715.36 2713.22 1715.62 2713.75 1715.53 C 2714.13 1715.31 2714.62 1715.22 2715.1 1715.27 C 2715.39 1715.34 2715.63 1715.51 2715.73 1715.73 C 2715.9 1715.86 2716.23 1715.97 2716.64 1716.02 C 2717.06 1716.07 2717.51 1716.06 2717.9 1715.98 C 2718.53 1715.79 2719.33 1715.67 2720.18 1715.65 C 2720.79 1715.61 2721.35 1715.53 2721.84 1715.4 C 2722.31 1715.04 2722.9 1714.86 2723.49 1714.89 C 2723.83 1714.82 2724.09 1714.73 2724.25 1714.64 C 2724.49 1714.46 2724.78 1714.37 2725.07 1714.38 C 2725.21 1714.49 2725.27 1714.68 2725.19 1714.84 C 2725 1715.11 2724.77 1715.35 2724.51 1715.55 C 2728.11 1713.99 2731.13 1711.34 2733.15 1707.97 Z" fill="#266792" stroke="none" pointer-events="all"/>
        <ellipse cx="2715.86" cy="1690.16" rx="13.6058390578999" ry="9.415168883200712" fill-opacity="0.3" fill="#ffffff" stroke="none" pointer-events="all"/>
        <ellipse cx="2709.65" cy="1688.36" rx="3.9413640824337586" ry="2.8721273162317065" fill-opacity="0.4" fill="#ffffff" stroke="none" pointer-events="all"/>
        <rect x="2660" y="1627" width="0" height="0" fill="none" stroke="none" pointer-events="all"/>
        <ellipse cx="2717.01" cy="1698.17" rx="18.818449460255152" ry="18.830337766401424" fill="none" stroke="#000000" stroke-width="0.49" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1724px; margin-left: 2698px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                upstream cluster
                                <br/>
                                (istio-proxy of another POD)
                                <br/>
                                <br/>
                                <span style="font-family: &quot;Courier New&quot;; text-align: left;">
                                    outbound|8080|version|serviceB.ns.svc.cluster.local
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2698" y="1736" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    upstream clus...
                </text>
            </switch>
        </g>
        <path d="M 1837 263 L 2058.76 263" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2064.76 263 L 2056.76 267 L 2058.76 263 L 2056.76 259 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px">
            <rect fill="rgb(255, 255, 255)" stroke="none" x="1918" y="256" width="74" height="15" stroke-width="0"/>
            <text x="1954.15" y="267.5">
                backpressure
            </text>
        </g>
        <rect x="2085" y="107" width="555" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 553px; height: 1px; padding-top: 122px; margin-left: 2087px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    move-partial
                                </b>
                                a non-blocking buffer transfer  that will return the number of buffer bytes moved, caller is reponsible for buffering the rest.
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2087" y="126" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    move-partial  a non-blocking buffer transfer  that will return the number of buffer bytes mo...
                </text>
            </switch>
        </g>
        <rect x="2085" y="187" width="575" height="30" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 573px; height: 1px; padding-top: 202px; margin-left: 2087px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    move-slice
                                </b>
                                a non-blocking buffer transfer  that will transfer the entire buffer slice provided by the caller.
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2087" y="206" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    move-slice   a non-blocking buffer transfer  that will transfer the entire buffer slice provided...
                </text>
            </switch>
        </g>
        <path d="M 880 2313 L 880 2287 L 1240 2287 L 1240 2313" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 880 2313 L 880 2347 L 1240 2347 L 1240 2313" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 880 2313 L 1240 2313" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="1059.5" y="2304.5">
                Network::TransportSocketOptions
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-884-2318-352-26-0)" font-size="12px">
            <text x="885.5" y="2330.5">
                vector&lt;std::string&gt;&amp; applicationProtocolListOverride()
            </text>
        </g>
        <path d="M 880 2343 L 1240 2343" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 880 2503 L 880 2477 L 1240 2477 L 1240 2503" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 880 2503 L 880 2563 L 1240 2563 L 1240 2503" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 880 2503 L 1240 2503" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="1059.5" y="2494.5">
                Network::TransportSocketOptionsImpl
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-884-2508-352-26-0)" font-size="12px">
            <text x="885.5" y="2520.5">
                - vector&lt;std::string&gt; override_alpn_list_
            </text>
        </g>
        <path d="M 880 2533 L 1240 2533" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-884-2542-352-26-0)" font-size="12px">
            <text x="885.5" y="2554.5">
                vector&lt;std::string&gt;&amp; applicationProtocolListOverride()
            </text>
        </g>
        <path d="M 1060 2477 L 1060 2361.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 1060 2348.12 L 1066.5 2361.12 L 1053.5 2361.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1870 2303 L 1870 2277 L 2450 2277 L 2450 2303" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1870 2303 L 1870 2337 L 2450 2337 L 2450 2303" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1870 2303 L 2450 2303" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="2159.5" y="2294.5">
                Network::TransportSocketOptionsUtility
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1874-2308-572-26-0)" font-size="12px">
            <text x="1875.5" y="2320.5">
                TransportSocketOptionsConstSharedPtr fromFilterState(const StreamInfo::FilterState&amp; filter_state)
            </text>
        </g>
        <path d="M 1870 2333 L 2450 2333" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="1240" y="1747" width="1180" height="350" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1178px; height: 1px; padding-top: 1922px; margin-left: 1242px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                absl::string_view server_name;
                                <br/>
                                std::vector&lt;std::string&gt; application_protocols;
                                <br/>
                                std::vector&lt;std::string&gt; alpn_fallback;
                                <br/>
                                ...
                                <br/>
                                bool needs_transport_socket_options = false;
                                <br/>
                                <br/>
                                if (auto typed_data = filter_state.
                                <font color="#ff3333">
                                    getDataReadOnly&lt;Network::ApplicationProtocols&gt;(
                                    <br/>
                                    Network::ApplicationProtocols::key());
                                </font>
                                <font color="#00cc00">
                                    //get ApplicationProtocols(HTTP version) from a filter state map, key: Network::ApplicationProtocols::key().
                                </font>
                                <br/>
                                typed_data != nullptr) {
                                <br/>
                                application_protocols = typed_data-&gt;value();
                                <br/>
                                needs_transport_socket_options = true;
                                <br/>
                                }
                                <br/>
                                ...
                                <br/>
                                if (needs_transport_socket_options) {
                                <br/>
                                return std::make_shared&lt;Network::TransportSocketOptionsImpl&gt;(
                                <br/>
                                server_name, std::move(subject_alt_names), std::move(application_protocols),
                                <br/>
                                std::move(alpn_fallback), proxy_protocol_options, std::move(objects),
                                <br/>
                                std::move(proxy_info));
                                <br/>
                                } else {
                                <br/>
                                return nullptr;
                                <br/>
                                }
                                <br/>
                                }
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1242" y="1926" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    absl::string_view server_name;...
                </text>
            </switch>
        </g>
        <path d="M 2149.11 2303 L 1976.57 2097" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <path d="M 2730 2263 L 2730 2237 L 3310 2237 L 3310 2263" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2263 L 2730 2297 L 3310 2297 L 3310 2263" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2263 L 3310 2263" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3019.5" y="2254.5">
                Upstream::LoadBalancerContext
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2268-572-26-0)" font-size="12px">
            <text x="2735.5" y="2280.5">
                Network::TransportSocketOptionsConstSharedPtr upstreamTransportSocketOptions()
            </text>
        </g>
        <path d="M 2730 2293 L 3310 2293" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2383 L 2730 2357 L 3310 2357 L 3310 2383" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2383 L 2730 2417 L 3310 2417 L 3310 2383" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2383 L 3310 2383" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3019.5" y="2374.5">
                Upstream::LoadBalancerContextBase
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2388-572-26-0)" font-size="12px">
            <text x="2735.5" y="2400.5">
                Network::TransportSocketOptionsConstSharedPtr upstreamTransportSocketOptions()
            </text>
        </g>
        <path d="M 2730 2413 L 3310 2413" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3020 2357 L 3020 2311.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 3020 2298.12 L 3026.5 2311.12 L 3013.5 2311.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2533 L 2730 2507 L 3310 2507 L 3310 2533" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2533 L 2730 2671 L 3310 2671 L 3310 2533" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2533 L 3310 2533" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3019.5" y="2524.5">
                Router::Filter
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2538-572-26-0)" font-size="12px">
            <text x="2735.5" y="2550.5">
                Http::FilterHeadersStatus Filter::decodeHeaders(Http::RequestHeaderMap&amp; headers, bool end_stream)
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2564-572-26-0)" font-size="12px"/>
        <rect x="2730" y="2585" width="580" height="26" fill="none" stroke="rgb(0, 0, 0)" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2590-572-26-0)" font-size="12px"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2616-572-26-0)" font-size="12px">
            <text x="2735.5" y="2628.5">
                - Network::TransportSocketOptionsConstSharedPtr transport_socket_options_
            </text>
        </g>
        <path d="M 2730 2641 L 3310 2641" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2650-572-26-0)" font-size="12px">
            <text x="2735.5" y="2662.5">
                Network::TransportSocketOptionsConstSharedPtr Filter::upstreamTransportSocketOptions()
            </text>
        </g>
        <path d="M 3020 2559 L 3020 2608.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 3013.5 2596.88 L 3020 2609.88 L 3026.5 2596.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2585px; margin-left: 3020px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                set
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="2588" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    set
                </text>
            </switch>
        </g>
        <path d="M 3020 2507 L 3020 2431.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 3020 2418.12 L 3026.5 2431.12 L 3013.5 2431.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2971.39 2533 L 2210.77 2329.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 2223.93 2326.37 L 2209.69 2329.29 L 2220.57 2338.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2431px; margin-left: 2590px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                get
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2590" y="2434" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    get
                </text>
            </switch>
        </g>
        <path d="M 3385 2383 L 3385 2357 L 3965 2357 L 3965 2383" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3385 2383 L 3385 2477 L 3965 2477 L 3965 2383" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3385 2383 L 3965 2383" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3674.5" y="2374.5">
                Upstream::ClusterManagerImpl::ThreadLocalClusterManagerImpl::ClusterEntry
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-3389-2388-572-26-0)" font-size="12px">
            <text x="3390.5" y="2400.5">
                Host::CreateConnectionData tcpConn( LoadBalancerContext* context)
            </text>
        </g>
        <path d="M 3385 2413 L 3965 2413" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-3389-2422-572-60-0)" font-size="12px">
            <text x="3390.5" y="2434.5">
                Http::ConnectionPool::Instance* httpConnPoolImpl(
            </text>
            <text x="3390.5" y="2448.5">
                ResourcePriority priority, absl::optional&lt;Http::Protocol&gt; downstream_protocol,
            </text>
            <text x="3390.5" y="2462.5">
                LoadBalancerContext* context, bool peek)
            </text>
        </g>
        <rect x="4330" y="2162" width="650" height="210" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 648px; height: 1px; padding-top: 2267px; margin-left: 4332px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                HostConstSharedPtr logical_host = chooseHost(context);
                                <br/>
                                if (logical_host) {
                                <br/>
                                auto conn_info = logical_host-&gt;createConnection(
                                <br/>
                                parent_.thread_local_dispatcher_, nullptr,
                                <br/>
                                context == nullptr ? nullptr : context-&gt;upstreamTransportSocketOptions());
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4332" y="2271" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    HostConstSharedPtr logical_host = chooseHost(context);...
                </text>
            </switch>
        </g>
        <path d="M 3773.76 2383 L 4330 2309.78" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <path d="M 3604.04 2383 L 3093.16 2289.4" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 3106.02 2285.15 L 3092.06 2289.2 L 3103.67 2297.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2336px; margin-left: 3347px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3347" y="2340" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <path d="M 1350 2683 L 1350 2657 L 1840 2657 L 1840 2683" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1350 2683 L 1350 2743 L 1840 2743 L 1840 2683" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 1350 2683 L 1840 2683" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="1594.5" y="2674.5">
                Extensions::TransportSockets::Tls::ClientContextImpl
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1354-2688-482-26-0)" font-size="12px">
            <text x="1355.5" y="2700.5">
                bssl::UniquePtr&lt;SSL&gt; newSsl(TransportSocketOptionsConstSharedPtr&amp; options)
            </text>
        </g>
        <path d="M 1350 2713 L 1840 2713" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-1354-2722-482-26-0)" font-size="12px"/>
        <path d="M 1576.2 2683 L 1080.64 2340.27" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 1094.11 2341.68 L 1079.72 2339.64 L 1086.71 2352.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2511px; margin-left: 1328px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1328" y="2515" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <rect x="670" y="2837" width="760" height="350" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 3012px; margin-left: 672px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                // We determine what ALPN using the following precedence:
                                <br/>
                                // 1. Option-provided ALPN override.
                                <br/>
                                // 2. ALPN statically configured in the upstream TLS context.
                                <br/>
                                // 3. Option-provided ALPN fallback.
                                <br/>
                                <br/>
                                // At this point in the code the ALPN has already been set (if present) to the value specified in
                                <br/>
                                // the TLS context. We've stored this value in parsed_alpn_protocols_ so we can check that to see
                                <br/>
                                // if it's already been set.
                                <br/>
                                bool has_alpn_defined = !parsed_alpn_protocols_.empty();
                                <br/>
                                if (options) {
                                <br/>
                                <font color="#ff3333">
                                    // ALPN override takes precedence over TLS context specified, so blindly overwrite it.
                                    <br/>
                                    has_alpn_defined |= parseAndSetAlpn(options-&gt;applicationProtocolListOverride()
                                </font>
                                , *ssl_con);
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (options &amp;&amp; !has_alpn_defined &amp;&amp; !options-&gt;applicationProtocolFallback().empty()) {
                                <br/>
                                // If ALPN hasn't already been set (either through TLS context or override), use the fallback.
                                <br/>
                                parseAndSetAlpn(options-&gt;applicationProtocolFallback(), *ssl_con);
                                <br/>
                                }
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="672" y="3016" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    // We determine what ALPN using the following precedence:...
                </text>
            </switch>
        </g>
        <path d="M 1572.58 2709 L 1351.82 2837" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <path d="M 2089.9 2329 L 1242.2 2486.21" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 1252.7 2477.65 L 1241.1 2486.41 L 1255.07 2490.43" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2408px; margin-left: 1665px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Create
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1665" y="2411" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Create
                </text>
            </switch>
        </g>
        <path d="M 2730 2843 L 2730 2817 L 3310 2817 L 3310 2843" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2843 L 2730 2903 L 3310 2903 L 3310 2843" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2843 L 3310 2843" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="3019.5" y="2834.5">
                Http::Alpn (from istio-proxy)
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2848-572-26-0)" font-size="12px">
            <text x="2735.5" y="2860.5">
                Http::FilterHeadersStatus AlpnFilter::decodeHeaders(Http::RequestHeaderMap&amp;, bool)
            </text>
        </g>
        <path d="M 2730 2873 L 3310 2873" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2734-2882-572-26-0)" font-size="12px"/>
        <path d="M 2000 2697 L 2000 2671 L 2580 2671 L 2580 2697" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2000 2697 L 2000 2757 L 2580 2757 L 2580 2697" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2000 2697 L 2580 2697" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="2289.5" y="2688.5">
                Http::StreamDecoderFilter
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2004-2702-572-26-0)" font-size="12px">
            <text x="2005.5" y="2714.5">
                FilterHeadersStatus decodeHeaders(RequestHeaderMap&amp; headers, bool end_stream)
            </text>
        </g>
        <path d="M 2000 2727 L 2580 2727" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2004-2736-572-26-0)" font-size="12px"/>
        <path d="M 2000 2873 L 2000 2847 L 2580 2847 L 2580 2873" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2000 2873 L 2000 2933 L 2580 2933 L 2580 2873" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2000 2873 L 2580 2873" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="2289.5" y="2864.5">
                Http::PassThroughDecoderFilter
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2004-2878-572-26-0)" font-size="12px">
            <text x="2005.5" y="2890.5">
                FilterHeadersStatus decodeHeaders(RequestHeaderMap&amp; headers, bool end_stream)
            </text>
        </g>
        <path d="M 2000 2903 L 2580 2903" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-2004-2912-572-26-0)" font-size="12px"/>
        <path d="M 2290 2847 L 2290 2775.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2290 2758.12 L 2298.5 2775.12 L 2281.5 2775.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2638.66 L 2558.98 2667.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2542.22 2670.81 L 2557.54 2659.56 L 2560.41 2676.32 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2730 2871.92 L 2598.1 2877.34" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 2581.12 2878.04 L 2597.75 2868.85 L 2598.45 2885.83 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <rect x="3670" y="2757" width="800" height="643" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 798px; height: 1px; padding-top: 3079px; margin-left: 3672px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                Router::RouteConstSharedPtr route = decoder_callbacks_-&gt;route();
                                <br/>
                                const Router::RouteEntry* route_entry;
                                <br/>
                                if (!route || !(route_entry = route-&gt;routeEntry())) {
                                <br/>
                                ENVOY_LOG(debug, "cannot find route entry");
                                <br/>
                                return Http::FilterHeadersStatus::Continue;
                                <br/>
                                }
                                <br/>
                                <br/>
                                Upstream::ThreadLocalCluster* cluster =
                                <br/>
                                config_-&gt;clusterManager().getThreadLocalCluster(route_entry-&gt;clusterName());
                                <br/>
                                if (!cluster || !cluster-&gt;info()) {
                                <br/>
                                ENVOY_LOG(debug, "cannot find cluster {}", route_entry-&gt;clusterName());
                                <br/>
                                return Http::FilterHeadersStatus::Continue;
                                <br/>
                                }
                                <br/>
                                <br/>
                                const auto&amp; filter_metadata = cluster-&gt;info()-&gt;metadata().filter_metadata();
                                <br/>
                                const auto&amp; istio = filter_metadata.find("istio");
                                <br/>
                                if (istio != filter_metadata.end()) {
                                <br/>
                                const auto&amp; alpn_override = istio-&gt;second.fields().find("alpn_override");
                                <br/>
                                if (alpn_override != istio-&gt;second.fields().end()) {
                                <br/>
                                const auto alpn_override_value = alpn_override-&gt;second.string_value();
                                <br/>
                                if (alpn_override_value == "false") {
                                <br/>
                                // Skip ALPN header rewrite
                                <br/>
                                ENVOY_LOG(debug,
                                <br/>
                                "Skipping ALPN header rewrite because istio.alpn_override metadata is false");
                                <br/>
                                return Http::FilterHeadersStatus::Continue;
                                <br/>
                                }
                                <br/>
                                }
                                <br/>
                                }
                                <br/>
                                <br/>
                                auto protocols =
                                <br/>
                                <font color="#ff3333">
                                    cluster-&gt;info()-&gt;upstreamHttpProtocol(decoder_callbacks_-&gt;streamInfo().protocol())
                                </font>
                                ;
                                <br/>
                                const auto&amp; alpn_override = config_-&gt;alpnOverrides(protocols[0]);
                                <br/>
                                <br/>
                                if (!alpn_override.empty()) {
                                <br/>
                                ENVOY_LOG(debug, "
                                <font color="#ff3333">
                                    override with {} ALPNs
                                </font>
                                ", alpn_override.size());
                                <br/>
                                decoder_callbacks_-&gt;streamInfo().filterState()-&gt;
                                <font color="#ff3333">
                                    setData(
                                    <br/>
                                    Network::ApplicationProtocols::key(),
                                </font>
                                <br/>
                                std::make_unique&lt;Network::ApplicationProtocols&gt;(alpn_override),
                                <br/>
                                Envoy::StreamInfo::FilterState::StateType::ReadOnly);
                                <br/>
                                }
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3672" y="3082" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    Router::RouteConstSharedPtr route = decoder_callbacks_-&gt;route();...
                </text>
            </switch>
        </g>
        <path d="M 3081.35 2869 L 3670 2993.74" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <path d="M 2420 1921.94 L 4060.06 1921.94 Q 4070.06 1921.94 4070.06 1931.94 L 4070.06 2754.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 4063.56 2742.88 L 4070.06 2755.88 L 4076.56 2742.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1922px; margin-left: 3662px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                get from http filter  state map key:
                                <span style="font-family: &quot;Courier New&quot;; text-align: left; background-color: rgb(251, 251, 251);">
                                    Network::ApplicationProtocols::key()
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3662" y="1926" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    get from http filter  state...
                </text>
            </switch>
        </g>
        <rect x="2350" y="3487" width="1020" height="860" fill="#f0f1f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1018px; height: 1px; padding-top: 3917px; margin-left: 2352px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                dynamic_listeners:
                                <br/>
                                - name: 0.0.0.0_8080
                                <br/>
                                active_state:
                                <br/>
                                version_info: 2024-04-16T09:30:41Z/90
                                <br/>
                                listener:
                                <br/>
                                '@type': type.googleapis.com/envoy.config.listener.v3.Listener
                                <br/>
                                name: 0.0.0.0_8080
                                <br/>
                                address:
                                <br/>
                                socket_address:
                                <br/>
                                address: 0.0.0.0
                                <br/>
                                port_value: 8080
                                <br/>
                                filter_chains:
                                <br/>
                                - filter_chain_match:
                                <br/>
                                transport_protocol: raw_buffer
                                <br/>
                                application_protocols:
                                <br/>
                                - http/1.1
                                <br/>
                                - h2c
                                <br/>
                                filters:
                                <br/>
                                - name: envoy.filters.network.http_connection_manager
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
                                <br/>
                                stat_prefix: outbound_0.0.0.0_8080
                                <br/>
                                rds:
                                <br/>
                                ...
                                <br/>
                                http_filters:
                                <br/>
                                - name: envoy.filters.http.grpc_stats
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.filters.http.grpc_stats.v3.FilterConfig
                                <br/>
                                emit_filter_state: true
                                <br/>
                                stats_for_all_methods: false
                                <br/>
                                - name: istio.alpn
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/istio.envoy.config.filter.http.alpn.v2alpha1.FilterConfig
                                <br/>
                                alpn_override:
                                <br/>
                                - alpn_override:
                                <br/>
                                - istio-http/1.0
                                <br/>
                                - istio
                                <br/>
                                - http/1.0
                                <br/>
                                <font color="#ff3333">
                                    - upstream_protocol: HTTP11
                                    <br/>
                                    alpn_override:
                                    <br/>
                                    - istio-http/1.1
                                    <br/>
                                    - istio
                                    <br/>
                                    - http/1.1
                                </font>
                                <br/>
                                - upstream_protocol: HTTP2
                                <br/>
                                alpn_override:
                                <br/>
                                - istio-h2
                                <br/>
                                - istio
                                <br/>
                                - h2
                                <br/>
                                <br/>
                                ...
                                <br/>
                                - name: envoy.filters.http.router
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.filters.http.router.v3.Router
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2352" y="3921" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    dynamic_listeners:...
                </text>
            </switch>
        </g>
        <path d="M 3018.04 2869 L 2925.18 3484.79" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 2920.52 3472.07 L 2925.01 3485.89 L 2933.38 3474.01" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3178px; margin-left: 2971px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2971" y="3182" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <rect x="3610" y="3517" width="1020" height="420" fill="#f0f1f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1018px; height: 1px; padding-top: 3727px; margin-left: 3612px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                dynamic_active_clusters:
                                <br/>
                                cluster:
                                <br/>
                                '@type': type.googleapis.com/envoy.config.cluster.v3.Cluster
                                <br/>
                                name: outbound|8080|version|serviceB.ns.svc.cluster.local
                                <br/>
                                type: EDS
                                <br/>
                                eds_cluster_config:
                                <br/>
                                eds_config:
                                <br/>
                                ads: {}
                                <br/>
                                initial_fetch_timeout: 0s
                                <br/>
                                resource_api_version: V3
                                <br/>
                                service_name: outbound|8080|version|serviceB.ns.svc.cluster.local
                                <br/>
                                <br/>
                                <br/>
                                typed_extension_protocol_options:
                                <br/>
                                envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
                                <br/>
                                <font color="#ff3333">
                                    explicit_http_config
                                </font>
                                :
                                <br/>
                                <font color="#ff3333">
                                    http_protocol_options
                                </font>
                                :
                                <br/>
                                header_key_format:
                                <br/>
                                stateful_formatter:
                                <br/>
                                name: preserve_case
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.http.header_formatters.preserve_case.v3.PreserveCaseFormatterConfig
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3612" y="3731" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    dynamic_active_clusters:...
                </text>
            </switch>
        </g>
        <path d="M 3037.44 2843 L 4140.77 2020.34" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 4135.13 2032.65 L 4141.67 2019.67 L 4127.36 2022.23" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2431px; margin-left: 3590px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3590" y="2435" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <path d="M 3870 1993 L 3870 1967 L 4450 1967 L 4450 1993" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3870 1993 L 3870 2027 L 4450 2027 L 4450 1993" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 3870 1993 L 4450 1993" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px">
            <text x="4159.5" y="1984.5">
                Upstream::ClusterInfoImpl
            </text>
        </g>
        <g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-3874-1998-572-26-0)" font-size="12px">
            <text x="3875.5" y="2010.5">
                vector&lt;Http::Protocol&gt; upstreamHttpProtocol(optional&lt;Http::Protocol&gt; downstream_protocol)
            </text>
        </g>
        <path d="M 3870 2023 L 4450 2023" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/>
        <path d="M 4196.18 1993 L 4626.24 1838.45" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="none"/>
        <rect x="4626.24" y="1497" width="703.76" height="430" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 702px; height: 1px; padding-top: 1712px; margin-left: 4628px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                if (downstream_protocol.has_value() &amp;&amp;
                                <br/>
                                features_ &amp; Upstream::ClusterInfo::Features::
                                <font color="#ff3333">
                                    USE_DOWNSTREAM_PROTOCOL
                                </font>
                                ) {
                                <br/>
                                if (downstream_protocol.value() == Http::Protocol::Http3 &amp;&amp;
                                <br/>
                                !(features_ &amp; Upstream::ClusterInfo::Features::HTTP3)) {
                                <br/>
                                return {Http::Protocol::Http2};
                                <br/>
                                }
                                <br/>
                                // use HTTP11 since HTTP10 upstream is not supported yet.
                                <br/>
                                if (downstream_protocol.value() == Http::Protocol::Http10) {
                                <br/>
                                return {Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                return {downstream_protocol.value()};
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (features_ &amp; Upstream::ClusterInfo::Features::
                                <font color="#ff3333">
                                    USE_ALPN
                                </font>
                                ) {
                                <br/>
                                if (!(features_ &amp; Upstream::ClusterInfo::Features::HTTP3)) {
                                <br/>
                                return {Http::Protocol::Http2, Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                return {Http::Protocol::Http3, Http::Protocol::Http2, Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (features_ &amp; Upstream::ClusterInfo::Features::HTTP3) {
                                <br/>
                                return {Http::Protocol::Http3};
                                <br/>
                                }
                                <br/>
                                <br/>
                                return {(features_ &amp; Upstream::ClusterInfo::Features::HTTP2) ? Http::Protocol::Http2
                                <br/>
                                : Http::Protocol::Http11};
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4628" y="1716" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    if (downstream_protocol.has_value() &amp;&amp;...
                </text>
            </switch>
        </g>
        <rect x="5350" y="1837" width="703.76" height="430" fill="#f7f7f7" stroke="none" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 702px; height: 1px; padding-top: 2052px; margin-left: 5352px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                if (downstream_protocol.has_value() &amp;&amp;
                                <br/>
                                features_ &amp; Upstream::ClusterInfo::Features::
                                <font color="#ff3333">
                                    USE_DOWNSTREAM_PROTOCOL
                                </font>
                                ) {
                                <br/>
                                if (downstream_protocol.value() == Http::Protocol::Http3 &amp;&amp;
                                <br/>
                                !(features_ &amp; Upstream::ClusterInfo::Features::HTTP3)) {
                                <br/>
                                return {Http::Protocol::Http2};
                                <br/>
                                }
                                <br/>
                                // use HTTP11 since HTTP10 upstream is not supported yet.
                                <br/>
                                if (downstream_protocol.value() == Http::Protocol::Http10) {
                                <br/>
                                return {Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                return {downstream_protocol.value()};
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (features_ &amp; Upstream::ClusterInfo::Features::
                                <font color="#ff3333">
                                    USE_ALPN
                                </font>
                                ) {
                                <br/>
                                if (!(features_ &amp; Upstream::ClusterInfo::Features::HTTP3)) {
                                <br/>
                                return {Http::Protocol::Http2, Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                return {Http::Protocol::Http3, Http::Protocol::Http2, Http::Protocol::Http11};
                                <br/>
                                }
                                <br/>
                                <br/>
                                if (features_ &amp; Upstream::ClusterInfo::Features::HTTP3) {
                                <br/>
                                return {Http::Protocol::Http3};
                                <br/>
                                }
                                <br/>
                                <br/>
                                return {(features_ &amp; Upstream::ClusterInfo::Features::HTTP2) ? Http::Protocol::Http2
                                <br/>
                                : Http::Protocol::Http11};
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5352" y="2056" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    if (downstream_protocol.has_value() &amp;&amp;...
                </text>
            </switch>
        </g>
        <path d="M 4159.7 2019 L 4124.93 3514.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/>
        <path d="M 4118.71 3502.73 L 4124.91 3515.88 L 4131.71 3503.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2768px; margin-left: 4142px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4142" y="2772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <a xlink:href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/upstreams/http/v3/http_protocol_options.proto#extensions-upstreams-http-v3-httpprotocoloptions">
            <rect x="4270" y="4007" width="1600" height="390" fill="#fff2cc" stroke="none"/>
            <g transform="translate(-0.5 -0.5)">
                <switch>
                    <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                        <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 4202px; margin-left: 4272px;">
                            <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                                <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">
                                    🔗
                                    <u>
                                        extensions.upstreams.http.v3.HttpProtocolOptions
                                    </u>
                                    <br/>
                                    <br/>
                                    <font color="#ff3333">
                                        explicit_http_config
                                    </font>
                                    <br/>
                                    (extensions.upstreams.http.v3.HttpProtocolOptions.ExplicitHttpConfig) To explicitly configure
                                    <font color="#ff3333">
                                        either HTTP/1 or HTTP/2 (but not both!)
                                    </font>
                                    use explicit_http_config. If the explicit_http_config is empty, HTTP/1.1 is used.
                                    <br/>
                                    <br/>
                                    This controls the actual protocol to be used upstream.
                                    <br/>
                                    <br/>
                                    Precisely one of explicit_http_config, use_downstream_protocol_config, auto_config must be set.
                                    <br/>
                                    <br/>
                                    <font color="#ff3333">
                                        use_downstream_protocol_config
                                    </font>
                                    <br/>
                                    (extensions.upstreams.http.v3.HttpProtocolOptions.UseDownstreamHttpConfig) This allows switching on protocol based on what protocol the downstream connection used.
                                    <br/>
                                    <br/>
                                    This controls the actual protocol to be used upstream.
                                    <br/>
                                    <br/>
                                    Precisely one of explicit_http_config, use_downstream_protocol_config, auto_config must be set.
                                    <br/>
                                    <br/>
                                    auto_config
                                    <br/>
                                    (extensions.upstreams.http.v3.HttpProtocolOptions.AutoHttpConfig) This allows switching on protocol based on ALPN
                                    <br/>
                                    <br/>
                                    This controls the actual protocol to be used upstream.
                                    <br/>
                                    <br/>
                                    Precisely one of explicit_http_config, use_downstream_protocol_config, auto_config must be set.
                                </div>
                            </div>
                        </div>
                    </foreignObject>
                    <text x="4272" y="4206" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                        🔗 extensions.upstreams.http.v3.HttpProtocolOptions...
                    </text>
                </switch>
            </g>
        </a>
        <path d="M 4680 4007 L 4540 3937" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6"/>
        <rect x="3385" y="4517" width="1020" height="700" fill="#f0f1f7" stroke="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1018px; height: 1px; padding-top: 4867px; margin-left: 3387px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                apiVersion: networking.istio.io/v1alpha3
                                <br/>
                                kind: EnvoyFilter
                                <br/>
                                metadata:
                                <br/>
                                annotations:
                                <br/>
                                meta.helm.sh/release-name: mycom-myprd-mesh
                                <br/>
                                meta.helm.sh/release-namespace: ns
                                <br/>
                                labels:
                                <br/>
                                app.kubernetes.io/managed-by: Helm
                                <br/>
                                name: mycom-myprd-mesh-preserve-header-case
                                <br/>
                                namespace: ns
                                <br/>
                                spec:
                                <br/>
                                configPatches:
                                <br/>
                                - applyTo: CLUSTER
                                <br/>
                                patch:
                                <br/>
                                operation: MERGE
                                <br/>
                                value:
                                <br/>
                                typed_extension_protocol_options:
                                <br/>
                                envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
                                <br/>
                                <font color="#ff3333">
                                    explicit_http_config:
                                    <br/>
                                    http_protocol_options:
                                </font>
                                <br/>
                                header_key_format:
                                <br/>
                                stateful_formatter:
                                <br/>
                                name: preserve_case
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.http.header_formatters.preserve_case.v3.PreserveCaseFormatterConfig
                                <br/>
                                <br/>
                                - applyTo: NETWORK_FILTER
                                <br/>
                                match:
                                <br/>
                                listener:
                                <br/>
                                filterChain:
                                <br/>
                                filter:
                                <br/>
                                name: envoy.filters.network.http_connection_manager
                                <br/>
                                patch:
                                <br/>
                                operation: MERGE
                                <br/>
                                value:
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
                                <br/>
                                http_protocol_options:
                                <br/>
                                header_key_format:
                                <br/>
                                stateful_formatter:
                                <br/>
                                name: preserve_case
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.http.header_formatters.preserve_case.v3.PreserveCaseFormatterConfig
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3387" y="4871" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    apiVersion: networking.istio.io/v1alpha3...
                </text>
            </switch>
        </g>
        <path d="M 3964.08 4517 L 4078.12 3939.19" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3"/>
        <path d="M 4082.2 3952.11 L 4078.34 3938.1 L 4069.44 3949.59" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4227px; margin-left: 4021px;">
                        <div data-drawio-colors="color: #FF3333; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 51, 51); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Generate:
                                <span style="font-family: &quot;Courier New&quot;; text-align: left; background-color: rgb(251, 251, 251);">
                                    explicit_http_config
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4021" y="4231" fill="#FF3333" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Generate: explicit_http_con...
                </text>
            </switch>
        </g>
        <path d="M 3707.99 2417 L 4144.05 2020.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3"/>
        <path d="M 4139.63 2033.31 L 4144.88 2019.75 L 4130.88 2023.69" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2218px; margin-left: 3926px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3926" y="2222" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Use
                </text>
            </switch>
        </g>
        <path d="M 3036.42 2869 L 3853.03 3515.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3"/>
        <path d="M 3839.68 3513.33 L 3853.91 3516.31 L 3847.75 3503.14" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3193px; margin-left: 3446px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                indirect Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3446" y="3197" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    indirect Use
                </text>
            </switch>
        </g>
        <path d="M 3370 3840.1 L 3607.79 3804.24" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3"/>
        <path d="M 3597.01 3812.44 L 3608.89 3804.07 L 3595.07 3799.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3822px; margin-left: 3490px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                indirect Use
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3490" y="3826" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    indirect Use
                </text>
            </switch>
        </g>
        <rect x="20" y="2372" width="530" height="350" fill="#f7f7f7" stroke="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 528px; height: 1px; padding-top: 2547px; margin-left: 22px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                tcpdump output:
                                <br/>
                                <br/>
                                Transport Layer Security
                                <br/>
                                TLSv1.3 Record Layer: Handshake Protocol: Client Hello
                                <br/>
                                Content Type: Handshake (22)
                                <br/>
                                Version: TLS 1.0 (0x0301)
                                <br/>
                                Length: 2723
                                <br/>
                                Handshake Protocol: Client Hello
                                <br/>
                                Handshake Type: Client Hello (1)
                                <br/>
                                Extension: application_layer_protocol_negotiation (len=32)
                                <br/>
                                Type: application_layer_protocol_negotiation (16)
                                <br/>
                                Length: 32
                                <br/>
                                ALPN Extension Length: 30
                                <br/>
                                ALPN Protocol
                                <br/>
                                <font color="#ff3333">
                                    ALPN string length: 14
                                    <br/>
                                    ALPN Next Protocol: istio-http/1.1
                                    <br/>
                                    ALPN string length: 5
                                    <br/>
                                    ALPN Next Protocol: istio
                                    <br/>
                                    ALPN string length: 8
                                    <br/>
                                    ALPN Next Protocol: http/1.1
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="22" y="2551" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    tcpdump output:...
                </text>
            </switch>
        </g>
        <path d="M 762.1 2837 L 557.04 2712.36" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6"/>
        <path d="M 551.91 2709.24 L 560.82 2709.98 L 557.04 2712.36 L 556.67 2716.81 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2773px; margin-left: 657px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                cause
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="657" y="2776" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="11px" text-anchor="middle">
                    cause
                </text>
            </switch>
        </g>
        <path d="M 3020 2817 L 3020 2684.42" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10"/>
        <path d="M 3024 2689.71 L 3020 2677.71 L 3016 2689.71" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10"/>
        <path d="M 3310 2512.85 L 3433.54 2480.41" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10"/>
        <path d="M 3429.43 2485.62 L 3440.02 2478.7 L 3427.4 2477.88" fill="none" stroke="#3399ff" stroke-width="6" stroke-miterlimit="10"/>
        <rect x="2830" y="617" width="1180" height="860" fill="#f7f7f7" stroke="none"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1178px; height: 1px; padding-top: 1047px; margin-left: 2832px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">
                                <br/>
                                <br/>
                                dynamic_listeners:
                                <br/>
                                <br/>
                                - name: virtualInbound
                                <br/>
                                active_state:
                                <br/>
                                listener:
                                <br/>
                                <br/>
                                '@type': type.googleapis.com/envoy.config.listener.v3.Listener
                                <br/>
                                name: virtualInbound
                                <br/>
                                address:
                                <br/>
                                socket_address:
                                <br/>
                                address: 0.0.0.0
                                <br/>
                                port_value: 15006
                                <br/>
                                <br/>
                                filter_chains:
                                <br/>
                                <br/>
                                - filter_chain_match:
                                <br/>
                                prefix_ranges:
                                <br/>
                                - address_prefix: 0.0.0.0
                                <br/>
                                prefix_len: 0
                                <br/>
                                transport_protocol: tls
                                <br/>
                                application_protocols:
                                <br/>
                                - istio-http/1.0
                                <br/>
                                - istio-http/1.1
                                <br/>
                                - istio-h2
                                <br/>
                                filters:
                                <br/>
                                - name: istio_authn
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/udpa.type.v1.TypedStruct
                                <br/>
                                type_url: type.googleapis.com/io.istio.network.authn.Config
                                <br/>
                                - name: envoy.filters.network.http_connection_manager
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
                                <br/>
                                stat_prefix: InboundPassthroughClusterIpv4
                                <br/>
                                <br/>
                                <br/>
                                transport_socket:
                                <br/>
                                name: envoy.transport_sockets.tls
                                <br/>
                                typed_config:
                                <br/>
                                '@type': type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
                                <br/>
                                common_tls_context:
                                <br/>
                                tls_params:
                                <br/>
                                tls_minimum_protocol_version: TLSv1_2
                                <br/>
                                tls_maximum_protocol_version: TLSv1_3
                                <br/>
                                cipher_suites:
                                <br/>
                                - ECDHE-ECDSA-AES256-GCM-SHA384
                                <br/>
                                - ECDHE-RSA-AES256-GCM-SHA384
                                <br/>
                                - ECDHE-ECDSA-AES128-GCM-SHA256
                                <br/>
                                - ECDHE-RSA-AES128-GCM-SHA256
                                <br/>
                                - AES256-GCM-SHA384
                                <br/>
                                - AES128-GCM-SHA256
                                <br/>
                                alpn_protocols:
                                <br/>
                                - h2
                                <br/>
                                - http/1.1
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2832" y="1051" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="12px">
                    dynamic_listeners:...
                </text>
            </switch>
        </g>
        <path d="M 2736.5 1638.88 L 2923.44 1477" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6"/>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>